/*! For license information please see main.6605e2a7.js.LICENSE.txt */
!function(){var e={5318:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},862:function(e,t,n){var r=n(8).default;function i(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}e.exports=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var s=o?Object.getOwnPropertyDescriptor(e,u):null;s&&(s.get||s.set)?Object.defineProperty(a,u,s):a[u]=e[u]}return a.default=e,n&&n.set(e,a),a},e.exports.__esModule=!0,e.exports.default=e.exports},8:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},2241:function(e,t,n){"use strict";n.d(t,{Z:function(){return Ir}});var r=n(7462),i=n(5987),a=n(2791),o=n(2110),u=n.n(o),s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c="object"===("undefined"===typeof window?"undefined":s(window))&&"object"===("undefined"===typeof document?"undefined":s(document))&&9===document.nodeType,l=n(3144),f=n(9611);function h(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(0,f.Z)(e,t)}var d=n(7326),p=n(3366),v={}.constructor;function y(e){if(null==e||"object"!==typeof e)return e;if(Array.isArray(e))return e.map(y);if(e.constructor!==v)return e;var t={};for(var n in e)t[n]=y(e[n]);return t}function m(e,t,n){void 0===e&&(e="unnamed");var r=n.jss,i=y(t),a=r.plugins.onCreateRule(e,i,n);return a||(e[0],null)}var g=function(e,t){for(var n="",r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=t),n+=e[r];return n},k=function(e,t){if(void 0===t&&(t=!1),!Array.isArray(e))return e;var n="";if(Array.isArray(e[0]))for(var r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=", "),n+=g(e[r]," ");else n=g(e,", ");return t||"!important"!==e[e.length-1]||(n+=" !important"),n};function b(e){return e&&!1===e.format?{linebreak:"",space:""}:{linebreak:"\n",space:" "}}function w(e,t){for(var n="",r=0;r<t;r++)n+="  ";return n+e}function x(e,t,n){void 0===n&&(n={});var r="";if(!t)return r;var i=n.indent,a=void 0===i?0:i,o=t.fallbacks;!1===n.format&&(a=-1/0);var u=b(n),s=u.linebreak,c=u.space;if(e&&a++,o)if(Array.isArray(o))for(var l=0;l<o.length;l++){var f=o[l];for(var h in f){var d=f[h];null!=d&&(r&&(r+=s),r+=w(h+":"+c+k(d)+";",a))}}else for(var p in o){var v=o[p];null!=v&&(r&&(r+=s),r+=w(p+":"+c+k(v)+";",a))}for(var y in t){var m=t[y];null!=m&&"fallbacks"!==y&&(r&&(r+=s),r+=w(y+":"+c+k(m)+";",a))}return(r||n.allowEmpty)&&e?(r&&(r=""+s+r+s),w(""+e+c+"{"+r,--a)+w("}",a)):r}var _=/([[\].#*$><+~=|^:(),"'`\s])/g,S="undefined"!==typeof CSS&&CSS.escape,I=function(e){return S?S(e):e.replace(_,"\\$1")},E=function(){function e(e,t,n){this.type="style",this.isProcessed=!1;var r=n.sheet,i=n.Renderer;this.key=e,this.options=n,this.style=t,r?this.renderer=r.renderer:i&&(this.renderer=new i)}return e.prototype.prop=function(e,t,n){if(void 0===t)return this.style[e];var r=!!n&&n.force;if(!r&&this.style[e]===t)return this;var i=t;n&&!1===n.process||(i=this.options.jss.plugins.onChangeValue(t,e,this));var a=null==i||!1===i,o=e in this.style;if(a&&!o&&!r)return this;var u=a&&o;if(u?delete this.style[e]:this.style[e]=i,this.renderable&&this.renderer)return u?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,i),this;var s=this.options.sheet;return s&&s.attached,this},e}(),T=function(e){function t(t,n,r){var i;i=e.call(this,t,n,r)||this;var a=r.selector,o=r.scoped,u=r.sheet,s=r.generateId;return a?i.selectorText=a:!1!==o&&(i.id=s((0,d.Z)((0,d.Z)(i)),u),i.selectorText="."+I(i.id)),i}h(t,e);var n=t.prototype;return n.applyTo=function(e){var t=this.renderer;if(t){var n=this.toJSON();for(var r in n)t.setProperty(e,r,n[r])}return this},n.toJSON=function(){var e={};for(var t in this.style){var n=this.style[t];"object"!==typeof n?e[t]=n:Array.isArray(n)&&(e[t]=k(n))}return e},n.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?(0,r.Z)({},e,{allowEmpty:!0}):e;return x(this.selectorText,this.style,n)},(0,l.Z)(t,[{key:"selector",set:function(e){if(e!==this.selectorText){this.selectorText=e;var t=this.renderer,n=this.renderable;if(n&&t)t.setSelector(n,e)||t.replaceRule(n,this)}},get:function(){return this.selectorText}}]),t}(E),C={onCreateRule:function(e,t,n){return"@"===e[0]||n.parent&&"keyframes"===n.parent.type?null:new T(e,t,n)}},A={indent:1,children:!0},R=/@([\w-]+)/,N=function(){function e(e,t,n){this.type="conditional",this.isProcessed=!1,this.key=e;var i=e.match(R);for(var a in this.at=i?i[1]:"unknown",this.query=n.name||"@"+this.at,this.options=n,this.rules=new te((0,r.Z)({},n,{parent:this})),t)this.rules.add(a,t[a]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.indexOf=function(e){return this.rules.indexOf(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r?(this.options.jss.plugins.onProcessRule(r),r):null},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.toString=function(e){void 0===e&&(e=A);var t=b(e).linebreak;if(null==e.indent&&(e.indent=A.indent),null==e.children&&(e.children=A.children),!1===e.children)return this.query+" {}";var n=this.rules.toString(e);return n?this.query+" {"+t+n+t+"}":""},e}(),P=/@media|@supports\s+/,O={onCreateRule:function(e,t,n){return P.test(e)?new N(e,t,n):null}},D={indent:1,children:!0},L=/@keyframes\s+([\w-]+)/,M=function(){function e(e,t,n){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var i=e.match(L);i&&i[1]?this.name=i[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var a=n.scoped,o=n.sheet,u=n.generateId;for(var s in this.id=!1===a?this.name:I(u(this,o)),this.rules=new te((0,r.Z)({},n,{parent:this})),t)this.rules.add(s,t[s],(0,r.Z)({},n,{parent:this}));this.rules.process()}return e.prototype.toString=function(e){void 0===e&&(e=D);var t=b(e).linebreak;if(null==e.indent&&(e.indent=D.indent),null==e.children&&(e.children=D.children),!1===e.children)return this.at+" "+this.id+" {}";var n=this.rules.toString(e);return n&&(n=""+t+n+t),this.at+" "+this.id+" {"+n+"}"},e}(),F=/@keyframes\s+/,U=/\$([\w-]+)/g,V=function(e,t){return"string"===typeof e?e.replace(U,(function(e,n){return n in t?t[n]:e})):e},j=function(e,t,n){var r=e[t],i=V(r,n);i!==r&&(e[t]=i)},Z={onCreateRule:function(e,t,n){return"string"===typeof e&&F.test(e)?new M(e,t,n):null},onProcessStyle:function(e,t,n){return"style"===t.type&&n?("animation-name"in e&&j(e,"animation-name",n.keyframes),"animation"in e&&j(e,"animation",n.keyframes),e):e},onChangeValue:function(e,t,n){var r=n.options.sheet;if(!r)return e;switch(t){case"animation":case"animation-name":return V(e,r.keyframes);default:return e}}},z=function(e){function t(){return e.apply(this,arguments)||this}return h(t,e),t.prototype.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?(0,r.Z)({},e,{allowEmpty:!0}):e;return x(this.key,this.style,n)},t}(E),B={onCreateRule:function(e,t,n){return n.parent&&"keyframes"===n.parent.type?new z(e,t,n):null}},q=function(){function e(e,t,n){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){var t=b(e).linebreak;if(Array.isArray(this.style)){for(var n="",r=0;r<this.style.length;r++)n+=x(this.at,this.style[r]),this.style[r+1]&&(n+=t);return n}return x(this.at,this.style,e)},e}(),W=/@font-face/,K={onCreateRule:function(e,t,n){return W.test(e)?new q(e,t,n):null}},G=function(){function e(e,t,n){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){return x(this.key,this.style,e)},e}(),H={onCreateRule:function(e,t,n){return"@viewport"===e||"@-ms-viewport"===e?new G(e,t,n):null}},Q=function(){function e(e,t,n){this.type="simple",this.isProcessed=!1,this.key=e,this.value=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.value)){for(var t="",n=0;n<this.value.length;n++)t+=this.key+" "+this.value[n]+";",this.value[n+1]&&(t+="\n");return t}return this.key+" "+this.value+";"},e}(),$={"@charset":!0,"@import":!0,"@namespace":!0},Y={onCreateRule:function(e,t,n){return e in $?new Q(e,t,n):null}},X=[C,O,Z,B,K,H,Y],J={process:!0},ee={force:!0,process:!0},te=function(){function e(e){this.map={},this.raw={},this.index=[],this.counter=0,this.options=e,this.classes=e.classes,this.keyframes=e.keyframes}var t=e.prototype;return t.add=function(e,t,n){var i=this.options,a=i.parent,o=i.sheet,u=i.jss,s=i.Renderer,c=i.generateId,l=i.scoped,f=(0,r.Z)({classes:this.classes,parent:a,sheet:o,jss:u,Renderer:s,generateId:c,scoped:l,name:e,keyframes:this.keyframes,selector:void 0},n),h=e;e in this.raw&&(h=e+"-d"+this.counter++),this.raw[h]=t,h in this.classes&&(f.selector="."+I(this.classes[h]));var d=m(h,t,f);if(!d)return null;this.register(d);var p=void 0===f.index?this.index.length:f.index;return this.index.splice(p,0,d),d},t.replace=function(e,t,n){var i=this.get(e),a=this.index.indexOf(i);i&&this.remove(i);var o=n;return-1!==a&&(o=(0,r.Z)({},n,{index:a})),this.add(e,t,o)},t.get=function(e){return this.map[e]},t.remove=function(e){this.unregister(e),delete this.raw[e.key],this.index.splice(this.index.indexOf(e),1)},t.indexOf=function(e){return this.index.indexOf(e)},t.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},t.register=function(e){this.map[e.key]=e,e instanceof T?(this.map[e.selector]=e,e.id&&(this.classes[e.key]=e.id)):e instanceof M&&this.keyframes&&(this.keyframes[e.name]=e.id)},t.unregister=function(e){delete this.map[e.key],e instanceof T?(delete this.map[e.selector],delete this.classes[e.key]):e instanceof M&&delete this.keyframes[e.name]},t.update=function(){var e,t,n;if("string"===typeof(arguments.length<=0?void 0:arguments[0])?(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],e=null),e)this.updateOne(this.get(e),t,n);else for(var r=0;r<this.index.length;r++)this.updateOne(this.index[r],t,n)},t.updateOne=function(t,n,r){void 0===r&&(r=J);var i=this.options,a=i.jss.plugins,o=i.sheet;if(t.rules instanceof e)t.rules.update(n,r);else{var u=t.style;if(a.onUpdate(n,t,o,r),r.process&&u&&u!==t.style){for(var s in a.onProcessStyle(t.style,t,o),t.style){var c=t.style[s];c!==u[s]&&t.prop(s,c,ee)}for(var l in u){var f=t.style[l],h=u[l];null==f&&f!==h&&t.prop(l,null,ee)}}}},t.toString=function(e){for(var t="",n=this.options.sheet,r=!!n&&n.options.link,i=b(e).linebreak,a=0;a<this.index.length;a++){var o=this.index[a].toString(e);(o||r)&&(t&&(t+=i),t+=o)}return t},e}(),ne=function(){function e(e,t){for(var n in this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=(0,r.Z)({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),t.Renderer&&(this.renderer=new t.Renderer(this)),this.rules=new te(this.options),e)this.rules.add(n,e[n]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(e,t,n){var r=this.queue;this.attached&&!r&&(this.queue=[]);var i=this.rules.add(e,t,n);return i?(this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(r?r.push(i):(this.insertRule(i),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),i):i:(this.deployed=!1,i)):null},t.replaceRule=function(e,t,n){var r=this.rules.get(e);if(!r)return this.addRule(e,t,n);var i=this.rules.replace(e,t,n);return i&&this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(this.renderer&&(i?r.renderable&&this.renderer.replaceRule(r.renderable,i):this.renderer.deleteRule(r)),i):i:(this.deployed=!1,i)},t.insertRule=function(e){this.renderer&&this.renderer.insertRule(e)},t.addRules=function(e,t){var n=[];for(var r in e){var i=this.addRule(r,e[r],t);i&&n.push(i)}return n},t.getRule=function(e){return this.rules.get(e)},t.deleteRule=function(e){var t="object"===typeof e?e:this.rules.get(e);return!(!t||this.attached&&!t.renderable)&&(this.rules.remove(t),!(this.attached&&t.renderable&&this.renderer)||this.renderer.deleteRule(t.renderable))},t.indexOf=function(e){return this.rules.indexOf(e)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var e;return(e=this.rules).update.apply(e,arguments),this},t.updateOne=function(e,t,n){return this.rules.updateOne(e,t,n),this},t.toString=function(e){return this.rules.toString(e)},e}(),re=function(){function e(){this.plugins={internal:[],external:[]},this.registry={}}var t=e.prototype;return t.onCreateRule=function(e,t,n){for(var r=0;r<this.registry.onCreateRule.length;r++){var i=this.registry.onCreateRule[r](e,t,n);if(i)return i}return null},t.onProcessRule=function(e){if(!e.isProcessed){for(var t=e.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}},t.onProcessStyle=function(e,t,n){for(var r=0;r<this.registry.onProcessStyle.length;r++)t.style=this.registry.onProcessStyle[r](t.style,t,n)},t.onProcessSheet=function(e){for(var t=0;t<this.registry.onProcessSheet.length;t++)this.registry.onProcessSheet[t](e)},t.onUpdate=function(e,t,n,r){for(var i=0;i<this.registry.onUpdate.length;i++)this.registry.onUpdate[i](e,t,n,r)},t.onChangeValue=function(e,t,n){for(var r=e,i=0;i<this.registry.onChangeValue.length;i++)r=this.registry.onChangeValue[i](r,t,n);return r},t.use=function(e,t){void 0===t&&(t={queue:"external"});var n=this.plugins[t.queue];-1===n.indexOf(e)&&(n.push(e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(e,t){for(var n in t)n in e&&e[n].push(t[n]);return e}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),ie=function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(e){var t=this.registry,n=e.options.index;if(-1===t.indexOf(e))if(0===t.length||n>=this.index)t.push(e);else for(var r=0;r<t.length;r++)if(t[r].options.index>n)return void t.splice(r,0,e)},t.reset=function(){this.registry=[]},t.remove=function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)},t.toString=function(e){for(var t=void 0===e?{}:e,n=t.attached,r=(0,p.Z)(t,["attached"]),i=b(r).linebreak,a="",o=0;o<this.registry.length;o++){var u=this.registry[o];null!=n&&u.attached!==n||(a&&(a+=i),a+=u.toString(r))}return a},(0,l.Z)(e,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}(),ae=new ie,oe="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window&&window.Math===Math?window:"undefined"!==typeof self&&self.Math===Math?self:Function("return this")(),ue="2f1acc6c3a606b082e5eef5e54414ffb";null==oe[ue]&&(oe[ue]=0);var se=oe[ue]++,ce=function(e){void 0===e&&(e={});var t=0;return function(n,r){t+=1;var i="",a="";return r&&(r.options.classNamePrefix&&(a=r.options.classNamePrefix),null!=r.options.jss.id&&(i=String(r.options.jss.id))),e.minify?""+(a||"c")+se+i+t:a+n.key+"-"+se+(i?"-"+i:"")+"-"+t}},le=function(e){var t;return function(){return t||(t=e()),t}},fe=function(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch(n){return""}},he=function(e,t,n){try{var r=n;if(Array.isArray(n)&&(r=k(n,!0),"!important"===n[n.length-1]))return e.style.setProperty(t,r,"important"),!0;e.attributeStyleMap?e.attributeStyleMap.set(t,r):e.style.setProperty(t,r)}catch(i){return!1}return!0},de=function(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(n){}},pe=function(e,t){return e.selectorText=t,e.selectorText===t},ve=le((function(){return document.querySelector("head")}));function ye(e){var t=ae.registry;if(t.length>0){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if(n=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.attached&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e),n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=e.insertionPoint;if(r&&"string"===typeof r){var i=function(e){for(var t=ve(),n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(8===r.nodeType&&r.nodeValue.trim()===e)return r}return null}(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}var me=le((function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null})),ge=function(e,t,n){try{"insertRule"in e?e.insertRule(t,n):"appendRule"in e&&e.appendRule(t)}catch(r){return!1}return e.cssRules[n]},ke=function(e,t){var n=e.cssRules.length;return void 0===t||t>n?n:t},be=function(){function e(e){this.getPropertyValue=fe,this.setProperty=he,this.removeProperty=de,this.setSelector=pe,this.hasInsertedRules=!1,this.cssRules=[],e&&ae.add(e),this.sheet=e;var t=this.sheet?this.sheet.options:{},n=t.media,r=t.meta,i=t.element;this.element=i||function(){var e=document.createElement("style");return e.textContent="\n",e}(),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),r&&this.element.setAttribute("data-meta",r);var a=me();a&&this.element.setAttribute("nonce",a)}var t=e.prototype;return t.attach=function(){if(!this.element.parentNode&&this.sheet){!function(e,t){var n=t.insertionPoint,r=ye(t);if(!1!==r&&r.parent)r.parent.insertBefore(e,r.node);else if(n&&"number"===typeof n.nodeType){var i=n,a=i.parentNode;a&&a.insertBefore(e,i.nextSibling)}else ve().appendChild(e)}(this.element,this.sheet.options);var e=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&e&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){if(this.sheet){var e=this.element.parentNode;e&&e.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},t.deploy=function(){var e=this.sheet;e&&(e.options.link?this.insertRules(e.rules):this.element.textContent="\n"+e.toString()+"\n")},t.insertRules=function(e,t){for(var n=0;n<e.index.length;n++)this.insertRule(e.index[n],n,t)},t.insertRule=function(e,t,n){if(void 0===n&&(n=this.element.sheet),e.rules){var r=e,i=n;if("conditional"===e.type||"keyframes"===e.type){var a=ke(n,t);if(!1===(i=ge(n,r.toString({children:!1}),a)))return!1;this.refCssRule(e,a,i)}return this.insertRules(r.rules,i),i}var o=e.toString();if(!o)return!1;var u=ke(n,t),s=ge(n,o,u);return!1!==s&&(this.hasInsertedRules=!0,this.refCssRule(e,u,s),s)},t.refCssRule=function(e,t,n){e.renderable=n,e.options.parent instanceof ne&&this.cssRules.splice(t,0,n)},t.deleteRule=function(e){var t=this.element.sheet,n=this.indexOf(e);return-1!==n&&(t.deleteRule(n),this.cssRules.splice(n,1),!0)},t.indexOf=function(e){return this.cssRules.indexOf(e)},t.replaceRule=function(e,t){var n=this.indexOf(e);return-1!==n&&(this.element.sheet.deleteRule(n),this.cssRules.splice(n,1),this.insertRule(t,n))},t.getRules=function(){return this.element.sheet.cssRules},e}(),we=0,xe=function(){function e(e){this.id=we++,this.version="10.9.0",this.plugins=new re,this.options={id:{minify:!1},createGenerateId:ce,Renderer:c?be:null,plugins:[]},this.generateId=ce({minify:!1});for(var t=0;t<X.length;t++)this.plugins.use(X[t],{queue:"internal"});this.setup(e)}var t=e.prototype;return t.setup=function(e){return void 0===e&&(e={}),e.createGenerateId&&(this.options.createGenerateId=e.createGenerateId),e.id&&(this.options.id=(0,r.Z)({},this.options.id,e.id)),(e.createGenerateId||e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),"Renderer"in e&&(this.options.Renderer=e.Renderer),e.plugins&&this.use.apply(this,e.plugins),this},t.createStyleSheet=function(e,t){void 0===t&&(t={});var n=t.index;"number"!==typeof n&&(n=0===ae.index?0:ae.index+1);var i=new ne(e,(0,r.Z)({},t,{jss:this,generateId:t.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(i),i},t.removeStyleSheet=function(e){return e.detach(),ae.remove(e),this},t.createRule=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),"object"===typeof e)return this.createRule(void 0,e,t);var i=(0,r.Z)({},n,{name:e,jss:this,Renderer:this.options.Renderer});i.generateId||(i.generateId=this.generateId),i.classes||(i.classes={}),i.keyframes||(i.keyframes={});var a=m(e,t,i);return a&&this.plugins.onProcessRule(a),a},t.use=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){e.plugins.use(t)})),this},e}(),_e=function(e){return new xe(e)},Se="object"===typeof CSS&&null!=CSS&&"number"in CSS;function Ie(e){var t=null;for(var n in e){var r=e[n],i=typeof r;if("function"===i)t||(t={}),t[n]=r;else if("object"===i&&null!==r&&!Array.isArray(r)){var a=Ie(r);a&&(t||(t={}),t[n]=a)}}return t}_e();function Ee(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.baseClasses,n=e.newClasses;e.Component;if(!n)return t;var i=(0,r.Z)({},t);return Object.keys(n).forEach((function(e){n[e]&&(i[e]="".concat(t[e]," ").concat(n[e]))})),i}var Te={set:function(e,t,n,r){var i=e.get(t);i||(i=new Map,e.set(t,i)),i.set(n,r)},get:function(e,t,n){var r=e.get(t);return r?r.get(n):void 0},delete:function(e,t,n){e.get(t).delete(n)}},Ce=Te;var Ae=a.createContext(null);function Re(){return a.useContext(Ae)}var Ne="function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__",Pe=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];var Oe=Date.now(),De="fnValues"+Oe,Le="fnStyle"+ ++Oe,Me=function(){return{onCreateRule:function(e,t,n){if("function"!==typeof t)return null;var r=m(e,{},n);return r[Le]=t,r},onProcessStyle:function(e,t){if(De in t||Le in t)return e;var n={};for(var r in e){var i=e[r];"function"===typeof i&&(delete e[r],n[r]=i)}return t[De]=n,e},onUpdate:function(e,t,n,r){var i=t,a=i[Le];a&&(i.style=a(e)||{});var o=i[De];if(o)for(var u in o)i.prop(u,o[u](e),r)}}},Fe="@global",Ue="@global ",Ve=function(){function e(e,t,n){for(var i in this.type="global",this.at=Fe,this.isProcessed=!1,this.key=e,this.options=n,this.rules=new te((0,r.Z)({},n,{parent:this})),t)this.rules.add(i,t[i]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.indexOf=function(e){return this.rules.indexOf(e)},t.toString=function(e){return this.rules.toString(e)},e}(),je=function(){function e(e,t,n){this.type="global",this.at=Fe,this.isProcessed=!1,this.key=e,this.options=n;var i=e.substr(Ue.length);this.rule=n.jss.createRule(i,t,(0,r.Z)({},n,{parent:this}))}return e.prototype.toString=function(e){return this.rule?this.rule.toString(e):""},e}(),Ze=/\s*,\s*/g;function ze(e,t){for(var n=e.split(Ze),r="",i=0;i<n.length;i++)r+=t+" "+n[i].trim(),n[i+1]&&(r+=", ");return r}var Be=function(){return{onCreateRule:function(e,t,n){if(!e)return null;if(e===Fe)return new Ve(e,t,n);if("@"===e[0]&&e.substr(0,Ue.length)===Ue)return new je(e,t,n);var r=n.parent;return r&&("global"===r.type||r.options.parent&&"global"===r.options.parent.type)&&(n.scoped=!1),n.selector||!1!==n.scoped||(n.selector=e),null},onProcessRule:function(e,t){"style"===e.type&&t&&(function(e,t){var n=e.options,i=e.style,a=i?i[Fe]:null;if(a){for(var o in a)t.addRule(o,a[o],(0,r.Z)({},n,{selector:ze(o,e.selector)}));delete i[Fe]}}(e,t),function(e,t){var n=e.options,i=e.style;for(var a in i)if("@"===a[0]&&a.substr(0,Fe.length)===Fe){var o=ze(a.substr(Fe.length),e.selector);t.addRule(o,i[a],(0,r.Z)({},n,{selector:o})),delete i[a]}}(e,t))}}},qe=/\s*,\s*/g,We=/&/g,Ke=/\$([\w-]+)/g;var Ge=function(){function e(e,t){return function(n,r){var i=e.getRule(r)||t&&t.getRule(r);return i?i.selector:r}}function t(e,t){for(var n=t.split(qe),r=e.split(qe),i="",a=0;a<n.length;a++)for(var o=n[a],u=0;u<r.length;u++){var s=r[u];i&&(i+=", "),i+=-1!==s.indexOf("&")?s.replace(We,o):o+" "+s}return i}function n(e,t,n){if(n)return(0,r.Z)({},n,{index:n.index+1});var i=e.options.nestingLevel;i=void 0===i?1:i+1;var a=(0,r.Z)({},e.options,{nestingLevel:i,index:t.indexOf(e)+1});return delete a.name,a}return{onProcessStyle:function(i,a,o){if("style"!==a.type)return i;var u,s,c=a,l=c.options.parent;for(var f in i){var h=-1!==f.indexOf("&"),d="@"===f[0];if(h||d){if(u=n(c,l,u),h){var p=t(f,c.selector);s||(s=e(l,o)),p=p.replace(Ke,s);var v=c.key+"-"+f;"replaceRule"in l?l.replaceRule(v,i[f],(0,r.Z)({},u,{selector:p})):l.addRule(v,i[f],(0,r.Z)({},u,{selector:p}))}else d&&l.addRule(f,{},u).addRule(c.key,i[f],{selector:c.selector});delete i[f]}}return i}}},He=/[A-Z]/g,Qe=/^ms-/,$e={};function Ye(e){return"-"+e.toLowerCase()}var Xe=function(e){if($e.hasOwnProperty(e))return $e[e];var t=e.replace(He,Ye);return $e[e]=Qe.test(t)?"-"+t:t};function Je(e){var t={};for(var n in e){t[0===n.indexOf("--")?n:Xe(n)]=e[n]}return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(Je):t.fallbacks=Je(e.fallbacks)),t}var et=function(){return{onProcessStyle:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=Je(e[t]);return e}return Je(e)},onChangeValue:function(e,t,n){if(0===t.indexOf("--"))return e;var r=Xe(t);return t===r?e:(n.prop(r,e),null)}}},tt=Se&&CSS?CSS.px:"px",nt=Se&&CSS?CSS.ms:"ms",rt=Se&&CSS?CSS.percent:"%";function it(e){var t=/(-[a-z])/g,n=function(e){return e[1].toUpperCase()},r={};for(var i in e)r[i]=e[i],r[i.replace(t,n)]=e[i];return r}var at=it({"animation-delay":nt,"animation-duration":nt,"background-position":tt,"background-position-x":tt,"background-position-y":tt,"background-size":tt,border:tt,"border-bottom":tt,"border-bottom-left-radius":tt,"border-bottom-right-radius":tt,"border-bottom-width":tt,"border-left":tt,"border-left-width":tt,"border-radius":tt,"border-right":tt,"border-right-width":tt,"border-top":tt,"border-top-left-radius":tt,"border-top-right-radius":tt,"border-top-width":tt,"border-width":tt,"border-block":tt,"border-block-end":tt,"border-block-end-width":tt,"border-block-start":tt,"border-block-start-width":tt,"border-block-width":tt,"border-inline":tt,"border-inline-end":tt,"border-inline-end-width":tt,"border-inline-start":tt,"border-inline-start-width":tt,"border-inline-width":tt,"border-start-start-radius":tt,"border-start-end-radius":tt,"border-end-start-radius":tt,"border-end-end-radius":tt,margin:tt,"margin-bottom":tt,"margin-left":tt,"margin-right":tt,"margin-top":tt,"margin-block":tt,"margin-block-end":tt,"margin-block-start":tt,"margin-inline":tt,"margin-inline-end":tt,"margin-inline-start":tt,padding:tt,"padding-bottom":tt,"padding-left":tt,"padding-right":tt,"padding-top":tt,"padding-block":tt,"padding-block-end":tt,"padding-block-start":tt,"padding-inline":tt,"padding-inline-end":tt,"padding-inline-start":tt,"mask-position-x":tt,"mask-position-y":tt,"mask-size":tt,height:tt,width:tt,"min-height":tt,"max-height":tt,"min-width":tt,"max-width":tt,bottom:tt,left:tt,top:tt,right:tt,inset:tt,"inset-block":tt,"inset-block-end":tt,"inset-block-start":tt,"inset-inline":tt,"inset-inline-end":tt,"inset-inline-start":tt,"box-shadow":tt,"text-shadow":tt,"column-gap":tt,"column-rule":tt,"column-rule-width":tt,"column-width":tt,"font-size":tt,"font-size-delta":tt,"letter-spacing":tt,"text-decoration-thickness":tt,"text-indent":tt,"text-stroke":tt,"text-stroke-width":tt,"word-spacing":tt,motion:tt,"motion-offset":tt,outline:tt,"outline-offset":tt,"outline-width":tt,perspective:tt,"perspective-origin-x":rt,"perspective-origin-y":rt,"transform-origin":rt,"transform-origin-x":rt,"transform-origin-y":rt,"transform-origin-z":rt,"transition-delay":nt,"transition-duration":nt,"vertical-align":tt,"flex-basis":tt,"shape-margin":tt,size:tt,gap:tt,grid:tt,"grid-gap":tt,"row-gap":tt,"grid-row-gap":tt,"grid-column-gap":tt,"grid-template-rows":tt,"grid-template-columns":tt,"grid-auto-rows":tt,"grid-auto-columns":tt,"box-shadow-x":tt,"box-shadow-y":tt,"box-shadow-blur":tt,"box-shadow-spread":tt,"font-line-height":tt,"text-shadow-x":tt,"text-shadow-y":tt,"text-shadow-blur":tt});function ot(e,t,n){if(null==t)return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=ot(e,t[r],n);else if("object"===typeof t)if("fallbacks"===e)for(var i in t)t[i]=ot(i,t[i],n);else for(var a in t)t[a]=ot(e+"-"+a,t[a],n);else if("number"===typeof t&&!1===isNaN(t)){var o=n[e]||at[e];return!o||0===t&&o===tt?t.toString():"function"===typeof o?o(t).toString():""+t+o}return t}var ut=function(e){void 0===e&&(e={});var t=it(e);return{onProcessStyle:function(e,n){if("style"!==n.type)return e;for(var r in e)e[r]=ot(r,e[r],t);return e},onChangeValue:function(e,n){return ot(n,e,t)}}},st=n(3433),ct="",lt="",ft="",ht="",dt=c&&"ontouchstart"in document.documentElement;if(c){var pt={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},vt=document.createElement("p").style;for(var yt in pt)if(yt+"Transform"in vt){ct=yt,lt=pt[yt];break}"Webkit"===ct&&"msHyphens"in vt&&(ct="ms",lt=pt.ms,ht="edge"),"Webkit"===ct&&"-apple-trailing-word"in vt&&(ft="apple")}var mt=ct,gt=lt,kt=ft,bt=ht,wt=dt;var xt={noPrefill:["appearance"],supportedProperty:function(e){return"appearance"===e&&("ms"===mt?"-webkit-"+e:gt+e)}},_t={noPrefill:["color-adjust"],supportedProperty:function(e){return"color-adjust"===e&&("Webkit"===mt?gt+"print-"+e:e)}},St=/[-\s]+(.)?/g;function It(e,t){return t?t.toUpperCase():""}function Et(e){return e.replace(St,It)}function Tt(e){return Et("-"+e)}var Ct,At={noPrefill:["mask"],supportedProperty:function(e,t){if(!/^mask/.test(e))return!1;if("Webkit"===mt){var n="mask-image";if(Et(n)in t)return e;if(mt+Tt(n)in t)return gt+e}return e}},Rt={noPrefill:["text-orientation"],supportedProperty:function(e){return"text-orientation"===e&&("apple"!==kt||wt?e:gt+e)}},Nt={noPrefill:["transform"],supportedProperty:function(e,t,n){return"transform"===e&&(n.transform?e:gt+e)}},Pt={noPrefill:["transition"],supportedProperty:function(e,t,n){return"transition"===e&&(n.transition?e:gt+e)}},Ot={noPrefill:["writing-mode"],supportedProperty:function(e){return"writing-mode"===e&&("Webkit"===mt||"ms"===mt&&"edge"!==bt?gt+e:e)}},Dt={noPrefill:["user-select"],supportedProperty:function(e){return"user-select"===e&&("Moz"===mt||"ms"===mt||"apple"===kt?gt+e:e)}},Lt={supportedProperty:function(e,t){return!!/^break-/.test(e)&&("Webkit"===mt?"WebkitColumn"+Tt(e)in t&&gt+"column-"+e:"Moz"===mt&&("page"+Tt(e)in t&&"page-"+e))}},Mt={supportedProperty:function(e,t){if(!/^(border|margin|padding)-inline/.test(e))return!1;if("Moz"===mt)return e;var n=e.replace("-inline","");return mt+Tt(n)in t&&gt+n}},Ft={supportedProperty:function(e,t){return Et(e)in t&&e}},Ut={supportedProperty:function(e,t){var n=Tt(e);return"-"===e[0]||"-"===e[0]&&"-"===e[1]?e:mt+n in t?gt+e:"Webkit"!==mt&&"Webkit"+n in t&&"-webkit-"+e}},Vt={supportedProperty:function(e){return"scroll-snap"===e.substring(0,11)&&("ms"===mt?""+gt+e:e)}},jt={supportedProperty:function(e){return"overscroll-behavior"===e&&("ms"===mt?gt+"scroll-chaining":e)}},Zt={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},zt={supportedProperty:function(e,t){var n=Zt[e];return!!n&&(mt+Tt(n)in t&&gt+n)}},Bt={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},qt=Object.keys(Bt),Wt=function(e){return gt+e},Kt={supportedProperty:function(e,t,n){var r=n.multiple;if(qt.indexOf(e)>-1){var i=Bt[e];if(!Array.isArray(i))return mt+Tt(i)in t&&gt+i;if(!r)return!1;for(var a=0;a<i.length;a++)if(!(mt+Tt(i[0])in t))return!1;return i.map(Wt)}return!1}},Gt=[xt,_t,At,Rt,Nt,Pt,Ot,Dt,Lt,Mt,Ft,Ut,Vt,jt,zt,Kt],Ht=Gt.filter((function(e){return e.supportedProperty})).map((function(e){return e.supportedProperty})),Qt=Gt.filter((function(e){return e.noPrefill})).reduce((function(e,t){return e.push.apply(e,(0,st.Z)(t.noPrefill)),e}),[]),$t={};if(c){Ct=document.createElement("p");var Yt=window.getComputedStyle(document.documentElement,"");for(var Xt in Yt)isNaN(Xt)||($t[Yt[Xt]]=Yt[Xt]);Qt.forEach((function(e){return delete $t[e]}))}function Jt(e,t){if(void 0===t&&(t={}),!Ct)return e;if(null!=$t[e])return $t[e];"transition"!==e&&"transform"!==e||(t[e]=e in Ct.style);for(var n=0;n<Ht.length&&($t[e]=Ht[n](e,Ct.style,t),!$t[e]);n++);try{Ct.style[e]=""}catch(r){return!1}return $t[e]}var en,tn={},nn={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},rn=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function an(e,t,n){if("var"===t)return"var";if("all"===t)return"all";if("all"===n)return", all";var r=t?Jt(t):", "+Jt(n);return r||(t||n)}function on(e,t){var n=t;if(!en||"content"===e)return t;if("string"!==typeof n||!isNaN(parseInt(n,10)))return n;var r=e+n;if(null!=tn[r])return tn[r];try{en.style[e]=n}catch(i){return tn[r]=!1,!1}if(nn[e])n=n.replace(rn,an);else if(""===en.style[e]&&("-ms-flex"===(n=gt+n)&&(en.style[e]="-ms-flexbox"),en.style[e]=n,""===en.style[e]))return tn[r]=!1,!1;return en.style[e]="",tn[r]=n,tn[r]}c&&(en=document.createElement("p"));var un=function(){function e(t){for(var n in t){var r=t[n];if("fallbacks"===n&&Array.isArray(r))t[n]=r.map(e);else{var i=!1,a=Jt(n);a&&a!==n&&(i=!0);var o=!1,u=on(a,k(r));u&&u!==r&&(o=!0),(i||o)&&(i&&delete t[n],t[a||n]=u||r)}}return t}return{onProcessRule:function(e){if("keyframes"===e.type){var t=e;t.at=function(e){return"-"===e[1]||"ms"===mt?e:"@"+gt+"keyframes"+e.substr(10)}(t.at)}},onProcessStyle:function(t,n){return"style"!==n.type?t:e(t)},onChangeValue:function(e,t){return on(t,k(e))||e}}};var sn=function(){var e=function(e,t){return e.length===t.length?e>t?1:-1:e.length-t.length};return{onProcessStyle:function(t,n){if("style"!==n.type)return t;for(var r={},i=Object.keys(t).sort(e),a=0;a<i.length;a++)r[i[a]]=t[i[a]];return r}}};var cn=_e({plugins:[Me(),Be(),Ge(),et(),ut(),"undefined"===typeof window?null:un(),sn()]}),ln=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disableGlobal,n=void 0!==t&&t,r=e.productionPrefix,i=void 0===r?"jss":r,a=e.seed,o=void 0===a?"":a,u=""===o?"":"".concat(o,"-"),s=0,c=function(){return s+=1};return function(e,t){var r=t.options.name;if(r&&0===r.indexOf("Mui")&&!t.options.link&&!n){if(-1!==Pe.indexOf(e.key))return"Mui-".concat(e.key);var a="".concat(u).concat(r,"-").concat(e.key);return t.options.theme[Ne]&&""===o?"".concat(a,"-").concat(c()):a}return"".concat(u).concat(i).concat(c())}}(),fn={disableGeneration:!1,generateClassName:ln,jss:cn,sheetsCache:null,sheetsManager:new Map,sheetsRegistry:null},hn=a.createContext(fn);var dn=-1e9;function pn(){return dn+=1}var vn=n(1002);function yn(e){return e&&"object"===(0,vn.Z)(e)&&e.constructor===Object}function mn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},i=n.clone?(0,r.Z)({},e):e;return yn(e)&&yn(t)&&Object.keys(t).forEach((function(r){"__proto__"!==r&&(yn(t[r])&&r in e?i[r]=mn(e[r],t[r],n):i[r]=t[r])})),i}function gn(e){var t="function"===typeof e;return{create:function(n,i){var a;try{a=t?e(n):e}catch(s){throw s}if(!i||!n.overrides||!n.overrides[i])return a;var o=n.overrides[i],u=(0,r.Z)({},a);return Object.keys(o).forEach((function(e){u[e]=mn(u[e],o[e])})),u},options:{}}}var kn={};function bn(e,t,n){var r=e.state;if(e.stylesOptions.disableGeneration)return t||{};r.cacheClasses||(r.cacheClasses={value:null,lastProp:null,lastJSS:{}});var i=!1;return r.classes!==r.cacheClasses.lastJSS&&(r.cacheClasses.lastJSS=r.classes,i=!0),t!==r.cacheClasses.lastProp&&(r.cacheClasses.lastProp=t,i=!0),i&&(r.cacheClasses.value=Ee({baseClasses:r.cacheClasses.lastJSS,newClasses:t,Component:n})),r.cacheClasses.value}function wn(e,t){var n=e.state,i=e.theme,a=e.stylesOptions,o=e.stylesCreator,u=e.name;if(!a.disableGeneration){var s=Ce.get(a.sheetsManager,o,i);s||(s={refs:0,staticSheet:null,dynamicStyles:null},Ce.set(a.sheetsManager,o,i,s));var c=(0,r.Z)({},o.options,a,{theme:i,flip:"boolean"===typeof a.flip?a.flip:"rtl"===i.direction});c.generateId=c.serverGenerateClassName||c.generateClassName;var l=a.sheetsRegistry;if(0===s.refs){var f;a.sheetsCache&&(f=Ce.get(a.sheetsCache,o,i));var h=o.create(i,u);f||((f=a.jss.createStyleSheet(h,(0,r.Z)({link:!1},c))).attach(),a.sheetsCache&&Ce.set(a.sheetsCache,o,i,f)),l&&l.add(f),s.staticSheet=f,s.dynamicStyles=Ie(h)}if(s.dynamicStyles){var d=a.jss.createStyleSheet(s.dynamicStyles,(0,r.Z)({link:!0},c));d.update(t),d.attach(),n.dynamicSheet=d,n.classes=Ee({baseClasses:s.staticSheet.classes,newClasses:d.classes}),l&&l.add(d)}else n.classes=s.staticSheet.classes;s.refs+=1}}function xn(e,t){var n=e.state;n.dynamicSheet&&n.dynamicSheet.update(t)}function _n(e){var t=e.state,n=e.theme,r=e.stylesOptions,i=e.stylesCreator;if(!r.disableGeneration){var a=Ce.get(r.sheetsManager,i,n);a.refs-=1;var o=r.sheetsRegistry;0===a.refs&&(Ce.delete(r.sheetsManager,i,n),r.jss.removeStyleSheet(a.staticSheet),o&&o.remove(a.staticSheet)),t.dynamicSheet&&(r.jss.removeStyleSheet(t.dynamicSheet),o&&o.remove(t.dynamicSheet))}}function Sn(e,t){var n,r=a.useRef([]),i=a.useMemo((function(){return{}}),t);r.current!==i&&(r.current=i,n=e()),a.useEffect((function(){return function(){n&&n()}}),[i])}function In(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.name,o=t.classNamePrefix,u=t.Component,s=t.defaultTheme,c=void 0===s?kn:s,l=(0,i.Z)(t,["name","classNamePrefix","Component","defaultTheme"]),f=gn(e),h=n||o||"makeStyles";f.options={index:pn(),name:n,meta:h,classNamePrefix:h};var d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Re()||c,i=(0,r.Z)({},a.useContext(hn),l),o=a.useRef(),s=a.useRef();Sn((function(){var r={name:n,state:{},stylesCreator:f,stylesOptions:i,theme:t};return wn(r,e),s.current=!1,o.current=r,function(){_n(r)}}),[t,f]),a.useEffect((function(){s.current&&xn(o.current,e),s.current=!0}));var h=bn(o.current,e.classes,u);return h};return d}function En(e){var t=e.theme,n=e.name,r=e.props;if(!t||!t.props||!t.props[n])return r;var i,a=t.props[n];for(i in a)void 0===r[i]&&(r[i]=a[i]);return r}var Tn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){var o=t.defaultTheme,s=t.withTheme,c=void 0!==s&&s,l=t.name,f=(0,i.Z)(t,["defaultTheme","withTheme","name"]);var h=l,d=In(e,(0,r.Z)({defaultTheme:o,Component:n,name:l||n.displayName,classNamePrefix:h},f)),p=a.forwardRef((function(e,t){e.classes;var u,s=e.innerRef,f=(0,i.Z)(e,["classes","innerRef"]),h=d((0,r.Z)({},n.defaultProps,e)),p=f;return("string"===typeof l||c)&&(u=Re()||o,l&&(p=En({theme:u,name:l,props:f})),c&&!p.theme&&(p.theme=u)),a.createElement(n,(0,r.Z)({ref:s||t,classes:h},p))}));return u()(p,n),p}},Cn=["xs","sm","md","lg","xl"];function An(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:960,lg:1280,xl:1920}:t,a=e.unit,o=void 0===a?"px":a,u=e.step,s=void 0===u?5:u,c=(0,i.Z)(e,["values","unit","step"]);function l(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(o,")")}function f(e,t){var r=Cn.indexOf(t);return r===Cn.length-1?l(e):"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(o,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[Cn[r+1]]?n[Cn[r+1]]:t)-s/100).concat(o,")")}return(0,r.Z)({keys:Cn,values:n,up:l,down:function(e){var t=Cn.indexOf(e)+1,r=n[Cn[t]];return t===Cn.length?l("xs"):"@media (max-width:".concat(("number"===typeof r&&t>0?r:e)-s/100).concat(o,")")},between:f,only:function(e){return f(e,e)},width:function(e){return n[e]}},c)}var Rn=n(4942);function Nn(e,t,n){var i;return(0,r.Z)({gutters:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return console.warn(["Material-UI: theme.mixins.gutters() is deprecated.","You can use the source of the mixin directly:","\n      paddingLeft: theme.spacing(2),\n      paddingRight: theme.spacing(2),\n      [theme.breakpoints.up('sm')]: {\n        paddingLeft: theme.spacing(3),\n        paddingRight: theme.spacing(3),\n      },\n      "].join("\n")),(0,r.Z)({paddingLeft:t(2),paddingRight:t(2)},n,(0,Rn.Z)({},e.up("sm"),(0,r.Z)({paddingLeft:t(3),paddingRight:t(3)},n[e.up("sm")])))},toolbar:(i={minHeight:56},(0,Rn.Z)(i,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),(0,Rn.Z)(i,e.up("sm"),{minHeight:64}),i)},n)}var Pn=n(7483),On={black:"#000",white:"#fff"},Dn={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"},Ln={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},Mn={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"},Fn={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Un={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Vn={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},jn={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};function Zn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function zn(e){if(e.type)return e;if("#"===e.charAt(0))return zn(function(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla"].indexOf(n))throw new Error((0,Pn.Z)(3,e));var r=e.substring(t+1,e.length-1).split(",");return{type:n,values:r=r.map((function(e){return parseFloat(e)}))}}function Bn(e){var t=e.type,n=e.values;return-1!==t.indexOf("rgb")?n=n.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(t,"(").concat(n.join(", "),")")}function qn(e){var t="hsl"===(e=zn(e)).type?zn(function(e){var t=(e=zn(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,a=r*Math.min(i,1-i),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-a*Math.max(Math.min(t-3,9-t,1),-1)},u="rgb",s=[Math.round(255*o(0)),Math.round(255*o(8)),Math.round(255*o(4))];return"hsla"===e.type&&(u+="a",s.push(t[3])),Bn({type:u,values:s})}(e)).values:e.values;return t=t.map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function Wn(e,t){if(e=zn(e),t=Zn(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return Bn(e)}function Kn(e,t){if(e=zn(e),t=Zn(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;return Bn(e)}var Gn={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:On.white,default:Dn[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Hn={text:{primary:On.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:Dn[800],default:"#303030"},action:{active:On.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function Qn(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=Kn(e.main,i):"dark"===t&&(e.dark=Wn(e.main,a)))}function $n(e){var t=e.primary,n=void 0===t?{light:Ln[300],main:Ln[500],dark:Ln[700]}:t,a=e.secondary,o=void 0===a?{light:Mn.A200,main:Mn.A400,dark:Mn.A700}:a,u=e.error,s=void 0===u?{light:Fn[300],main:Fn[500],dark:Fn[700]}:u,c=e.warning,l=void 0===c?{light:Un[300],main:Un[500],dark:Un[700]}:c,f=e.info,h=void 0===f?{light:Vn[300],main:Vn[500],dark:Vn[700]}:f,d=e.success,p=void 0===d?{light:jn[300],main:jn[500],dark:jn[700]}:d,v=e.type,y=void 0===v?"light":v,m=e.contrastThreshold,g=void 0===m?3:m,k=e.tonalOffset,b=void 0===k?.2:k,w=(0,i.Z)(e,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function x(e){var t=function(e,t){var n=qn(e),r=qn(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,Hn.text.primary)>=g?Hn.text.primary:Gn.text.primary;return t}var _=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;if(!(e=(0,r.Z)({},e)).main&&e[t]&&(e.main=e[t]),!e.main)throw new Error((0,Pn.Z)(4,t));if("string"!==typeof e.main)throw new Error((0,Pn.Z)(5,JSON.stringify(e.main)));return Qn(e,"light",n,b),Qn(e,"dark",i,b),e.contrastText||(e.contrastText=x(e.main)),e},S={dark:Hn,light:Gn};return mn((0,r.Z)({common:On,type:y,primary:_(n),secondary:_(o,"A400","A200","A700"),error:_(s),warning:_(l),info:_(h),success:_(p),grey:Dn,contrastThreshold:g,getContrastText:x,augmentColor:_,tonalOffset:b},S[y]),w)}function Yn(e){return Math.round(1e5*e)/1e5}function Xn(e){return Yn(e)}var Jn={textTransform:"uppercase"},er='"Roboto", "Helvetica", "Arial", sans-serif';function tr(e,t){var n="function"===typeof t?t(e):t,a=n.fontFamily,o=void 0===a?er:a,u=n.fontSize,s=void 0===u?14:u,c=n.fontWeightLight,l=void 0===c?300:c,f=n.fontWeightRegular,h=void 0===f?400:f,d=n.fontWeightMedium,p=void 0===d?500:d,v=n.fontWeightBold,y=void 0===v?700:v,m=n.htmlFontSize,g=void 0===m?16:m,k=n.allVariants,b=n.pxToRem,w=(0,i.Z)(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]);var x=s/14,_=b||function(e){return"".concat(e/g*x,"rem")},S=function(e,t,n,i,a){return(0,r.Z)({fontFamily:o,fontWeight:e,fontSize:_(t),lineHeight:n},o===er?{letterSpacing:"".concat(Yn(i/t),"em")}:{},a,k)},I={h1:S(l,96,1.167,-1.5),h2:S(l,60,1.2,-.5),h3:S(h,48,1.167,0),h4:S(h,34,1.235,.25),h5:S(h,24,1.334,0),h6:S(p,20,1.6,.15),subtitle1:S(h,16,1.75,.15),subtitle2:S(p,14,1.57,.1),body1:S(h,16,1.5,.15),body2:S(h,14,1.43,.15),button:S(p,14,1.75,.4,Jn),caption:S(h,12,1.66,.4),overline:S(h,12,2.66,1,Jn)};return mn((0,r.Z)({htmlFontSize:g,pxToRem:_,round:Xn,fontFamily:o,fontSize:s,fontWeightLight:l,fontWeightRegular:h,fontWeightMedium:p,fontWeightBold:y},I),w,{clone:!1})}function nr(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var rr=["none",nr(0,2,1,-1,0,1,1,0,0,1,3,0),nr(0,3,1,-2,0,2,2,0,0,1,5,0),nr(0,3,3,-2,0,3,4,0,0,1,8,0),nr(0,2,4,-1,0,4,5,0,0,1,10,0),nr(0,3,5,-1,0,5,8,0,0,1,14,0),nr(0,3,5,-1,0,6,10,0,0,1,18,0),nr(0,4,5,-2,0,7,10,1,0,2,16,1),nr(0,5,5,-3,0,8,10,1,0,3,14,2),nr(0,5,6,-3,0,9,12,1,0,3,16,2),nr(0,6,6,-3,0,10,14,1,0,4,18,3),nr(0,6,7,-4,0,11,15,1,0,4,20,3),nr(0,7,8,-4,0,12,17,2,0,5,22,4),nr(0,7,8,-4,0,13,19,2,0,5,24,4),nr(0,7,9,-4,0,14,21,2,0,5,26,4),nr(0,8,9,-5,0,15,22,2,0,6,28,5),nr(0,8,10,-5,0,16,24,2,0,6,30,5),nr(0,8,11,-5,0,17,26,2,0,6,32,5),nr(0,9,11,-5,0,18,28,2,0,7,34,6),nr(0,9,12,-6,0,19,29,2,0,7,36,6),nr(0,10,13,-6,0,20,31,3,0,8,38,7),nr(0,10,13,-6,0,21,33,3,0,8,40,7),nr(0,10,14,-6,0,22,35,3,0,8,42,7),nr(0,11,14,-7,0,23,36,3,0,9,44,8),nr(0,11,15,-7,0,24,38,3,0,9,46,8)],ir={borderRadius:4},ar=n(9439),or={xs:0,sm:600,md:960,lg:1280,xl:1920},ur={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(or[e],"px)")}};var sr=function(e,t){return t?mn(e,t,{clone:!1}):e};var cr={m:"margin",p:"padding"},lr={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},fr={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},hr=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!fr[e])return[e];e=fr[e]}var t=e.split(""),n=(0,ar.Z)(t,2),r=n[0],i=n[1],a=cr[r],o=lr[i]||"";return Array.isArray(o)?o.map((function(e){return a+e})):[a+o]})),dr=["m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY"];function pr(e){var t=e.spacing||8;return"number"===typeof t?function(e){return t*e}:Array.isArray(t)?function(e){return t[e]}:"function"===typeof t?t:function(){}}function vr(e,t){return function(n){return e.reduce((function(e,r){return e[r]=function(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}(t,n),e}),{})}}function yr(e){var t=pr(e.theme);return Object.keys(e).map((function(n){if(-1===dr.indexOf(n))return null;var r=vr(hr(n),t),i=e[n];return function(e,t,n){if(Array.isArray(t)){var r=e.theme.breakpoints||ur;return t.reduce((function(e,i,a){return e[r.up(r.keys[a])]=n(t[a]),e}),{})}if("object"===(0,vn.Z)(t)){var i=e.theme.breakpoints||ur;return Object.keys(t).reduce((function(e,r){return e[i.up(r)]=n(t[r]),e}),{})}return n(t)}(e,i,r)})).reduce(sr,{})}yr.propTypes={},yr.filterProps=dr;function mr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=pr({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return 0===n.length?t(1):1===n.length?t(n[0]):n.map((function(e){if("string"===typeof e)return e;var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return e}}),n.mui=!0,n}var gr={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},kr={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function br(e){return"".concat(Math.round(e),"ms")}var wr={easing:gr,duration:kr,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.duration,r=void 0===n?kr.standard:n,a=t.easing,o=void 0===a?gr.easeInOut:a,u=t.delay,s=void 0===u?0:u;(0,i.Z)(t,["duration","easing","delay"]);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof r?r:br(r)," ").concat(o," ").concat("string"===typeof s?s:br(s))})).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}},xr={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function _r(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.mixins,a=void 0===r?{}:r,o=e.palette,u=void 0===o?{}:o,s=e.spacing,c=e.typography,l=void 0===c?{}:c,f=(0,i.Z)(e,["breakpoints","mixins","palette","spacing","typography"]),h=$n(u),d=An(n),p=mr(s),v=mn({breakpoints:d,direction:"ltr",mixins:Nn(d,p,a),overrides:{},palette:h,props:{},shadows:rr,typography:tr(h,l),spacing:p,shape:ir,transitions:wr,zIndex:xr},f),y=arguments.length,m=new Array(y>1?y-1:0),g=1;g<y;g++)m[g-1]=arguments[g];return v=m.reduce((function(e,t){return mn(e,t)}),v)}var Sr=_r();var Ir=function(e,t){return Tn(e,(0,r.Z)({defaultTheme:Sr},t))}},1122:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(7483);function i(e){if("string"!==typeof e)throw new Error((0,r.Z)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},8499:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(7462),i=n(2791),a=n(5987),o=n(8182),u=n(2241),s=n(1122),c=i.forwardRef((function(e,t){var n=e.children,u=e.classes,c=e.className,l=e.color,f=void 0===l?"inherit":l,h=e.component,d=void 0===h?"svg":h,p=e.fontSize,v=void 0===p?"medium":p,y=e.htmlColor,m=e.titleAccess,g=e.viewBox,k=void 0===g?"0 0 24 24":g,b=(0,a.Z)(e,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return i.createElement(d,(0,r.Z)({className:(0,o.Z)(u.root,c,"inherit"!==f&&u["color".concat((0,s.Z)(f))],"default"!==v&&"medium"!==v&&u["fontSize".concat((0,s.Z)(v))]),focusable:"false",viewBox:k,color:y,"aria-hidden":!m||void 0,role:m?"img":void 0,ref:t},b),n,m?i.createElement("title",null,m):null)}));c.muiName="SvgIcon";var l=(0,u.Z)((function(e){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:e.typography.pxToRem(24),transition:e.transitions.create("fill",{duration:e.transitions.duration.shorter})},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(35)}}}),{name:"MuiSvgIcon"})(c);function f(e,t){var n=function(t,n){return i.createElement(l,(0,r.Z)({ref:n},t),e)};return n.muiName=l.muiName,i.memo(i.forwardRef(n))}},7004:function(e,t,n){"use strict";n.r(t),n.d(t,{capitalize:function(){return r.Z},createChainedFunction:function(){return i},createSvgIcon:function(){return a.Z},debounce:function(){return o},deprecatedPropType:function(){return u},isMuiElement:function(){return c},ownerDocument:function(){return l},ownerWindow:function(){return f},requirePropFactory:function(){return h},setRef:function(){return d},unstable_useId:function(){return k},unsupportedProp:function(){return p},useControlled:function(){return v},useEventCallback:function(){return m},useForkRef:function(){return g},useIsFocusVisible:function(){return R}});var r=n(1122);function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),(function(){}))}var a=n(8499);function o(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=this,u=function(){e.apply(o,i)};clearTimeout(t),t=setTimeout(u,n)}return r.clear=function(){clearTimeout(t)},r}function u(e,t){return function(){return null}}var s=n(2791);function c(e,t){return s.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)}function l(e){return e&&e.ownerDocument||document}function f(e){return l(e).defaultView||window}function h(e){return function(){return null}}function d(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function p(e,t,n,r,i){return null}function v(e){var t=e.controlled,n=e.default,r=(e.name,e.state,s.useRef(void 0!==t).current),i=s.useState(n),a=i[0],o=i[1];return[r?t:a,s.useCallback((function(e){r||o(e)}),[])]}var y="undefined"!==typeof window?s.useLayoutEffect:s.useEffect;function m(e){var t=s.useRef(e);return y((function(){t.current=e})),s.useCallback((function(){return t.current.apply(void 0,arguments)}),[])}function g(e,t){return s.useMemo((function(){return null==e&&null==t?null:function(n){d(e,n),d(t,n)}}),[e,t])}function k(e){var t=s.useState(e),n=t[0],r=t[1],i=e||n;return s.useEffect((function(){null==n&&r("mui-".concat(Math.round(1e5*Math.random())))}),[n]),i}var b=n(4164),w=!0,x=!1,_=null,S={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function I(e){e.metaKey||e.altKey||e.ctrlKey||(w=!0)}function E(){w=!1}function T(){"hidden"===this.visibilityState&&x&&(w=!0)}function C(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return w||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!S[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}function A(){x=!0,window.clearTimeout(_),_=window.setTimeout((function(){x=!1}),100)}function R(){return{isFocusVisible:C,onBlurVisible:A,ref:s.useCallback((function(e){var t,n=b.findDOMNode(e);null!=n&&((t=n.ownerDocument).addEventListener("keydown",I,!0),t.addEventListener("mousedown",E,!0),t.addEventListener("pointerdown",E,!0),t.addEventListener("touchstart",E,!0),t.addEventListener("visibilitychange",T,!0))}),[])}}},1649:function(e,t,n){"use strict";var r=n(5318),i=n(862);t.Z=void 0;var a=i(n(2791)),o=(0,r(n(4894)).default)(a.createElement("path",{d:"M3.4 20.4l17.45-7.48c.81-.35.81-1.49 0-1.84L3.4 3.6c-.66-.29-1.39.2-1.39.91L2 9.12c0 .5.37.93.87.99L17 12 2.87 13.88c-.5.07-.87.5-.87 1l.01 4.61c0 .71.73 1.2 1.39.91z"}),"SendRounded");t.Z=o},4894:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(7004)},7483:function(e,t,n){"use strict";function r(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified Material-UI error #"+e+"; visit "+t+" for the full message."}n.d(t,{Z:function(){return r}})},8182:function(e,t,n){"use strict";function r(e){var t,n,i="";if("string"===typeof e||"number"===typeof e)i+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}function i(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(i&&(i+=" "),i+=t);return i}n.d(t,{Z:function(){return i}})},2110:function(e,t,n){"use strict";var r=n(8309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),y=0;y<o.length;++y){var m=o[y];if(!a[m]&&(!r||!r[m])&&(!v||!v[m])&&(!u||!u[m])){var g=h(n,m);try{c(t,m,g)}catch(k){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,y=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case y:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=y,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===y},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===b||e.$$typeof===m)},t.typeOf=w},8309:function(e,t,n){"use strict";e.exports=n(746)},4463:function(e,t,n){"use strict";var r=n(2791),i=n(5296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var M,F=Object.assign;function U(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var V=!1;function j(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function Z(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=j(e.type,!1);case 11:return e=j(e.type.render,!1);case 1:return e=j(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case x:return"Portal";case I:return"Profiler";case S:return"StrictMode";case A:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function B(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function H(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function X(e,t){Y(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&H(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function ae(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function ye(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var me=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,_e=null,Se=null;function Ie(e){if(e=ki(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Ee(e){_e?Se?Se.push(e):Se=[e]:_e=e}function Te(){if(_e){var e=_e,t=Se;if(Se=_e=null,Ie(e),t)for(e=0;e<t.length;e++)Ie(t[e])}}function Ce(e,t){return e(t)}function Ae(){}var Re=!1;function Ne(e,t,n){if(Re)return e(t,n);Re=!0;try{return Ce(e,t,n)}finally{Re=!1,(null!==_e||null!==Se)&&(Ae(),Te())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Oe=!1;if(l)try{var De={};Object.defineProperty(De,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(le){Oe=!1}function Le(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Fe=null,Ue=!1,Ve=null,je={onError:function(e){Me=!0,Fe=e}};function Ze(e,t,n,r,i,a,o,u,s){Me=!1,Fe=null,Le.apply(je,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Be(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(ze(e)!==e)throw Error(a(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return qe(i),e;if(o===r)return qe(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,He=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,$e=i.unstable_requestPaint,Ye=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Je=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function yt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,_t,St,It,Et=!1,Tt=[],Ct=null,At=null,Rt=null,Nt=new Map,Pt=new Map,Ot=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":Nt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Be(n)))return e.blockedOn=t,void It(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Vt(e,t,n){Ut(e)&&n.delete(t)}function jt(){Et=!1,null!==Ct&&Ut(Ct)&&(Ct=null),null!==At&&Ut(At)&&(At=null),null!==Rt&&Ut(Rt)&&(Rt=null),Nt.forEach(Vt),Pt.forEach(Vt)}function Zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,jt)))}function zt(e){function t(t){return Zt(t,e)}if(0<Tt.length){Zt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Zt(Ct,e),null!==At&&Zt(At,e),null!==Rt&&Zt(Rt,e),Nt.forEach(t),Pt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Ft(n),null===n.blockedOn&&Ot.shift()}var Bt=b.ReactCurrentBatchConfig,qt=!0;function Wt(e,t,n,r){var i=kt,a=Bt.transition;Bt.transition=null;try{kt=1,Gt(e,t,n,r)}finally{kt=i,Bt.transition=a}}function Kt(e,t,n,r){var i=kt,a=Bt.transition;Bt.transition=null;try{kt=4,Gt(e,t,n,r)}finally{kt=i,Bt.transition=a}}function Gt(e,t,n,r){if(qt){var i=Qt(e,t,n,r);if(null===i)qr(e,t,r,Ht,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return At=Mt(At,e,t,n,r,i),!0;case"mouseover":return Rt=Mt(Rt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Nt.set(a,Mt(Nt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Pt.set(a,Mt(Pt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=Qt(e,t,n,r))&&qr(e,t,r,Ht,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else qr(e,t,r,null,n)}}var Ht=null;function Qt(e,t,n,r){if(Ht=null,null!==(e=gi(e=we(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Be(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ht=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Xt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Xt,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=F({},cn,{view:0,detail:0}),hn=an(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:In,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(dn),vn=an(F({},dn,{dataTransfer:0})),yn=an(F({},fn,{relatedTarget:0})),mn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function In(){return Sn}var En=F({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:In,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(En),Cn=an(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:In})),Rn=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=an(Nn),On=[9,13,27,32],Dn=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,Fn=l&&(!Dn||Ln&&8<Ln&&11>=Ln),Un=String.fromCharCode(32),Vn=!1;function jn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var Bn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Bn[e.type]:"textarea"===t}function Wn(e,t,n,r){Ee(r),0<(t=Kr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Hn(e){Ur(e,0)}function Qn(e){if(G(bi(e)))return e}function $n(e,t){if("change"===e)return t}var Yn=!1;if(l){var Xn;if(l){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"===typeof er.oninput}Xn=Jn}else Xn=!1;Yn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&Qn(Gn)){var t=[];Wn(t,Gn,e,we(e)),Ne(Hn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Gn)}function ar(e,t){if("click"===e)return Qn(t)}function or(e,t){if("input"===e||"change"===e)return Qn(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=H();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=H((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,yr=null,mr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==yr||yr!==H(r)||("selectionStart"in(r=yr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Kr(mr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},_r={},Sr={};function Ir(e){if(_r[e])return _r[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return _r[e]=n[t];return e}l&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Er=Ir("animationend"),Tr=Ir("animationiteration"),Cr=Ir("animationstart"),Ar=Ir("transitionend"),Rr=new Map,Nr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Rr.set(e,t),s(t,[e])}for(var Or=0;Or<Nr.length;Or++){var Dr=Nr[Or];Pr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Pr(Er,"onAnimationEnd"),Pr(Tr,"onAnimationIteration"),Pr(Cr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(Ze.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=Fe;Me=!1,Fe=null,Ue||(Ue=!0,Ve=l)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}}}if(Ue)throw e=Ve,Ue=!1,Ve=null,e}function Vr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(Br(t,e,2,!1),n.add(r))}function jr(e,t,n){var r=0;t&&(r|=4),Br(n,e,r,t)}var Zr="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Zr]){e[Zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||jr(t,!1,e),jr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Zr]||(t[Zr]=!0,jr("selectionchange",!1,t))}}function Br(e,t,n,r){switch($t(t)){case 1:var i=Wt;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Ne((function(){var r=a,i=we(n),o=[];e:{var u=Rr.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Tn;break;case"focusin":c="focus",s=yn;break;case"focusout":c="blur",s=yn;break;case"beforeblur":case"afterblur":s=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=An;break;case Er:case Tr:case Cr:s=mn;break;case Ar:s=Rn;break;case"scroll":s=hn;break;case"wheel":s=Pn;break;case"copy":case"cut":case"paste":s=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Pe(p,h))&&l.push(Wr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:bi(s),d=null==c?u:bi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Gr(d))p++;for(d=0,v=h;v;v=Gr(v))d++;for(;0<p-d;)l=Gr(l),p--;for(;0<d-p;)h=Gr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Gr(l),h=Gr(h)}l=null}else l=null;null!==s&&Hr(o,u,s,l,!1),null!==c&&null!==f&&Hr(o,f,c,l,!0)}if("select"===(s=(u=r?bi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var y=$n;else if(qn(u))if(Yn)y=or;else{y=ir;var m=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(y=ar);switch(y&&(y=y(e,r))?Wn(o,y,n,i):(m&&m(e,u,r),"focusout"===e&&(m=u._wrapperState)&&m.controlled&&"number"===u.type&&ee(u,"number",u.value)),m=r?bi(r):window,e){case"focusin":(qn(m)||"true"===m.contentEditable)&&(yr=m,mr=r,gr=null);break;case"focusout":gr=mr=yr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(Dn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else zn?jn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Fn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==k?"onCompositionEnd"===k&&zn&&(g=en()):(Xt="value"in(Yt=i)?Yt.value:Yt.textContent,zn=!0)),0<(m=Kr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:m}),g?k.data=g:null!==(g=Zn(n))&&(k.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return Zn(t);case"keypress":return 32!==t.which?null:(Vn=!0,Un);case"textInput":return(e=t.data)===Un&&Vn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Dn&&jn(e,t)?(e=en(),Jt=Xt=Yt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Ur(o,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Pe(e,n))&&r.unshift(Wr(e,a,i)),null!=(a=Pe(e,t))&&r.push(Wr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Hr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Pe(n,a))&&o.unshift(Wr(n,s,u)):i||null!=(s=Pe(n,a))&&o.push(Wr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Qr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace($r,"")}function Xr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(a(425))}function Jr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,yi="__reactListeners$"+fi,mi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var xi=[],_i=-1;function Si(e){return{current:e}}function Ii(e){0>_i||(e.current=xi[_i],xi[_i]=null,_i--)}function Ei(e,t){_i++,xi[_i]=e.current,e.current=t}var Ti={},Ci=Si(Ti),Ai=Si(!1),Ri=Ti;function Ni(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){Ii(Ai),Ii(Ci)}function Di(e,t,n){if(Ci.current!==Ti)throw Error(a(168));Ei(Ci,t),Ei(Ai,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,B(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ri=Ci.current,Ei(Ci,e),Ei(Ai,Ai.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ri),r.__reactInternalMemoizedMergedChildContext=e,Ii(Ai),Ii(Ci),Ei(Ci,e)):Ii(Ai),Ei(Ai,n)}var Ui=null,Vi=!1,ji=!1;function Zi(e){null===Ui?Ui=[e]:Ui.push(e)}function zi(){if(!ji&&null!==Ui){ji=!0;var e=0,t=kt;try{var n=Ui;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ui=null,Vi=!1}catch(i){throw null!==Ui&&(Ui=Ui.slice(e+1)),Ge(Je,zi),i}finally{kt=t,ji=!1}}return null}var Bi=b.ReactCurrentBatchConfig;function qi(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Wi=Si(null),Ki=null,Gi=null,Hi=null;function Qi(){Hi=Gi=Ki=null}function $i(e){var t=Wi.current;Ii(Wi),e._currentValue=t}function Yi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Xi(e,t){Ki=e,Hi=Gi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wu=!0),e.firstContext=null)}function Ji(e){var t=e._currentValue;if(Hi!==e)if(e={context:e,memoizedValue:t,next:null},null===Gi){if(null===Ki)throw Error(a(308));Gi=e,Ki.dependencies={lanes:0,firstContext:e}}else Gi=Gi.next=e;return t}var ea=null,ta=!1;function na(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ia(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function aa(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,tc(e)?(null===(e=n.interleaved)?(t.next=t,null===ea?ea=[n]:ea.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function oa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function ua(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function sa(e,t,n,r){var i=e.updateQueue;ta=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:ta=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Os|=o,e.lanes=o,e.memoizedState=f}}function ca(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var la=(new r.Component).refs;function fa(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ha={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ys(),i=Xs(e),a=ia(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),aa(e,a),null!==(t=Js(e,i,r))&&oa(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ys(),i=Xs(e),a=ia(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),aa(e,a),null!==(t=Js(e,i,r))&&oa(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ys(),r=Xs(e),i=ia(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),aa(e,i),null!==(t=Js(e,r,n))&&oa(t,e,r)}};function da(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function pa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Ji(a):(i=Pi(t)?Ri:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ni(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ha,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function va(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ha.enqueueReplaceState(t,t.state,null)}function ya(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=la,na(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ji(a):(a=Pi(t)?Ri:Ci.current,i.context=Ni(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(fa(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ha.enqueueReplaceState(i,i.state,null),sa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}var ma=[],ga=0,ka=null,ba=0,wa=[],xa=0,_a=null,Sa=1,Ia="";function Ea(e,t){ma[ga++]=ba,ma[ga++]=ka,ka=e,ba=t}function Ta(e,t,n){wa[xa++]=Sa,wa[xa++]=Ia,wa[xa++]=_a,_a=e;var r=Sa;e=Ia;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Sa=1<<32-ot(t)+i|n<<i|r,Ia=a+e}else Sa=1<<a|n<<i|r,Ia=e}function Ca(e){null!==e.return&&(Ea(e,1),Ta(e,1,0))}function Aa(e){for(;e===ka;)ka=ma[--ga],ma[ga]=null,ba=ma[--ga],ma[ga]=null;for(;e===_a;)_a=wa[--xa],wa[xa]=null,Ia=wa[--xa],wa[xa]=null,Sa=wa[--xa],wa[xa]=null}var Ra=null,Na=null,Pa=!1,Oa=null;function Da(e,t){var n=Rc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function La(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Ra=e,Na=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Ra=e,Na=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==_a?{id:Sa,overflow:Ia}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Ra=e,Na=null,!0);default:return!1}}function Ma(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function Fa(e){if(Pa){var t=Na;if(t){var n=t;if(!La(e,t)){if(Ma(e))throw Error(a(418));t=ci(n.nextSibling);var r=Ra;t&&La(e,t)?Da(r,n):(e.flags=-4097&e.flags|2,Pa=!1,Ra=e)}}else{if(Ma(e))throw Error(a(418));e.flags=-4097&e.flags|2,Pa=!1,Ra=e}}}function Ua(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ra=e}function Va(e){if(e!==Ra)return!1;if(!Pa)return Ua(e),Pa=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=Na)){if(Ma(e)){for(e=Na;e;)e=ci(e.nextSibling);throw Error(a(418))}for(;t;)Da(e,t),t=ci(t.nextSibling)}if(Ua(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Na=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Na=null}}else Na=Ra?ci(e.stateNode.nextSibling):null;return!0}function ja(){Na=Ra=null,Pa=!1}function Za(e){null===Oa?Oa=[e]:Oa.push(e)}function za(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===la&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ba(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function qa(e){return(0,e._init)(e._payload)}function Wa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Pc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Mc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===_?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===P&&qa(a)===t.type)?((r=i(t,n.props)).ref=za(e,t,n),r.return=e,r):((r=Oc(n.type,n.key,n.props,null,e.mode,r)).ref=za(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Dc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Mc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Oc(t.type,t.key,t.props,null,e.mode,n)).ref=za(e,null,t),n.return=e,n;case x:return(t=Fc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Dc(t,e.mode,n,null)).return=e,t;Ba(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case P:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Ba(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Ba(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,y=null;null!==f&&v<u.length;v++){f.index>v?(y=f,f=null):y=f.sibling;var m=d(i,f,u[v],s);if(null===m){null===f&&(f=y);break}e&&f&&null===m.alternate&&t(i,f),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m,f=y}if(v===u.length)return n(i,f),Pa&&Ea(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return Pa&&Ea(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(y=p(f,i,v,u[v],s))&&(e&&null!==y.alternate&&f.delete(null===y.key?v:y.key),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y);return e&&f.forEach((function(e){return t(i,e)})),Pa&&Ea(i,v),c}function y(i,u,s,c){var l=L(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,y=u=0,m=null,g=s.next();null!==v&&!g.done;y++,g=s.next()){v.index>y?(m=v,v=null):m=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=m);break}e&&v&&null===k.alternate&&t(i,v),u=o(k,u,y),null===f?l=k:f.sibling=k,f=k,v=m}if(g.done)return n(i,v),Pa&&Ea(i,y),l;if(null===v){for(;!g.done;y++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,y),null===f?l=g:f.sibling=g,f=g);return Pa&&Ea(i,y),l}for(v=r(i,v);!g.done;y++,g=s.next())null!==(g=p(v,i,y,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?y:g.key),u=o(g,u,y),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),Pa&&Ea(i,y),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===_&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===_){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=za(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===_?((a=Dc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Oc(o.type,o.key,o.props,null,r.mode,s)).ref=za(r,a,o),s.return=r,r=s)}return u(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Fc(o,r.mode,s)).return=r,r=a}return u(r);case P:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(L(o))return y(r,a,o,s);Ba(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Mc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var Ka=Wa(!0),Ga=Wa(!1),Ha={},Qa=Si(Ha),$a=Si(Ha),Ya=Si(Ha);function Xa(e){if(e===Ha)throw Error(a(174));return e}function Ja(e,t){switch(Ei(Ya,t),Ei($a,e),Ei(Qa,Ha),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ii(Qa),Ei(Qa,t)}function eo(){Ii(Qa),Ii($a),Ii(Ya)}function to(e){Xa(Ya.current);var t=Xa(Qa.current),n=se(t,e.type);t!==n&&(Ei($a,e),Ei(Qa,n))}function no(e){$a.current===e&&(Ii(Qa),Ii($a))}var ro=Si(0);function io(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ao=[];function oo(){for(var e=0;e<ao.length;e++)ao[e]._workInProgressVersionPrimary=null;ao.length=0}var uo=b.ReactCurrentDispatcher,so=b.ReactCurrentBatchConfig,co=0,lo=null,fo=null,ho=null,po=!1,vo=!1,yo=0,mo=0;function go(){throw Error(a(321))}function ko(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function bo(e,t,n,r,i,o){if(co=o,lo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,uo.current=null===e||null===e.memoizedState?ru:iu,e=n(r,i),vo){o=0;do{if(vo=!1,yo=0,25<=o)throw Error(a(301));o+=1,ho=fo=null,t.updateQueue=null,uo.current=au,e=n(r,i)}while(vo)}if(uo.current=nu,t=null!==fo&&null!==fo.next,co=0,ho=fo=lo=null,po=!1,t)throw Error(a(300));return e}function wo(){var e=0!==yo;return yo=0,e}function xo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ho?lo.memoizedState=ho=e:ho=ho.next=e,ho}function _o(){if(null===fo){var e=lo.alternate;e=null!==e?e.memoizedState:null}else e=fo.next;var t=null===ho?lo.memoizedState:ho.next;if(null!==t)ho=t,fo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(fo=e).memoizedState,baseState:fo.baseState,baseQueue:fo.baseQueue,queue:fo.queue,next:null},null===ho?lo.memoizedState=ho=e:ho=ho.next=e}return ho}function So(e,t){return"function"===typeof t?t(e):t}function Io(e){var t=_o(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=fo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((co&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,lo.lanes|=f,Os|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(wu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,lo.lanes|=o,Os|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Eo(e){var t=_o(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(wu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function To(){}function Co(e,t){var n=lo,r=_o(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,wu=!0),r=r.queue,Vo(No.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==ho&&1&ho.memoizedState.tag){if(n.flags|=2048,Do(9,Ro.bind(null,n,r,i,t),void 0,null),null===Es)throw Error(a(349));0!==(30&co)||Ao(n,t,i)}return i}function Ao(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=lo.updateQueue)?(t={lastEffect:null,stores:null},lo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ro(e,t,n,r){t.value=n,t.getSnapshot=r,Po(t)&&Js(e,1,-1)}function No(e,t,n){return n((function(){Po(t)&&Js(e,1,-1)}))}function Po(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Oo(e){var t=xo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:So,lastRenderedState:e},t.queue=e,e=e.dispatch=Yo.bind(null,lo,e),[t.memoizedState,e]}function Do(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=lo.updateQueue)?(t={lastEffect:null,stores:null},lo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Lo(){return _o().memoizedState}function Mo(e,t,n,r){var i=xo();lo.flags|=e,i.memoizedState=Do(1|t,n,void 0,void 0===r?null:r)}function Fo(e,t,n,r){var i=_o();r=void 0===r?null:r;var a=void 0;if(null!==fo){var o=fo.memoizedState;if(a=o.destroy,null!==r&&ko(r,o.deps))return void(i.memoizedState=Do(t,n,a,r))}lo.flags|=e,i.memoizedState=Do(1|t,n,a,r)}function Uo(e,t){return Mo(8390656,8,e,t)}function Vo(e,t){return Fo(2048,8,e,t)}function jo(e,t){return Fo(4,2,e,t)}function Zo(e,t){return Fo(4,4,e,t)}function zo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Bo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Fo(4,4,zo.bind(null,t,e),n)}function qo(){}function Wo(e,t){var n=_o();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ko(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ko(e,t){var n=_o();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ko(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Go(e,t,n){return 0===(21&co)?(e.baseState&&(e.baseState=!1,wu=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),lo.lanes|=n,Os|=n,e.baseState=!0),t)}function Ho(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=so.transition;so.transition={};try{e(!1),t()}finally{kt=n,so.transition=r}}function Qo(){return _o().memoizedState}function $o(e,t,n){var r=Xs(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Xo(e)?Jo(t,n):(eu(e,t,n),null!==(e=Js(e,r,n=Ys()))&&tu(e,t,r))}function Yo(e,t,n){var r=Xs(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xo(e))Jo(t,i);else{eu(e,t,i);var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o))return}catch(s){}null!==(e=Js(e,r,n=Ys()))&&tu(e,t,r)}}function Xo(e){var t=e.alternate;return e===lo||null!==t&&t===lo}function Jo(e,t){vo=po=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function eu(e,t,n){tc(e)?(null===(e=t.interleaved)?(n.next=n,null===ea?ea=[t]:ea.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function tu(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var nu={readContext:Ji,useCallback:go,useContext:go,useEffect:go,useImperativeHandle:go,useInsertionEffect:go,useLayoutEffect:go,useMemo:go,useReducer:go,useRef:go,useState:go,useDebugValue:go,useDeferredValue:go,useTransition:go,useMutableSource:go,useSyncExternalStore:go,useId:go,unstable_isNewReconciler:!1},ru={readContext:Ji,useCallback:function(e,t){return xo().memoizedState=[e,void 0===t?null:t],e},useContext:Ji,useEffect:Uo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Mo(4194308,4,zo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Mo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Mo(4,2,e,t)},useMemo:function(e,t){var n=xo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=xo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=$o.bind(null,lo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},xo().memoizedState=e},useState:Oo,useDebugValue:qo,useDeferredValue:function(e){return xo().memoizedState=e},useTransition:function(){var e=Oo(!1),t=e[0];return e=Ho.bind(null,e[1]),xo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=lo,i=xo();if(Pa){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Es)throw Error(a(349));0!==(30&co)||Ao(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Uo(No.bind(null,r,o,e),[e]),r.flags|=2048,Do(9,Ro.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=xo(),t=Es.identifierPrefix;if(Pa){var n=Ia;t=":"+t+"R"+(n=(Sa&~(1<<32-ot(Sa)-1)).toString(32)+n),0<(n=yo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=mo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},iu={readContext:Ji,useCallback:Wo,useContext:Ji,useEffect:Vo,useImperativeHandle:Bo,useInsertionEffect:jo,useLayoutEffect:Zo,useMemo:Ko,useReducer:Io,useRef:Lo,useState:function(){return Io(So)},useDebugValue:qo,useDeferredValue:function(e){return Go(_o(),fo.memoizedState,e)},useTransition:function(){return[Io(So)[0],_o().memoizedState]},useMutableSource:To,useSyncExternalStore:Co,useId:Qo,unstable_isNewReconciler:!1},au={readContext:Ji,useCallback:Wo,useContext:Ji,useEffect:Vo,useImperativeHandle:Bo,useInsertionEffect:jo,useLayoutEffect:Zo,useMemo:Ko,useReducer:Eo,useRef:Lo,useState:function(){return Eo(So)},useDebugValue:qo,useDeferredValue:function(e){var t=_o();return null===fo?t.memoizedState=e:Go(t,fo.memoizedState,e)},useTransition:function(){return[Eo(So)[0],_o().memoizedState]},useMutableSource:To,useSyncExternalStore:Co,useId:Qo,unstable_isNewReconciler:!1};function ou(e,t){try{var n="",r=t;do{n+=Z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function uu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var su,cu,lu,fu="function"===typeof WeakMap?WeakMap:Map;function hu(e,t,n){(n=ia(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Zs||(Zs=!0,zs=r),uu(0,t)},n}function du(e,t,n){(n=ia(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){uu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){uu(0,t),"function"!==typeof r&&(null===Bs?Bs=new Set([this]):Bs.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function pu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fu;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function vu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function yu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=ia(-1,1)).tag=2,aa(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}function mu(e,t){if(!Pa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function gu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function ku(e,t,n){var r=t.pendingProps;switch(Aa(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gu(t),null;case 1:case 17:return Pi(t.type)&&Oi(),gu(t),null;case 3:return r=t.stateNode,eo(),Ii(Ai),Ii(Ci),oo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Va(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Oa&&(ac(Oa),Oa=null))),gu(t),null;case 5:no(t);var i=Xa(Ya.current);if(n=t.type,null!==e&&null!=t.stateNode)cu(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return gu(t),null}if(e=Xa(Qa.current),Va(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Vr("cancel",r),Vr("close",r);break;case"iframe":case"object":case"embed":Vr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Vr(Lr[i],r);break;case"source":Vr("error",r);break;case"img":case"image":case"link":Vr("error",r),Vr("load",r);break;case"details":Vr("toggle",r);break;case"input":$(r,o),Vr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Vr("invalid",r);break;case"textarea":ie(r,o),Vr("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Vr("scroll",r)}switch(n){case"input":K(r),J(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Jr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,su(e,t),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":Vr("cancel",e),Vr("close",e),i=r;break;case"iframe":case"object":case"embed":Vr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Vr(Lr[i],e);i=r;break;case"source":Vr("error",e),i=r;break;case"img":case"image":case"link":Vr("error",e),Vr("load",e),i=r;break;case"details":Vr("toggle",e),i=r;break;case"input":$(e,r),i=Q(e,r),Vr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Vr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Vr("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?ye(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Vr("scroll",e):null!=l&&k(e,o,l,s))}switch(n){case"input":K(e),J(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return gu(t),null;case 6:if(e&&null!=t.stateNode)lu(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=Xa(Ya.current),Xa(Qa.current),Va(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=Ra))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return gu(t),null;case 13:if(Ii(ro),r=t.memoizedState,Pa&&null!==Na&&0!==(1&t.mode)&&0===(128&t.flags)){for(r=Na;r;)r=ci(r.nextSibling);return ja(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=Va(t),null===e){if(!r)throw Error(a(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(a(317));r[hi]=t}else ja(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return gu(t),null}return null!==Oa&&(ac(Oa),Oa=null),0!==(128&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?Va(t):n=null!==e.memoizedState,r!==n&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ro.current)?0===Ns&&(Ns=3):pc())),null!==t.updateQueue&&(t.flags|=4),gu(t),null);case 4:return eo(),null===e&&zr(t.stateNode.containerInfo),gu(t),null;case 10:return $i(t.type._context),gu(t),null;case 19:if(Ii(ro),null===(o=t.memoizedState))return gu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)mu(o,!1);else{if(0!==Ns||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=io(e))){for(t.flags|=128,mu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(ro,1&ro.current|2),t.child}e=e.sibling}null!==o.tail&&Ye()>Vs&&(t.flags|=128,r=!0,mu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=io(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),mu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!Pa)return gu(t),null}else 2*Ye()-o.renderingStartTime>Vs&&1073741824!==n&&(t.flags|=128,r=!0,mu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ye(),t.sibling=null,n=ro.current,Ei(ro,r?1&n|2:1&n),t):(gu(t),null);case 22:case 23:return lc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&As)&&(gu(t),6&t.subtreeFlags&&(t.flags|=8192)):gu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}su=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},cu=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Xa(Qa.current);var a,o=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Vr("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},lu=function(e,t,n,r){n!==r&&(t.flags|=4)};var bu=b.ReactCurrentOwner,wu=!1;function xu(e,t,n,r){t.child=null===e?Ga(t,null,n,r):Ka(t,e.child,n,r)}function _u(e,t,n,r,i){n=n.render;var a=t.ref;return Xi(t,i),r=bo(e,t,n,r,a,i),n=wo(),null===e||wu?(Pa&&n&&Ca(t),t.flags|=1,xu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qu(e,t,i))}function Su(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Nc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Oc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Iu(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return qu(e,t,i)}return t.flags|=1,(e=Pc(a,r)).ref=t.ref,e.return=t,t.child=e}function Iu(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(wu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,qu(e,t,i);0!==(131072&e.flags)&&(wu=!0)}}return Cu(e,t,n,r,i)}function Eu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Rs,As),As|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(Rs,As),As|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ei(Rs,As),As|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ei(Rs,As),As|=r;return xu(e,t,i,n),t.child}function Tu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cu(e,t,n,r,i){var a=Pi(n)?Ri:Ci.current;return a=Ni(t,a),Xi(t,i),n=bo(e,t,n,r,a,i),r=wo(),null===e||wu?(Pa&&r&&Ca(t),t.flags|=1,xu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qu(e,t,i))}function Au(e,t,n,r,i){if(Pi(n)){var a=!0;Mi(t)}else a=!1;if(Xi(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),pa(t,n,r),ya(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ji(c):c=Ni(t,c=Pi(n)?Ri:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&va(t,o,r,c),ta=!1;var h=t.memoizedState;o.state=h,sa(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ai.current||ta?("function"===typeof l&&(fa(t,n,l,r),s=t.memoizedState),(u=ta||da(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ra(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:qi(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Ji(s):s=Ni(t,s=Pi(n)?Ri:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&va(t,o,r,s),ta=!1,h=t.memoizedState,o.state=h,sa(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ai.current||ta?("function"===typeof d&&(fa(t,n,d,r),p=t.memoizedState),(c=ta||da(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ru(e,t,n,r,a,i)}function Ru(e,t,n,r,i,a){Tu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),qu(e,t,a);r=t.stateNode,bu.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ka(t,e.child,null,a),t.child=Ka(t,null,u,a)):xu(e,t,u,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Nu(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),Ja(e,t.containerInfo)}function Pu(e,t,n,r,i){return ja(),Za(i),t.flags|=256,xu(e,t,n,r),t.child}var Ou={dehydrated:null,treeContext:null,retryLane:0};function Du(e){return{baseLanes:e,cachePool:null,transitions:null}}function Lu(e,t){return{baseLanes:e.baseLanes|t,cachePool:null,transitions:e.transitions}}function Mu(e,t,n){var r,i=t.pendingProps,o=ro.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ei(ro,1&o),null===e)return Fa(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=i.children,e=i.fallback,u?(i=t.mode,u=t.child,o={mode:"hidden",children:o},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=o):u=Lc(o,i,0,null),e=Dc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Du(n),t.memoizedState=Ou,e):Fu(t,o));if(null!==(o=e.memoizedState)){if(null!==(r=o.dehydrated)){if(s)return 256&t.flags?(t.flags&=-257,ju(e,t,n,Error(a(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(u=i.fallback,o=t.mode,i=Lc({mode:"visible",children:i.children},o,0,null),(u=Dc(u,o,n,null)).flags|=2,i.return=t,u.return=t,i.sibling=u,t.child=i,0!==(1&t.mode)&&Ka(t,e.child,null,n),t.child.memoizedState=Du(n),t.memoizedState=Ou,u);if(0===(1&t.mode))t=ju(e,t,n,null);else if("$!"===r.data)t=ju(e,t,n,Error(a(419)));else if(i=0!==(n&e.childLanes),wu||i){if(null!==(i=Es)){switch(n&-n){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}0!==(i=0!==(u&(i.suspendedLanes|n))?0:u)&&i!==o.retryLane&&(o.retryLane=i,Js(e,i,-1))}pc(),t=ju(e,t,n,Error(a(421)))}else"$?"===r.data?(t.flags|=128,t.child=e.child,t=Ec.bind(null,e),r._reactRetry=t,t=null):(n=o.treeContext,Na=ci(r.nextSibling),Ra=t,Pa=!0,Oa=null,null!==n&&(wa[xa++]=Sa,wa[xa++]=Ia,wa[xa++]=_a,Sa=n.id,Ia=n.overflow,_a=t),(t=Fu(t,t.pendingProps.children)).flags|=4096);return t}return u?(i=Vu(e,t,i.children,i.fallback,n),u=t.child,o=e.child.memoizedState,u.memoizedState=null===o?Du(n):Lu(o,n),u.childLanes=e.childLanes&~n,t.memoizedState=Ou,i):(n=Uu(e,t,i.children,n),t.memoizedState=null,n)}return u?(i=Vu(e,t,i.children,i.fallback,n),u=t.child,o=e.child.memoizedState,u.memoizedState=null===o?Du(n):Lu(o,n),u.childLanes=e.childLanes&~n,t.memoizedState=Ou,i):(n=Uu(e,t,i.children,n),t.memoizedState=null,n)}function Fu(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Uu(e,t,n,r){var i=e.child;return e=i.sibling,n=Pc(i,{mode:"visible",children:n}),0===(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function Vu(e,t,n,r,i){var a=t.mode,o=(e=e.child).sibling,u={mode:"hidden",children:n};return 0===(1&a)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=u,t.deletions=null):(n=Pc(e,u)).subtreeFlags=14680064&e.subtreeFlags,null!==o?r=Pc(o,r):(r=Dc(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ju(e,t,n,r){return null!==r&&Za(r),Ka(t,e.child,null,n),(e=Fu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Zu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Yi(e.return,t,n)}function zu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Bu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(xu(e,t,r.children,n),0!==(2&(r=ro.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Zu(e,n,t);else if(19===e.tag)Zu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(ro,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===io(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===io(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zu(t,!0,n,null,a);break;case"together":zu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Os|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Pc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Wu(e,t){switch(Aa(t),t.tag){case 1:return Pi(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return eo(),Ii(Ai),Ii(Ci),oo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return no(t),null;case 13:if(Ii(ro),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ja()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ii(ro),null;case 4:return eo(),null;case 10:return $i(t.type._context),null;case 22:case 23:return lc(),null;default:return null}}var Ku=!1,Gu=!1,Hu="function"===typeof WeakSet?WeakSet:Set,Qu=null;function $u(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){_c(e,t,r)}else n.current=null}function Yu(e,t,n){try{n()}catch(r){_c(e,t,r)}}var Xu=!1;function Ju(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&Yu(t,n,a)}i=i.next}while(i!==r)}}function es(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ts(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ns(e){var t=e.alternate;null!==t&&(e.alternate=null,ns(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[yi],delete t[mi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function rs(e){return 5===e.tag||3===e.tag||4===e.tag}function is(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||rs(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function as(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(as(e,t,n),e=e.sibling;null!==e;)as(e,t,n),e=e.sibling}function os(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(os(e,t,n),e=e.sibling;null!==e;)os(e,t,n),e=e.sibling}var us=null,ss=!1;function cs(e,t,n){for(n=n.child;null!==n;)ls(e,t,n),n=n.sibling}function ls(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Gu||$u(n,t);case 6:var r=us,i=ss;us=null,cs(e,t,n),ss=i,null!==(us=r)&&(ss?(e=us,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):us.removeChild(n.stateNode));break;case 18:null!==us&&(ss?(e=us,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),zt(e)):si(us,n.stateNode));break;case 4:r=us,i=ss,us=n.stateNode.containerInfo,ss=!0,cs(e,t,n),us=r,ss=i;break;case 0:case 11:case 14:case 15:if(!Gu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&Yu(n,t,o),i=i.next}while(i!==r)}cs(e,t,n);break;case 1:if(!Gu&&($u(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){_c(n,t,u)}cs(e,t,n);break;case 21:cs(e,t,n);break;case 22:1&n.mode?(Gu=(r=Gu)||null!==n.memoizedState,cs(e,t,n),Gu=r):cs(e,t,n);break;default:cs(e,t,n)}}function fs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Hu),t.forEach((function(t){var r=Tc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function hs(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:us=s.stateNode,ss=!1;break e;case 3:case 4:us=s.stateNode.containerInfo,ss=!0;break e}s=s.return}if(null===us)throw Error(a(160));ls(o,u,i),us=null,ss=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){_c(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ds(t,e),t=t.sibling}function ds(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(hs(t,e),ps(e),4&r){try{Ju(3,e,e.return),es(3,e)}catch(v){_c(e,e.return,v)}try{Ju(5,e,e.return)}catch(v){_c(e,e.return,v)}}break;case 1:hs(t,e),ps(e),512&r&&null!==n&&$u(n,n.return);break;case 5:if(hs(t,e),ps(e),512&r&&null!==n&&$u(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(v){_c(e,e.return,v)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&Y(i,o),ke(s,u);var l=ke(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?ye(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(s){case"input":X(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(v){_c(e,e.return,v)}}break;case 6:if(hs(t,e),ps(e),4&r){if(null===e.stateNode)throw Error(a(162));l=e.stateNode,f=e.memoizedProps;try{l.nodeValue=f}catch(v){_c(e,e.return,v)}}break;case 3:if(hs(t,e),ps(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(v){_c(e,e.return,v)}break;case 4:default:hs(t,e),ps(e);break;case 13:hs(t,e),ps(e),8192&(l=e.child).flags&&null!==l.memoizedState&&(null===l.alternate||null===l.alternate.memoizedState)&&(Us=Ye()),4&r&&fs(e);break;case 22:if(l=null!==n&&null!==n.memoizedState,1&e.mode?(Gu=(f=Gu)||l,hs(t,e),Gu=f):hs(t,e),ps(e),8192&r){f=null!==e.memoizedState;e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,f?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=d.stateNode,u=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(v){_c(e,e.return,v)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=f?"":d.memoizedProps}catch(v){_c(e,e.return,v)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}if(f&&!l&&0!==(1&e.mode))for(Qu=e,e=e.child;null!==e;){for(l=Qu=e;null!==Qu;){switch(h=(f=Qu).child,f.tag){case 0:case 11:case 14:case 15:Ju(4,f,f.return);break;case 1:if($u(f,f.return),"function"===typeof(o=f.stateNode).componentWillUnmount){d=f,p=f.return;try{i=d,o.props=i.memoizedProps,o.state=i.memoizedState,o.componentWillUnmount()}catch(v){_c(d,p,v)}}break;case 5:$u(f,f.return);break;case 22:if(null!==f.memoizedState){gs(l);continue}}null!==h?(h.return=f,Qu=h):gs(l)}e=e.sibling}}break;case 19:hs(t,e),ps(e),4&r&&fs(e);case 21:}}function ps(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(rs(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),os(e,is(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;as(e,is(e),o);break;default:throw Error(a(161))}}catch(u){_c(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vs(e,t,n){Qu=e,ys(e,t,n)}function ys(e,t,n){for(var r=0!==(1&e.mode);null!==Qu;){var i=Qu,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Ku;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Gu;u=Ku;var c=Gu;if(Ku=o,(Gu=s)&&!c)for(Qu=i;null!==Qu;)s=(o=Qu).child,22===o.tag&&null!==o.memoizedState?ks(i):null!==s?(s.return=o,Qu=s):ks(i);for(;null!==a;)Qu=a,ys(a,t,n),a=a.sibling;Qu=i,Ku=u,Gu=c}ms(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Qu=a):ms(e)}}function ms(e){for(;null!==Qu;){var t=Qu;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Gu||es(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Gu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:qi(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&ca(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ca(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(a(163))}Gu||512&t.flags&&ts(t)}catch(d){_c(t,t.return,d)}}if(t===e){Qu=null;break}if(null!==(n=t.sibling)){n.return=t.return,Qu=n;break}Qu=t.return}}function gs(e){for(;null!==Qu;){var t=Qu;if(t===e){Qu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Qu=n;break}Qu=t.return}}function ks(e){for(;null!==Qu;){var t=Qu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{es(4,t)}catch(s){_c(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){_c(t,i,s)}}var a=t.return;try{ts(t)}catch(s){_c(t,a,s)}break;case 5:var o=t.return;try{ts(t)}catch(s){_c(t,o,s)}}}catch(s){_c(t,t.return,s)}if(t===e){Qu=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Qu=u;break}Qu=t.return}}var bs,ws=Math.ceil,xs=b.ReactCurrentDispatcher,_s=b.ReactCurrentOwner,Ss=b.ReactCurrentBatchConfig,Is=0,Es=null,Ts=null,Cs=0,As=0,Rs=Si(0),Ns=0,Ps=null,Os=0,Ds=0,Ls=0,Ms=null,Fs=null,Us=0,Vs=1/0,js=null,Zs=!1,zs=null,Bs=null,qs=!1,Ws=null,Ks=0,Gs=0,Hs=null,Qs=-1,$s=0;function Ys(){return 0!==(6&Is)?Ye():-1!==Qs?Qs:Qs=Ye()}function Xs(e){return 0===(1&e.mode)?1:0!==(2&Is)&&0!==Cs?Cs&-Cs:null!==Bi.transition?(0===$s&&($s=vt()),$s):0!==(e=kt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function Js(e,t,n){if(50<Gs)throw Gs=0,Hs=null,Error(a(185));var r=ec(e,t);return null===r?null:(mt(r,t,n),0!==(2&Is)&&r===Es||(r===Es&&(0===(2&Is)&&(Ds|=t),4===Ns&&oc(r,Cs)),nc(r,n),1===t&&0===Is&&0===(1&e.mode)&&(Vs=Ye()+500,Vi&&zi())),r)}function ec(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function tc(e){return(null!==Es||null!==ea)&&0!==(1&e.mode)&&0===(2&Is)}function nc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===Es?Cs:0);if(0===r)null!==n&&He(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&He(n),1===t)0===e.tag?function(e){Vi=!0,Zi(e)}(uc.bind(null,e)):Zi(uc.bind(null,e)),oi((function(){0===Is&&zi()})),n=null;else{switch(bt(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Cc(n,rc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rc(e,t){if(Qs=-1,$s=0,0!==(6&Is))throw Error(a(327));var n=e.callbackNode;if(wc()&&e.callbackNode!==n)return null;var r=ht(e,e===Es?Cs:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vc(e,r);else{t=r;var i=Is;Is|=2;var o=dc();for(Es===e&&Cs===t||(js=null,Vs=Ye()+500,fc(e,t));;)try{mc();break}catch(s){hc(e,s)}Qi(),xs.current=o,Is=i,null!==Ts?t=0:(Es=null,Cs=0,t=Ns)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ic(e,i))),1===t)throw n=Ps,fc(e,0),oc(e,r),nc(e,Ye()),n;if(6===t)oc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ic(e,o))),1===t))throw n=Ps,fc(e,0),oc(e,r),nc(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:bc(e,Fs,js);break;case 3:if(oc(e,r),(130023424&r)===r&&10<(t=Us+500-Ye())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){Ys(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(bc.bind(null,e,Fs,js),t);break}bc(e,Fs,js);break;case 4:if(oc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ws(r/1960))-r)){e.timeoutHandle=ri(bc.bind(null,e,Fs,js),r);break}bc(e,Fs,js);break;default:throw Error(a(329))}}}return nc(e,Ye()),e.callbackNode===n?rc.bind(null,e):null}function ic(e,t){var n=Ms;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=Fs,Fs=n,null!==t&&ac(t)),e}function ac(e){null===Fs?Fs=e:Fs.push.apply(Fs,e)}function oc(e,t){for(t&=~Ls,t&=~Ds,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function uc(e){if(0!==(6&Is))throw Error(a(327));wc();var t=ht(e,0);if(0===(1&t))return nc(e,Ye()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ic(e,r))}if(1===n)throw n=Ps,fc(e,0),oc(e,t),nc(e,Ye()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bc(e,Fs,js),nc(e,Ye()),null}function sc(e,t){var n=Is;Is|=1;try{return e(t)}finally{0===(Is=n)&&(Vs=Ye()+500,Vi&&zi())}}function cc(e){null!==Ws&&0===Ws.tag&&0===(6&Is)&&wc();var t=Is;Is|=1;var n=Ss.transition,r=kt;try{if(Ss.transition=null,kt=1,e)return e()}finally{kt=r,Ss.transition=n,0===(6&(Is=t))&&zi()}}function lc(){As=Rs.current,Ii(Rs)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ts)for(n=Ts.return;null!==n;){var r=n;switch(Aa(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:eo(),Ii(Ai),Ii(Ci),oo();break;case 5:no(r);break;case 4:eo();break;case 13:case 19:Ii(ro);break;case 10:$i(r.type._context);break;case 22:case 23:lc()}n=n.return}if(Es=e,Ts=e=Pc(e.current,null),Cs=As=t,Ns=0,Ps=null,Ls=Ds=Os=0,Fs=Ms=null,null!==ea){for(t=0;t<ea.length;t++)if(null!==(r=(n=ea[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}ea=null}return e}function hc(e,t){for(;;){var n=Ts;try{if(Qi(),uo.current=nu,po){for(var r=lo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}po=!1}if(co=0,ho=fo=lo=null,vo=!1,yo=0,_s.current=null,null===n||null===n.return){Ns=1,Ps=t,Ts=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Cs,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=vu(u);if(null!==p){p.flags&=-257,yu(p,u,s,0,t),1&p.mode&&pu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var y=new Set;y.add(c),t.updateQueue=y}else v.add(c);break e}if(0===(1&t)){pu(o,l,t),pc();break e}c=Error(a(426))}else if(Pa&&1&s.mode){var m=vu(u);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),yu(m,u,s,0,t),Za(c);break e}}o=c,4!==Ns&&(Ns=2),null===Ms?Ms=[o]:Ms.push(o),c=ou(c,s),s=u;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,ua(s,hu(0,c,t));break e;case 1:o=c;var g=s.type,k=s.stateNode;if(0===(128&s.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Bs||!Bs.has(k)))){s.flags|=65536,t&=-t,s.lanes|=t,ua(s,du(s,o,t));break e}}s=s.return}while(null!==s)}kc(n)}catch(b){t=b,Ts===n&&null!==n&&(Ts=n=n.return);continue}break}}function dc(){var e=xs.current;return xs.current=nu,null===e?nu:e}function pc(){0!==Ns&&3!==Ns&&2!==Ns||(Ns=4),null===Es||0===(268435455&Os)&&0===(268435455&Ds)||oc(Es,Cs)}function vc(e,t){var n=Is;Is|=2;var r=dc();for(Es===e&&Cs===t||(js=null,fc(e,t));;)try{yc();break}catch(i){hc(e,i)}if(Qi(),Is=n,xs.current=r,null!==Ts)throw Error(a(261));return Es=null,Cs=0,Ns}function yc(){for(;null!==Ts;)gc(Ts)}function mc(){for(;null!==Ts&&!Qe();)gc(Ts)}function gc(e){var t=bs(e.alternate,e,As);e.memoizedProps=e.pendingProps,null===t?kc(e):Ts=t,_s.current=null}function kc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=ku(n,t,As)))return void(Ts=n)}else{if(null!==(n=Wu(n,t)))return n.flags&=32767,void(Ts=n);if(null===e)return Ns=6,void(Ts=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ts=t);Ts=t=e}while(null!==t);0===Ns&&(Ns=5)}function bc(e,t,n){var r=kt,i=Ss.transition;try{Ss.transition=null,kt=1,function(e,t,n,r){do{wc()}while(null!==Ws);if(0!==(6&Is))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Es&&(Ts=Es=null,Cs=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||qs||(qs=!0,Cc(tt,(function(){return wc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Ss.transition,Ss.transition=null;var u=kt;kt=1;var s=Is;Is|=4,_s.current=null,function(e,t){if(ei=qt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(x){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},qt=!1,Qu=t;null!==Qu;)if(e=(t=Qu).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Qu=e;else for(;null!==Qu;){t=Qu;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var y=v.memoizedProps,m=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:qi(t.type,y),m);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;if(1===b.nodeType)b.textContent="";else if(9===b.nodeType){var w=b.body;null!=w&&(w.textContent="")}break;default:throw Error(a(163))}}catch(x){_c(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Qu=e;break}Qu=t.return}v=Xu,Xu=!1}(e,n),ds(n,e),pr(ti),qt=!!ei,ti=ei=null,e.current=n,vs(n,e,i),$e(),Is=s,kt=u,Ss.transition=o}else e.current=n;if(qs&&(qs=!1,Ws=e,Ks=i),0===(o=e.pendingLanes)&&(Bs=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),nc(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r(t[n]);if(Zs)throw Zs=!1,e=zs,zs=null,e;0!==(1&Ks)&&0!==e.tag&&wc(),0!==(1&(o=e.pendingLanes))?e===Hs?Gs++:(Gs=0,Hs=e):Gs=0,zi()}(e,t,n,r)}finally{Ss.transition=i,kt=r}return null}function wc(){if(null!==Ws){var e=bt(Ks),t=Ss.transition,n=kt;try{if(Ss.transition=null,kt=16>e?16:e,null===Ws)var r=!1;else{if(e=Ws,Ws=null,Ks=0,0!==(6&Is))throw Error(a(331));var i=Is;for(Is|=4,Qu=e.current;null!==Qu;){var o=Qu,u=o.child;if(0!==(16&Qu.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Qu=l;null!==Qu;){var f=Qu;switch(f.tag){case 0:case 11:case 15:Ju(8,f,o)}var h=f.child;if(null!==h)h.return=f,Qu=h;else for(;null!==Qu;){var d=(f=Qu).sibling,p=f.return;if(ns(f),f===l){Qu=null;break}if(null!==d){d.return=p,Qu=d;break}Qu=p}}}var v=o.alternate;if(null!==v){var y=v.child;if(null!==y){v.child=null;do{var m=y.sibling;y.sibling=null,y=m}while(null!==y)}}Qu=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Qu=u;else e:for(;null!==Qu;){if(0!==(2048&(o=Qu).flags))switch(o.tag){case 0:case 11:case 15:Ju(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Qu=g;break e}Qu=o.return}}var k=e.current;for(Qu=k;null!==Qu;){var b=(u=Qu).child;if(0!==(2064&u.subtreeFlags)&&null!==b)b.return=u,Qu=b;else e:for(u=k;null!==Qu;){if(0!==(2048&(s=Qu).flags))try{switch(s.tag){case 0:case 11:case 15:es(9,s)}}catch(x){_c(s,s.return,x)}if(s===u){Qu=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Qu=w;break e}Qu=s.return}}if(Is=i,zi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{kt=n,Ss.transition=t}}return!1}function xc(e,t,n){aa(e,t=hu(0,t=ou(n,t),1)),t=Ys(),null!==(e=ec(e,1))&&(mt(e,1,t),nc(e,t))}function _c(e,t,n){if(3===e.tag)xc(e,e,n);else for(;null!==t;){if(3===t.tag){xc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Bs||!Bs.has(r))){aa(t,e=du(t,e=ou(n,e),1)),e=Ys(),null!==(t=ec(t,1))&&(mt(t,1,e),nc(t,e));break}}t=t.return}}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Ys(),e.pingedLanes|=e.suspendedLanes&n,Es===e&&(Cs&n)===n&&(4===Ns||3===Ns&&(130023424&Cs)===Cs&&500>Ye()-Us?fc(e,0):Ls|=n),nc(e,t)}function Ic(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=Ys();null!==(e=ec(e,t))&&(mt(e,t,n),nc(e,n))}function Ec(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ic(e,n)}function Tc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Ic(e,n)}function Cc(e,t){return Ge(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rc(e,t,n,r){return new Ac(e,t,n,r)}function Nc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pc(e,t){var n=e.alternate;return null===n?((n=Rc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Oc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Nc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case _:return Dc(n.children,i,o,t);case S:u=8,i|=8;break;case I:return(e=Rc(12,n,t,2|i)).elementType=I,e.lanes=o,e;case A:return(e=Rc(13,n,t,i)).elementType=A,e.lanes=o,e;case R:return(e=Rc(19,n,t,i)).elementType=R,e.lanes=o,e;case O:return Lc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:u=10;break e;case T:u=9;break e;case C:u=11;break e;case N:u=14;break e;case P:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Rc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Dc(e,t,n,r){return(e=Rc(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Rc(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={},e}function Mc(e,t,n){return(e=Rc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Rc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yt(0),this.expirationTimes=yt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,i,a,o,u,s){return e=new Uc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Rc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},na(a),e}function jc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Zc(e){if(!e)return Ti;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Li(e,n,t)}return t}function zc(e,t,n,r,i,a,o,u,s){return(e=Vc(n,r,!0,e,0,a,0,u,s)).context=Zc(null),n=e.current,(a=ia(r=Ys(),i=Xs(n))).callback=void 0!==t&&null!==t?t:null,aa(n,a),e.current.lanes=i,mt(e,i,r),nc(e,r),e}function Bc(e,t,n,r){var i=t.current,a=Ys(),o=Xs(i);return n=Zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=ia(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),aa(i,t),null!==(e=Js(i,o,a))&&oa(e,i,o),o}function qc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}bs=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)wu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return wu=!1,function(e,t,n){switch(t.tag){case 3:Nu(t),ja();break;case 5:to(t);break;case 1:Pi(t.type)&&Mi(t);break;case 4:Ja(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(Wi,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(ro,1&ro.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Mu(e,t,n):(Ei(ro,1&ro.current),null!==(e=qu(e,t,n))?e.sibling:null);Ei(ro,1&ro.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Bu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(ro,ro.current),r)break;return null;case 22:case 23:return t.lanes=0,Eu(e,t,n)}return qu(e,t,n)}(e,t,n);wu=0!==(131072&e.flags)}else wu=!1,Pa&&0!==(1048576&t.flags)&&Ta(t,ba,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=Ni(t,Ci.current);Xi(t,n),i=bo(null,t,r,e,i,n);var o=wo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,na(t),i.updater=ha,t.stateNode=i,i._reactInternals=t,ya(t,r,e,n),t=Ru(null,t,r,!0,o,n)):(t.tag=0,Pa&&o&&Ca(t),xu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Nc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===N)return 14}return 2}(r),e=qi(r,e),i){case 0:t=Cu(null,t,r,e,n);break e;case 1:t=Au(null,t,r,e,n);break e;case 11:t=_u(null,t,r,e,n);break e;case 14:t=Su(null,t,r,qi(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:qi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Au(e,t,r,i=t.elementType===r?i:qi(r,i),n);case 3:e:{if(Nu(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,ra(e,t),sa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Pu(e,t,r,n,i=Error(a(423)));break e}if(r!==i){t=Pu(e,t,r,n,i=Error(a(424)));break e}for(Na=ci(t.stateNode.containerInfo.firstChild),Ra=t,Pa=!0,Oa=null,n=Ga(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ja(),r===i){t=qu(e,t,n);break e}xu(e,t,r,n)}t=t.child}return t;case 5:return to(t),null===e&&Fa(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Tu(e,t),xu(e,t,u,n),t.child;case 6:return null===e&&Fa(t),null;case 13:return Mu(e,t,n);case 4:return Ja(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ka(t,null,r,n):xu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_u(e,t,r,i=t.elementType===r?i:qi(r,i),n);case 7:return xu(e,t,t.pendingProps,n),t.child;case 8:case 12:return xu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Ei(Wi,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ai.current){t=qu(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=ia(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Yi(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),Yi(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}xu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Xi(t,n),r=r(i=Ji(i)),t.flags|=1,xu(e,t,r,n),t.child;case 14:return i=qi(r=t.type,t.pendingProps),Su(e,t,r,i=qi(r.type,i),n);case 15:return Iu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:qi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Pi(r)?(e=!0,Mi(t)):e=!1,Xi(t,n),pa(t,r,i),ya(t,r,i,n),Ru(null,t,r,!0,e,n);case 19:return Bu(e,t,n);case 22:return Eu(e,t,n)}throw Error(a(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function Hc(e){this._internalRoot=e}function Qc(e){this._internalRoot=e}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xc(){}function Jc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=qc(o);u.call(e)}}Bc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=qc(o);a.call(e)}}var o=zc(t,r,e,0,null,!1,0,"",Xc);return e._reactRootContainer=o,e[pi]=o.current,zr(8===e.nodeType?e.parentNode:e),cc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=qc(s);u.call(e)}}var s=Vc(e,0,!1,null,0,!1,0,"",Xc);return e._reactRootContainer=s,e[pi]=s.current,zr(8===e.nodeType?e.parentNode:e),cc((function(){Bc(t,s,n,r)})),s}(n,t,e,i,r);return qc(o)}Qc.prototype.render=Hc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Bc(e,t,null,null)},Qc.prototype.unmount=Hc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cc((function(){Bc(null,e,null,null)})),t[pi]=null}},Qc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),nc(t,Ye()),0===(6&Is)&&(Vs=Ye()+500,zi()))}break;case 13:var r=Ys();cc((function(){return Js(e,1,r)})),Kc(e,1)}},xt=function(e){13===e.tag&&(Js(e,134217728,Ys()),Kc(e,134217728))},_t=function(e){if(13===e.tag){var t=Ys(),n=Xs(e);Js(e,n,t),Kc(e,n)}},St=function(){return kt},It=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},xe=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));G(r),X(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=sc,Ae=cc;var el={usingClientEntryPoint:!1,Events:[ki,bi,wi,Ee,Te,sc]},tl={findFiberByHostInstance:gi,bundleType:0,version:"18.1.0",rendererPackageName:"react-dom"},nl={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.1.0-next-22edb9f77-20220426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rl.isDisabled&&rl.supportsFiber)try{it=rl.inject(nl),at=rl}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=el,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$c(t))throw Error(a(200));return jc(e,t,null,n)},t.createRoot=function(e,t){if(!$c(e))throw Error(a(299));var n=!1,r="",i=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Hc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return cc(e)},t.hydrate=function(e,t,n){if(!Yc(t))throw Error(a(200));return Jc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!$c(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Gc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=zc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Qc(t)},t.render=function(e,t,n){if(!Yc(t))throw Error(a(200));return Jc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Yc(e))throw Error(a(40));return!!e._reactRootContainer&&(cc((function(){Jc(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=sc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Yc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Jc(e,t,n,!1,r)},t.version="18.1.0-next-22edb9f77-20220426"},1250:function(e,t,n){"use strict";var r=n(4164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},1372:function(e,t){"use strict";var n=60103,r=60106,i=60107,a=60108,o=60114,u=60109,s=60110,c=60112,l=60113,f=60120,h=60115,d=60116,p=60121,v=60122,y=60117,m=60129,g=60131;if("function"===typeof Symbol&&Symbol.for){var k=Symbol.for;n=k("react.element"),r=k("react.portal"),i=k("react.fragment"),a=k("react.strict_mode"),o=k("react.profiler"),u=k("react.provider"),s=k("react.context"),c=k("react.forward_ref"),l=k("react.suspense"),f=k("react.suspense_list"),h=k("react.memo"),d=k("react.lazy"),p=k("react.block"),v=k("react.server.block"),y=k("react.fundamental"),m=k("react.debug_trace_mode"),g=k("react.legacy_hidden")}function b(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case o:case a:case l:case f:return e;default:switch(e=e&&e.$$typeof){case s:case c:case d:case h:case u:return e;default:return t}}case r:return t}}}t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===o||e===m||e===a||e===l||e===f||e===g||"object"===typeof e&&null!==e&&(e.$$typeof===d||e.$$typeof===h||e.$$typeof===u||e.$$typeof===s||e.$$typeof===c||e.$$typeof===y||e.$$typeof===p||e[0]===v)},t.typeOf=b},7441:function(e,t,n){"use strict";e.exports=n(1372)},8459:function(e,t){"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen");function m(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case u:case o:case h:case d:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case v:case p:case s:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference"),t.isContextConsumer=function(e){return m(e)===c}},6900:function(e,t,n){"use strict";e.exports=n(8459)},6374:function(e,t,n){"use strict";var r=n(2791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,y={};function m(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=m.prototype;var b=k.prototype=new g;b.constructor=k,v(b,m.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,_={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:_.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),A(o,t,i,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=A(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=A(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function R(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},O={transition:null},D={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:O,ReactCurrentOwner:_};t.Children={map:R,forEach:function(e,t,n){R(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return R(e,(function(){t++})),t},toArray:function(e){return R(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)x.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.1.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},5484:function(e,t,n){"use strict";var r=n(7781).qC;t.Uo="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?r:r.apply(null,arguments)},"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__},7781:function(e,t,n){"use strict";n.d(t,{MT:function(){return c},UY:function(){return l},md:function(){return h},qC:function(){return f}});var r=n(1413);function i(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var a="function"===typeof Symbol&&Symbol.observable||"@@observable",o=function(){return Math.random().toString(36).substring(7).split("").join(".")},u={INIT:"@@redux/INIT"+o(),REPLACE:"@@redux/REPLACE"+o(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+o()}};function s(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function c(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(i(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(i(1));return n(c)(e,t)}if("function"!==typeof e)throw new Error(i(2));var o=e,l=t,f=[],h=f,d=!1;function p(){h===f&&(h=f.slice())}function v(){if(d)throw new Error(i(3));return l}function y(e){if("function"!==typeof e)throw new Error(i(4));if(d)throw new Error(i(5));var t=!0;return p(),h.push(e),function(){if(t){if(d)throw new Error(i(6));t=!1,p();var n=h.indexOf(e);h.splice(n,1),f=null}}}function m(e){if(!s(e))throw new Error(i(7));if("undefined"===typeof e.type)throw new Error(i(8));if(d)throw new Error(i(9));try{d=!0,l=o(l,e)}finally{d=!1}for(var t=f=h,n=0;n<t.length;n++){(0,t[n])()}return e}function g(e){if("function"!==typeof e)throw new Error(i(10));o=e,m({type:u.REPLACE})}function k(){var e,t=y;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(i(11));function n(){e.next&&e.next(v())}return n(),{unsubscribe:t(n)}}})[a]=function(){return this},e}return m({type:u.INIT}),(r={dispatch:m,subscribe:y,getState:v,replaceReducer:g})[a]=k,r}function l(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var a=t[r];0,"function"===typeof e[a]&&(n[a]=e[a])}var o,s=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:u.INIT}))throw new Error(i(12));if("undefined"===typeof n(void 0,{type:u.PROBE_UNKNOWN_ACTION()}))throw new Error(i(13))}))}(n)}catch(c){o=c}return function(e,t){if(void 0===e&&(e={}),o)throw o;for(var r=!1,a={},u=0;u<s.length;u++){var c=s[u],l=n[c],f=e[c],h=l(f,t);if("undefined"===typeof h){t&&t.type;throw new Error(i(14))}a[c]=h,r=r||h!==f}return(r=r||s.length!==Object.keys(e).length)?a:e}}function f(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function h(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),a=function(){throw new Error(i(15))},o={getState:n.getState,dispatch:function(){return a.apply(void 0,arguments)}},u=t.map((function(e){return e(o)}));return a=f.apply(void 0,u)(n.dispatch),(0,r.Z)((0,r.Z)({},n),{},{dispatch:a})}}}},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,y=!1,m="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(y=!1,b(e),!v)if(null!==r(c))v=!0,O(x);else{var t=r(l);null!==t&&D(w,t.startTime-e)}}function x(e,n){v=!1,y&&(y=!1,g(E),E=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!A());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&D(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,S=!1,I=null,E=-1,T=5,C=-1;function A(){return!(t.unstable_now()-C<T)}function R(){if(null!==I){var e=t.unstable_now();C=e;var n=!0;try{n=I(!0,e)}finally{n?_():(S=!1,I=null)}}else S=!1}if("function"===typeof k)_=function(){k(R)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,P=N.port2;N.port1.onmessage=R,_=function(){P.postMessage(null)}}else _=function(){m(R,0)};function O(e){I=e,S||(S=!0,_())}function D(e,n){E=m((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,O(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(y?(g(E),E=-1):y=!0,D(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,O(x))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},9613:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var u=Object.prototype.hasOwnProperty.bind(t),s=0;s<a.length;s++){var c=a[s];if(!u(c))return!1;var l=e[c],f=t[c];if(!1===(i=n?n.call(r,l,f,c):void 0)||void 0===i&&l!==f)return!1}return!0}},1561:function(e,t,n){"use strict";var r=n(2791);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useState,o=r.useEffect,u=r.useLayoutEffect,s=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var l="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,l=r[1];return u((function(){i.value=n,i.getSnapshot=t,c(i)&&l({inst:i})}),[e,n,t]),o((function(){return c(i)&&l({inst:i}),e((function(){c(i)&&l({inst:i})}))}),[e]),s(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},7595:function(e,t,n){"use strict";var r=n(2791),i=n(7248);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=i.useSyncExternalStore,u=r.useRef,s=r.useEffect,c=r.useMemo,l=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var f=u(null);if(null===f.current){var h={hasValue:!1,value:null};f.current=h}else h=f.current;f=c((function(){function e(e){if(!s){if(s=!0,o=e,e=r(e),void 0!==i&&h.hasValue){var t=h.value;if(i(t,e))return u=t}return u=e}if(t=u,a(o,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(o=e,u=n)}var o,u,s=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,i]);var d=o(e,f[0],f[1]);return s((function(){h.hasValue=!0,h.value=d}),[d]),l(d),d}},7248:function(e,t,n){"use strict";e.exports=n(1561)},327:function(e,t,n){"use strict";e.exports=n(7595)},907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},3878:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,{Z:function(){return r}})},7326:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},3144:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}n.d(t,{Z:function(){return i}})},4942:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})},7462:function(e,t,n){"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:function(){return r}})},9199:function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:function(){return r}})},5267:function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:function(){return r}})},1413:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(4942);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},5987:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(3366);function i(e,t){if(null==e)return{};var n,i,a=(0,r.Z)(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}},3366:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,{Z:function(){return r}})},9611:function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{Z:function(){return r}})},9439:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(3878);var i=n(181),a=n(5267);function o(e,t){return(0,r.Z)(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||(0,i.Z)(e,t)||(0,a.Z)()}},3433:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(907);var i=n(9199),a=n(181);function o(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,i.Z)(e)||(0,a.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},1002:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:function(){return r}})},181:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(907);function i(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".1eaead5c.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="group_chat_app:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var u,s;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){u=f;break}}u||(s=!0,(u=document.createElement("script")).charset="utf-8",u.timeout=120,n.nc&&u.setAttribute("nonce",n.nc),u.setAttribute("data-webpack",t+a),u.src=r),e[r]=[i];var h=function(t,n){u.onerror=u.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],u.parentNode&&u.parentNode.removeChild(u),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=h.bind(null,u.onerror),u.onload=h.bind(null,u.onload),s&&document.head.appendChild(u)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/group_chat_app/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),u=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;u.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",u.name="ChunkLoadError",u.type=a,u.request=o,i[1](u)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],u=r[1],s=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in u)n.o(u,i)&&(n.m[i]=u[i]);if(s)s(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkgroup_chat_app=self.webpackChunkgroup_chat_app||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return rn},SDK_VERSION:function(){return hr},_DEFAULT_ENTRY_NAME:function(){return Jn},_addComponent:function(){return rr},_addOrOverwriteComponent:function(){return ir},_apps:function(){return tr},_clearComponents:function(){return sr},_components:function(){return nr},_getProvider:function(){return or},_registerComponent:function(){return ar},_removeServiceInstance:function(){return ur},deleteApp:function(){return yr},getApp:function(){return pr},getApps:function(){return vr},initializeApp:function(){return dr},onLog:function(){return kr},registerVersion:function(){return gr},setLogLevel:function(){return br}});var t=n(2791),r=n(1250);function i(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var a=n(7441),o=n(9613),u=n.n(o);var s=function(e){function t(e,r,s,c,h){for(var d,p,v,y,b,x=0,_=0,S=0,I=0,E=0,P=0,D=v=d=0,M=0,F=0,U=0,V=0,j=s.length,Z=j-1,z="",B="",q="",W="";M<j;){if(p=s.charCodeAt(M),M===Z&&0!==_+I+S+x&&(0!==_&&(p=47===_?10:47),I=S=x=0,j++,Z++),0===_+I+S+x){if(M===Z&&(0<F&&(z=z.replace(f,"")),0<z.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:z+=s.charAt(M)}p=59}switch(p){case 123:for(d=(z=z.trim()).charCodeAt(0),v=1,V=++M;M<j;){switch(p=s.charCodeAt(M)){case 123:v++;break;case 125:v--;break;case 47:switch(p=s.charCodeAt(M+1)){case 42:case 47:e:{for(D=M+1;D<Z;++D)switch(s.charCodeAt(D)){case 47:if(42===p&&42===s.charCodeAt(D-1)&&M+2!==D){M=D+1;break e}break;case 10:if(47===p){M=D+1;break e}}M=D}}break;case 91:p++;case 40:p++;case 34:case 39:for(;M++<Z&&s.charCodeAt(M)!==p;);}if(0===v)break;M++}if(v=s.substring(V,M),0===d&&(d=(z=z.replace(l,"").trim()).charCodeAt(0)),64===d){switch(0<F&&(z=z.replace(f,"")),p=z.charCodeAt(1)){case 100:case 109:case 115:case 45:F=r;break;default:F=N}if(V=(v=t(r,F,v,p,h+1)).length,0<O&&(b=u(3,v,F=n(N,z,U),r,C,T,V,p,h,c),z=F.join(""),void 0!==b&&0===(V=(v=b.trim()).length)&&(p=0,v="")),0<V)switch(p){case 115:z=z.replace(w,o);case 100:case 109:case 45:v=z+"{"+v+"}";break;case 107:v=(z=z.replace(m,"$1 $2"))+"{"+v+"}",v=1===R||2===R&&a("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=z+v,112===c&&(B+=v,v="")}else v=""}else v=t(r,n(r,z,U),v,c,h+1);q+=v,v=U=F=D=d=0,z="",p=s.charCodeAt(++M);break;case 125:case 59:if(1<(V=(z=(0<F?z.replace(f,""):z).trim()).length))switch(0===D&&(d=z.charCodeAt(0),45===d||96<d&&123>d)&&(V=(z=z.replace(" ",":")).length),0<O&&void 0!==(b=u(1,z,r,e,C,T,B.length,c,h,c))&&0===(V=(z=b.trim()).length)&&(z="\0\0"),d=z.charCodeAt(0),p=z.charCodeAt(1),d){case 0:break;case 64:if(105===p||99===p){W+=z+s.charAt(M);break}default:58!==z.charCodeAt(V-1)&&(B+=i(z,d,p,z.charCodeAt(2)))}U=F=D=d=0,z="",p=s.charCodeAt(++M)}}switch(p){case 13:case 10:47===_?_=0:0===1+d&&107!==c&&0<z.length&&(F=1,z+="\0"),0<O*L&&u(0,z,r,e,C,T,B.length,c,h,c),T=1,C++;break;case 59:case 125:if(0===_+I+S+x){T++;break}default:switch(T++,y=s.charAt(M),p){case 9:case 32:if(0===I+x+_)switch(E){case 44:case 58:case 9:case 32:y="";break;default:32!==p&&(y=" ")}break;case 0:y="\\0";break;case 12:y="\\f";break;case 11:y="\\v";break;case 38:0===I+_+x&&(F=U=1,y="\f"+y);break;case 108:if(0===I+_+x+A&&0<D)switch(M-D){case 2:112===E&&58===s.charCodeAt(M-3)&&(A=E);case 8:111===P&&(A=P)}break;case 58:0===I+_+x&&(D=M);break;case 44:0===_+S+I+x&&(F=1,y+="\r");break;case 34:case 39:0===_&&(I=I===p?0:0===I?p:I);break;case 91:0===I+_+S&&x++;break;case 93:0===I+_+S&&x--;break;case 41:0===I+_+x&&S--;break;case 40:if(0===I+_+x){if(0===d)if(2*E+3*P===533);else d=1;S++}break;case 64:0===_+S+I+x+D+v&&(v=1);break;case 42:case 47:if(!(0<I+x+S))switch(_){case 0:switch(2*p+3*s.charCodeAt(M+1)){case 235:_=47;break;case 220:V=M,_=42}break;case 42:47===p&&42===E&&V+2!==M&&(33===s.charCodeAt(V+2)&&(B+=s.substring(V,M+1)),y="",_=0)}}0===_&&(z+=y)}P=E,E=p,M++}if(0<(V=B.length)){if(F=r,0<O&&(void 0!==(b=u(2,B,F,e,C,T,V,c,h,c))&&0===(B=b).length))return W+B+q;if(B=F.join(",")+"{"+B+"}",0!==R*A){switch(2!==R||a(B,2)||(A=0),A){case 111:B=B.replace(k,":-moz-$1")+B;break;case 112:B=B.replace(g,"::-webkit-input-$1")+B.replace(g,"::-moz-$1")+B.replace(g,":-ms-input-$1")+B}A=0}}return W+B+q}function n(e,t,n){var i=t.trim().split(v);t=i;var a=i.length,o=e.length;switch(o){case 0:case 1:var u=0;for(e=0===o?"":e[0]+" ";u<a;++u)t[u]=r(e,t[u],n).trim();break;default:var s=u=0;for(t=[];u<a;++u)for(var c=0;c<o;++c)t[s++]=r(e[c]+" ",i[u],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(y,"$1"+e.trim());case 58:return e.trim()+t.replace(y,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(y,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var o=e+";",u=2*t+3*n+4*r;if(944===u){e=o.indexOf(":",9)+1;var s=o.substring(e,o.length-1).trim();return s=o.substring(0,e).trim()+s+";",1===R||2===R&&a(s,1)?"-webkit-"+s+s:s}if(0===R||2===R&&!a(o,1))return o;switch(u){case 1015:return 97===o.charCodeAt(10)?"-webkit-"+o+o:o;case 951:return 116===o.charCodeAt(3)?"-webkit-"+o+o:o;case 963:return 110===o.charCodeAt(5)?"-webkit-"+o+o:o;case 1009:if(100!==o.charCodeAt(4))break;case 969:case 942:return"-webkit-"+o+o;case 978:return"-webkit-"+o+"-moz-"+o+o;case 1019:case 983:return"-webkit-"+o+"-moz-"+o+"-ms-"+o+o;case 883:if(45===o.charCodeAt(8))return"-webkit-"+o+o;if(0<o.indexOf("image-set(",11))return o.replace(E,"$1-webkit-$2")+o;break;case 932:if(45===o.charCodeAt(4))switch(o.charCodeAt(5)){case 103:return"-webkit-box-"+o.replace("-grow","")+"-webkit-"+o+"-ms-"+o.replace("grow","positive")+o;case 115:return"-webkit-"+o+"-ms-"+o.replace("shrink","negative")+o;case 98:return"-webkit-"+o+"-ms-"+o.replace("basis","preferred-size")+o}return"-webkit-"+o+"-ms-"+o+o;case 964:return"-webkit-"+o+"-ms-flex-"+o+o;case 1023:if(99!==o.charCodeAt(8))break;return"-webkit-box-pack"+(s=o.substring(o.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+o+"-ms-flex-pack"+s+o;case 1005:return d.test(o)?o.replace(h,":-webkit-")+o.replace(h,":-moz-")+o:o;case 1e3:switch(t=(s=o.substring(13).trim()).indexOf("-")+1,s.charCodeAt(0)+s.charCodeAt(t)){case 226:s=o.replace(b,"tb");break;case 232:s=o.replace(b,"tb-rl");break;case 220:s=o.replace(b,"lr");break;default:return o}return"-webkit-"+o+"-ms-"+s+o;case 1017:if(-1===o.indexOf("sticky",9))break;case 975:switch(t=(o=e).length-10,u=(s=(33===o.charCodeAt(t)?o.substring(0,t):o).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|s.charCodeAt(7))){case 203:if(111>s.charCodeAt(8))break;case 115:o=o.replace(s,"-webkit-"+s)+";"+o;break;case 207:case 102:o=o.replace(s,"-webkit-"+(102<u?"inline-":"")+"box")+";"+o.replace(s,"-webkit-"+s)+";"+o.replace(s,"-ms-"+s+"box")+";"+o}return o+";";case 938:if(45===o.charCodeAt(5))switch(o.charCodeAt(6)){case 105:return s=o.replace("-items",""),"-webkit-"+o+"-webkit-box-"+s+"-ms-flex-"+s+o;case 115:return"-webkit-"+o+"-ms-flex-item-"+o.replace(_,"")+o;default:return"-webkit-"+o+"-ms-flex-line-pack"+o.replace("align-content","").replace(_,"")+o}break;case 973:case 989:if(45!==o.charCodeAt(3)||122===o.charCodeAt(4))break;case 931:case 953:if(!0===I.test(e))return 115===(s=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):o.replace(s,"-webkit-"+s)+o.replace(s,"-moz-"+s.replace("fill-",""))+o;break;case 962:if(o="-webkit-"+o+(102===o.charCodeAt(5)?"-ms-"+o:"")+o,211===n+r&&105===o.charCodeAt(13)&&0<o.indexOf("transform",10))return o.substring(0,o.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+o}return o}function a(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),D(2!==t?r:r.replace(S,"$1"),n,t)}function o(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(x," or ($1)").substring(4):"("+t+")"}function u(e,t,n,r,i,a,o,u,s,l){for(var f,h=0,d=t;h<O;++h)switch(f=P[h].call(c,e,d,n,r,i,a,o,u,s,l)){case void 0:case!1:case!0:case null:break;default:d=f}if(d!==t)return d}function s(e){return void 0!==(e=e.prefix)&&(D=null,e?"function"!==typeof e?R=1:(R=2,D=e):R=0),s}function c(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<O){var i=u(-1,n,r,r,C,T,0,0,0,0);void 0!==i&&"string"===typeof i&&(n=i)}var a=t(N,r,n,0,0);return 0<O&&(void 0!==(i=u(-2,a,r,r,C,T,a.length,0,0,0))&&(a=i)),"",A=0,T=C=1,a}var l=/^\0+/g,f=/[\0\r\f]/g,h=/: */g,d=/zoo|gra/,p=/([,: ])(transform)/g,v=/,\r+?/g,y=/([\t\r\n ])*\f?&/g,m=/@(k\w+)\s*(\S*)\s*/,g=/::(place)/g,k=/:(read-only)/g,b=/[svh]\w+-[tblr]{2}/,w=/\(\s*(.*)\s*\)/g,x=/([\s\S]*?);/g,_=/-self|flex-/g,S=/[^]*?(:[rp][el]a[\w-]+)[^]*/,I=/stretch|:\s*\w+\-(?:conte|avail)/,E=/([^-])(image-set\()/,T=1,C=1,A=0,R=1,N=[],P=[],O=0,D=null,L=0;return c.use=function e(t){switch(t){case void 0:case null:O=P.length=0;break;default:if("function"===typeof t)P[O++]=t;else if("object"===typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else L=0|!!t}return e},c.set=s,void 0!==e&&s(e),c},c={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var l=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},f=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,h=l((function(e){return f.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),d=n(2110),p=n.n(d);function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var y=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},m=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,a.typeOf)(e)},g=Object.freeze([]),k=Object.freeze({});function b(e){return"function"==typeof e}function w(e){return e.displayName||e.name||"Component"}function x(e){return e&&"string"==typeof e.styledComponentId}var _="undefined"!=typeof process&&({NODE_ENV:"production",PUBLIC_URL:"/group_chat_app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"/group_chat_app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_ATTR)||"data-styled",S="undefined"!=typeof window&&"HTMLElement"in window,I=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/group_chat_app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/group_chat_app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"/group_chat_app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/group_chat_app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/group_chat_app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/group_chat_app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"/group_chat_app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/group_chat_app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY));function E(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var T=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&E(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var a=r;a<i;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(e+1),u=0,s=t.length;u<s;u++)this.tag.insertRule(o,t[u])&&(this.groupSizes[e]++,o++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,a=r;a<i;a++)t+=this.tag.getRule(a)+"/*!sc*/\n";return t},e}(),C=new Map,A=new Map,R=1,N=function(e){if(C.has(e))return C.get(e);for(;A.has(R);)R++;var t=R++;return C.set(e,t),A.set(t,e),t},P=function(e){return A.get(e)},O=function(e,t){t>=R&&(R=t+1),C.set(e,t),A.set(t,e)},D="style["+_+'][data-styled-version="5.3.5"]',L=new RegExp("^"+_+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),M=function(e,t,n){for(var r,i=n.split(","),a=0,o=i.length;a<o;a++)(r=i[a])&&e.registerName(t,r)},F=function(e,t){for(var n=(t.textContent||"").split("/*!sc*/\n"),r=[],i=0,a=n.length;i<a;i++){var o=n[i].trim();if(o){var u=o.match(L);if(u){var s=0|parseInt(u[1],10),c=u[2];0!==s&&(O(c,s),M(e,c,u[3]),e.getTag().insertRules(s,r)),r.length=0}else r.push(o)}}},U=function(){return"undefined"!=typeof window&&void 0!==window.__webpack_nonce__?window.__webpack_nonce__:null},V=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(_))return r}}(n),a=void 0!==i?i.nextSibling:null;r.setAttribute(_,"active"),r.setAttribute("data-styled-version","5.3.5");var o=U();return o&&r.setAttribute("nonce",o),n.insertBefore(r,a),r},j=function(){function e(e){var t=this.element=V(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}E(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),Z=function(){function e(e){var t=this.element=V(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),z=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),B=S,q={isServer:!S,useCSSOMInjection:!I},W=function(){function e(e,t,n){void 0===e&&(e=k),void 0===t&&(t={}),this.options=v({},q,{},e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&S&&B&&(B=!1,function(e){for(var t=document.querySelectorAll(D),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(_)&&(F(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return N(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(v({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new z(i):r?new j(i):new Z(i),new T(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(N(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(N(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(N(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var a=P(i);if(void 0!==a){var o=e.names.get(a),u=t.getGroup(i);if(o&&u&&o.size){var s=_+".g"+i+'[id="'+a+'"]',c="";void 0!==o&&o.forEach((function(e){e.length>0&&(c+=e+",")})),r+=""+u+s+'{content:"'+c+'"}/*!sc*/\n'}}}return r}(this)},e}(),K=/(a)(d)/gi,G=function(e){return String.fromCharCode(e+(e>25?39:97))};function H(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=G(t%52)+n;return(G(t%52)+n).replace(K,"$1-$2")}var Q=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},$=function(e){return Q(5381,e)};function Y(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(b(n)&&!x(n))return!1}return!0}var X=$("5.3.5"),J=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&Y(e),this.componentId=t,this.baseHash=Q(X,t),this.baseStyle=n,W.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var a=me(this.rules,e,t,n).join(""),o=H(Q(this.baseHash,a)>>>0);if(!t.hasNameForId(r,o)){var u=n(a,"."+o,void 0,r);t.insertRules(r,o,u)}i.push(o),this.staticRulesId=o}else{for(var s=this.rules.length,c=Q(this.baseHash,n.hash),l="",f=0;f<s;f++){var h=this.rules[f];if("string"==typeof h)l+=h;else if(h){var d=me(h,e,t,n),p=Array.isArray(d)?d.join(""):d;c=Q(c,p+f),l+=p}}if(l){var v=H(c>>>0);if(!t.hasNameForId(r,v)){var y=n(l,"."+v,void 0,r);t.insertRules(r,v,y)}i.push(v)}}return i.join(" ")},e}(),ee=/^\s*\/\/.*$/gm,te=[":","[",".","#"];function ne(e){var t,n,r,i,a=void 0===e?k:e,o=a.options,u=void 0===o?k:o,c=a.plugins,l=void 0===c?g:c,f=new s(u),h=[],d=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,a,o,u,s,c,l,f){switch(n){case 1:if(0===l&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===c)return r+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(i[0]+r),"";default:return r+(0===f?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){h.push(e)})),p=function(e,r,a){return 0===r&&-1!==te.indexOf(a[n.length])||a.match(i)?e:"."+t};function v(e,a,o,u){void 0===u&&(u="&");var s=e.replace(ee,""),c=a&&o?o+" "+a+" { "+s+" }":s;return t=u,n=a,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),f(o||!a?"":a,c)}return f.use([].concat(l,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,p))},d,function(e){if(-2===e){var t=h;return h=[],t}}])),v.hash=l.length?l.reduce((function(e,t){return t.name||E(15),Q(e,t.name)}),5381).toString():"",v}var re=t.createContext(),ie=(re.Consumer,t.createContext()),ae=(ie.Consumer,new W),oe=ne();function ue(){return(0,t.useContext)(re)||ae}function se(){return(0,t.useContext)(ie)||oe}function ce(e){var n=(0,t.useState)(e.stylisPlugins),r=n[0],i=n[1],a=ue(),o=(0,t.useMemo)((function(){var t=a;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),s=(0,t.useMemo)((function(){return ne({options:{prefix:!e.disableVendorPrefixes},plugins:r})}),[e.disableVendorPrefixes,r]);return(0,t.useEffect)((function(){u()(r,e.stylisPlugins)||i(e.stylisPlugins)}),[e.stylisPlugins]),t.createElement(re.Provider,{value:o},t.createElement(ie.Provider,{value:s},e.children))}var le=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=oe);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return E(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=oe),this.name+e.hash},e}(),fe=/([A-Z])/,he=/([A-Z])/g,de=/^ms-/,pe=function(e){return"-"+e.toLowerCase()};function ve(e){return fe.test(e)?e.replace(he,pe).replace(de,"-ms-"):e}var ye=function(e){return null==e||!1===e||""===e};function me(e,t,n,r){if(Array.isArray(e)){for(var i,a=[],o=0,u=e.length;o<u;o+=1)""!==(i=me(e[o],t,n,r))&&(Array.isArray(i)?a.push.apply(a,i):a.push(i));return a}return ye(e)?"":x(e)?"."+e.styledComponentId:b(e)?"function"!=typeof(s=e)||s.prototype&&s.prototype.isReactComponent||!t?e:me(e(t),t,n,r):e instanceof le?n?(e.inject(n,r),e.getName(r)):e:m(e)?function e(t,n){var r,i,a=[];for(var o in t)t.hasOwnProperty(o)&&!ye(t[o])&&(Array.isArray(t[o])&&t[o].isCss||b(t[o])?a.push(ve(o)+":",t[o],";"):m(t[o])?a.push.apply(a,e(t[o],o)):a.push(ve(o)+": "+(r=o,(null==(i=t[o])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in c?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(a,["}"]):a}(e):e.toString();var s}var ge=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function ke(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return b(e)||m(e)?ge(me(y(g,[e].concat(n)))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:ge(me(y(e,n)))}new Set;var be=function(e,t,n){return void 0===n&&(n=k),e.theme!==n.theme&&e.theme||t||n.theme},we=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,xe=/(^-|-$)/g;function _e(e){return e.replace(we,"-").replace(xe,"")}var Se=function(e){return H($(e)>>>0)};function Ie(e){return"string"==typeof e&&!0}var Ee=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},Te=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function Ce(e,t,n){var r=e[n];Ee(t)&&Ee(r)?Ae(r,t):e[n]=t}function Ae(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];if(Ee(o))for(var u in o)Te(u)&&Ce(e,o[u],u)}return e}var Re=t.createContext();Re.Consumer;var Ne={};function Pe(e,n,r){var i=x(e),a=!Ie(e),o=n.attrs,u=void 0===o?g:o,s=n.componentId,c=void 0===s?function(e,t){var n="string"!=typeof e?"sc":_e(e);Ne[n]=(Ne[n]||0)+1;var r=n+"-"+Se("5.3.5"+n+Ne[n]);return t?t+"-"+r:r}(n.displayName,n.parentComponentId):s,l=n.displayName,f=void 0===l?function(e){return Ie(e)?"styled."+e:"Styled("+w(e)+")"}(e):l,d=n.displayName&&n.componentId?_e(n.displayName)+"-"+n.componentId:n.componentId||c,y=i&&e.attrs?Array.prototype.concat(e.attrs,u).filter(Boolean):u,m=n.shouldForwardProp;i&&e.shouldForwardProp&&(m=n.shouldForwardProp?function(t,r,i){return e.shouldForwardProp(t,r,i)&&n.shouldForwardProp(t,r,i)}:e.shouldForwardProp);var _,S=new J(r,d,i?e.componentStyle:void 0),I=S.isStatic&&0===u.length,E=function(e,n){return function(e,n,r,i){var a=e.attrs,o=e.componentStyle,u=e.defaultProps,s=e.foldedComponentIds,c=e.shouldForwardProp,l=e.styledComponentId,f=e.target,d=function(e,t,n){void 0===e&&(e=k);var r=v({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,a,o=e;for(t in b(o)&&(o=o(r)),o)r[t]=i[t]="className"===t?(n=i[t],a=o[t],n&&a?n+" "+a:n||a):o[t]})),[r,i]}(be(n,(0,t.useContext)(Re),u)||k,n,a),p=d[0],y=d[1],m=function(e,t,n,r){var i=ue(),a=se();return t?e.generateAndInjectStyles(k,i,a):e.generateAndInjectStyles(n,i,a)}(o,i,p),g=r,w=y.$as||n.$as||y.as||n.as||f,x=Ie(w),_=y!==n?v({},n,{},y):n,S={};for(var I in _)"$"!==I[0]&&"as"!==I&&("forwardedAs"===I?S.as=_[I]:(c?c(I,h,w):!x||h(I))&&(S[I]=_[I]));return n.style&&y.style!==n.style&&(S.style=v({},n.style,{},y.style)),S.className=Array.prototype.concat(s,l,m!==l?m:null,n.className,y.className).filter(Boolean).join(" "),S.ref=g,(0,t.createElement)(w,S)}(_,e,n,I)};return E.displayName=f,(_=t.forwardRef(E)).attrs=y,_.componentStyle=S,_.displayName=f,_.shouldForwardProp=m,_.foldedComponentIds=i?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):g,_.styledComponentId=d,_.target=i?e.target:e,_.withComponent=function(e){var t=n.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(n,["componentId"]),a=t&&t+"-"+(Ie(e)?e:_e(w(e)));return Pe(e,v({},i,{attrs:y,componentId:a}),r)},Object.defineProperty(_,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=i?Ae({},e.defaultProps,t):t}}),_.toString=function(){return"."+_.styledComponentId},a&&p()(_,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),_}var Oe=function(e){return function e(t,n,r){if(void 0===r&&(r=k),!(0,a.isValidElementType)(n))return E(1,String(n));var i=function(){return t(n,r,ke.apply(void 0,arguments))};return i.withConfig=function(i){return e(t,n,v({},r,{},i))},i.attrs=function(i){return e(t,n,v({},r,{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},i}(Pe,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){Oe[e]=Oe(e)}));!function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=Y(e),W.registerId(this.componentId+1)}var t=e.prototype;t.createStyles=function(e,t,n,r){var i=r(me(this.rules,t,n,r).join(""),""),a=this.componentId+e;n.insertRules(a,a,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&W.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)}}();!function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=U();return"<style "+[n&&'nonce="'+n+'"',_+'="true"','data-styled-version="5.3.5"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?E(2):e._emitSheetCSS()},this.getStyleElement=function(){var n;if(e.sealed)return E(2);var r=((n={})[_]="",n["data-styled-version"]="5.3.5",n.dangerouslySetInnerHTML={__html:e.instance.toString()},n),i=U();return i&&(r.nonce=i),[t.createElement("style",v({},r,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new W({isServer:!0}),this.sealed=!1}var n=e.prototype;n.collectStyles=function(e){return this.sealed?E(2):t.createElement(ce,{sheet:this.instance},e)},n.interleaveWithNodeStream=function(e){return E(3)}}();var De=Oe,Le=n(7462),Me=n(5987),Fe=n(8182),Ue=n(2241),Ve=(0,n(8499).Z)(t.createElement("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");var je=t.forwardRef((function(e,n){var r=e.alt,i=e.children,a=e.classes,o=e.className,u=e.component,s=void 0===u?"div":u,c=e.imgProps,l=e.sizes,f=e.src,h=e.srcSet,d=e.variant,p=void 0===d?"circular":d,v=(0,Me.Z)(e,["alt","children","classes","className","component","imgProps","sizes","src","srcSet","variant"]),y=null,m=function(e){var n=e.src,r=e.srcSet,i=t.useState(!1),a=i[0],o=i[1];return t.useEffect((function(){if(n||r){o(!1);var e=!0,t=new Image;return t.src=n,t.srcSet=r,t.onload=function(){e&&o("loaded")},t.onerror=function(){e&&o("error")},function(){e=!1}}}),[n,r]),a}({src:f,srcSet:h}),g=f||h,k=g&&"error"!==m;return y=k?t.createElement("img",(0,Le.Z)({alt:r,src:f,srcSet:h,sizes:l,className:a.img},c)):null!=i?i:g&&r?r[0]:t.createElement(Ve,{className:a.fallback}),t.createElement(s,(0,Le.Z)({className:(0,Fe.Z)(a.root,a.system,a[p],o,!k&&a.colorDefault),ref:n},v),y)})),Ze=(0,Ue.Z)((function(e){return{root:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},colorDefault:{color:e.palette.background.default,backgroundColor:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[600]},circle:{},circular:{},rounded:{borderRadius:e.shape.borderRadius},square:{borderRadius:0},img:{width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4},fallback:{width:"75%",height:"75%"}}}),{name:"MuiAvatar"})(je),ze=n(7248),Be=n(327),qe=n(4164);var We=function(e){e()},Ke=function(){return We},Ge=t.createContext(null);var He=function(){throw new Error("uSES not initialized!")};var Qe=n(9439),$e=n(3433),Ye=n(3366),Xe=n(6900),Je=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function et(e,t,n,r,i){var a,o,u,s,c,l=i.areStatesEqual,f=i.areOwnPropsEqual,h=i.areStatePropsEqual,d=!1;function p(i,d){var p=!f(d,o),v=!l(i,a);return a=i,o=d,p&&v?(u=e(a,o),t.dependsOnOwnProps&&(s=t(r,o)),c=n(u,s,o)):p?(e.dependsOnOwnProps&&(u=e(a,o)),t.dependsOnOwnProps&&(s=t(r,o)),c=n(u,s,o)):v?function(){var t=e(a,o),r=!h(t,u);return u=t,r&&(c=n(u,s,o)),c}():c}return function(i,l){return d?p(i,l):(u=e(a=i,o=l),s=t(r,o),c=n(u,s,o),d=!0,c)}}function tt(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,a=(0,Ye.Z)(t,Je);return et(n(e,a),r(e,a),i(e,a),e,a)}function nt(e){return function(t){var n=e(t);function r(){return n}return r.dependsOnOwnProps=!1,r}}function rt(e){return e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function it(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e,void 0)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=rt(e);var i=r(t,n);return"function"===typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=rt(i),i=r(t,n)),i},r}}function at(e,t){return function(n,r){throw new Error("Invalid value of type ".concat(typeof e," for ").concat(t," argument when connecting component ").concat(r.wrappedComponentName,"."))}}function ot(e){return e&&"object"===typeof e?nt((function(t){return function(e,t){var n={},r=function(r){var i=e[r];"function"===typeof i&&(n[r]=function(){return t(i.apply(void 0,arguments))})};for(var i in e)r(i);return n}(e,t)})):e?"function"===typeof e?it(e):at(e,"mapDispatchToProps"):nt((function(e){return{dispatch:e}}))}function ut(e){return e?"function"===typeof e?it(e):at(e,"mapStateToProps"):nt((function(){return{}}))}function st(e,t,n){return(0,Le.Z)({},n,e,t)}function ct(e){return e?"function"===typeof e?function(e){return function(t,n){n.displayName;var r,i=n.areMergedPropsEqual,a=!1;return function(t,n,o){var u=e(t,n,o);return a?i(u,r)||(r=u):(a=!0,r=u),r}}}(e):at(e,"mergeProps"):function(){return st}}var lt={notify:function(){},get:function(){return[]}};function ft(e,t){var n,r=lt;function i(){o.onStateChange&&o.onStateChange()}function a(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=Ke(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var o={addNestedSub:function(e){return a(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=lt)},getListeners:function(){return r}};return o}var ht=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?t.useLayoutEffect:t.useEffect;function dt(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function pt(e,t){if(dt(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!dt(e[n[i]],t[n[i]]))return!1;return!0}var vt=["reactReduxForwardedRef"],yt=He,mt=[null,null];function gt(e,t,n){ht((function(){return e.apply(void 0,(0,$e.Z)(t))}),n)}function kt(e,t,n,r,i,a){e.current=r,n.current=!1,i.current&&(i.current=null,a())}function bt(e,t,n,r,i,a,o,u,s,c,l){if(!e)return function(){};var f=!1,h=null,d=function(){if(!f&&u.current){var e,n,d=t.getState();try{e=r(d,i.current)}catch(p){n=p,h=p}n||(h=null),e===a.current?o.current||c():(a.current=e,s.current=e,o.current=!0,l())}};n.onStateChange=d,n.trySubscribe(),d();return function(){if(f=!0,n.tryUnsubscribe(),n.onStateChange=null,h)throw h}}function wt(e,t){return e===t}var xt=function(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(i.pure,i.areStatesEqual),o=void 0===a?wt:a,u=i.areOwnPropsEqual,s=void 0===u?pt:u,c=i.areStatePropsEqual,l=void 0===c?pt:c,f=i.areMergedPropsEqual,h=void 0===f?pt:f,d=i.forwardRef,v=void 0!==d&&d,y=i.context,m=void 0===y?Ge:y,g=m,k=ut(e),b=ot(n),w=ct(r),x=Boolean(e),_=function(e){var n=e.displayName||e.name||"Component",r="Connect(".concat(n,")"),i={shouldHandleStateChanges:x,displayName:r,wrappedComponentName:n,WrappedComponent:e,initMapStateToProps:k,initMapDispatchToProps:b,initMergeProps:w,areStatesEqual:o,areStatePropsEqual:l,areOwnPropsEqual:s,areMergedPropsEqual:h};function a(n){var r=(0,t.useMemo)((function(){var e=n.reactReduxForwardedRef,t=(0,Ye.Z)(n,vt);return[n.context,e,t]}),[n]),a=(0,Qe.Z)(r,3),o=a[0],u=a[1],s=a[2],c=(0,t.useMemo)((function(){return o&&o.Consumer&&(0,Xe.isContextConsumer)(t.createElement(o.Consumer,null))?o:g}),[o,g]),l=(0,t.useContext)(c),f=Boolean(n.store)&&Boolean(n.store.getState)&&Boolean(n.store.dispatch),h=Boolean(l)&&Boolean(l.store);var d=f?n.store:l.store,p=h?l.getServerState:d.getState,v=(0,t.useMemo)((function(){return tt(d.dispatch,i)}),[d]),y=(0,t.useMemo)((function(){if(!x)return mt;var e=ft(d,f?void 0:l.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[d,f,l]),m=(0,Qe.Z)(y,2),k=m[0],b=m[1],w=(0,t.useMemo)((function(){return f?l:(0,Le.Z)({},l,{subscription:k})}),[f,l,k]),_=(0,t.useRef)(),S=(0,t.useRef)(s),I=(0,t.useRef)(),E=(0,t.useRef)(!1),T=((0,t.useRef)(!1),(0,t.useRef)(!1)),C=(0,t.useRef)();ht((function(){return T.current=!0,function(){T.current=!1}}),[]);var A,R=(0,t.useMemo)((function(){return function(){return I.current&&s===S.current?I.current:v(d.getState(),s)}}),[d,s]),N=(0,t.useMemo)((function(){return function(e){return k?bt(x,d,k,v,S,_,E,T,I,b,e):function(){}}}),[k]);gt(kt,[S,_,E,s,I,b]);try{A=yt(N,R,p?function(){return v(p(),s)}:R)}catch(O){throw C.current&&(O.message+="\nThe error may be correlated with this previous error:\n".concat(C.current.stack,"\n\n")),O}ht((function(){C.current=void 0,I.current=void 0,_.current=A}));var P=(0,t.useMemo)((function(){return t.createElement(e,(0,Le.Z)({},A,{ref:u}))}),[u,e,A]);return(0,t.useMemo)((function(){return x?t.createElement(c.Provider,{value:w},P):P}),[c,P,w])}var u=t.memo(a);if(u.WrappedComponent=e,u.displayName=a.displayName=r,v){var c=t.forwardRef((function(e,n){return t.createElement(u,(0,Le.Z)({},e,{reactReduxForwardedRef:n}))}));return c.displayName=r,c.WrappedComponent=e,p()(c,e)}return p()(u,e)};return _};var _t=function(e){var n=e.store,r=e.context,i=e.children,a=e.serverState,o=(0,t.useMemo)((function(){var e=ft(n);return{store:n,subscription:e,getServerState:a?function(){return a}:void 0}}),[n,a]),u=(0,t.useMemo)((function(){return n.getState()}),[n]);ht((function(){var e=o.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),u!==n.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}}),[o,u]);var s=r||Ge;return t.createElement(s.Provider,{value:o},i)};var St;!function(e){e}(Be.useSyncExternalStoreWithSelector),function(e){yt=e}(ze.useSyncExternalStore),St=qe.unstable_batchedUpdates,We=St;var It=n(1002);function Et(){Et=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(E){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),o=new _(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return I()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=b(o,n);if(u){if(u===l)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=c(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(E){return{type:"throw",arg:E}}}e.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};u(p,i,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(S([])));y&&y!==t&&n.call(y,i)&&(p=y);var m=d.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(i,a,o,u){var s=c(e[i],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==(0,It.Z)(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,o,u)}),(function(e){r("throw",e,o,u)})):t.resolve(f).then((function(e){l.value=e,o(l)}),(function(e){return r("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,n){function a(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(a,a):a()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function S(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:I}}function I(){return{value:void 0,done:!0}}return h.prototype=d,u(m,"constructor",d),u(d,"constructor",h),h.displayName=u(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,u(e,o,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},g(k.prototype),u(k.prototype,a,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new k(s(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},g(m),u(m,o,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=S,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}function Tt(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function Ct(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Tt(a,r,i,o,u,"next",e)}function u(e){Tt(a,r,i,o,u,"throw",e)}o(void 0)}))}}var At=n(4942);function Rt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Nt=n(3144),Pt=n(181);function Ot(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,Pt.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}var Dt=n(7326),Lt=n(9611);function Mt(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,Lt.Z)(e,t)}function Ft(e){return Ft=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ft(e)}function Ut(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Vt(e,t){if(t&&("object"===(0,It.Z)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,Dt.Z)(e)}function jt(e){var t=Ut();return function(){var n,r=Ft(e);if(t){var i=Ft(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Vt(this,n)}}function Zt(e,t,n){return Zt=Ut()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&(0,Lt.Z)(i,n.prototype),i},Zt.apply(null,arguments)}function zt(e){var t="function"===typeof Map?new Map:void 0;return zt=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Zt(e,arguments,Ft(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),(0,Lt.Z)(n,e)},zt(e)}var Bt=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},qt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Bt(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Wt=function(e){return function(e){var t=Bt(e);return qt.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Kt=function(e){try{return qt.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Gt(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Gt(e[n],t[n]));return e}var Ht=function(){function e(){var t=this;Rt(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return(0,Nt.Z)(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Qt(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Wt(JSON.stringify({alg:"none",type:"JWT"})),Wt(JSON.stringify(a)),""].join(".")}function $t(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Yt(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($t())}function Xt(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function Jt(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function en(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function tn(){var e=$t();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function nn(){return"object"===typeof indexedDB}var rn=function(e){Mt(n,e);var t=jt(n);function n(e,r,i){var a;return Rt(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf((0,Dt.Z)(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace((0,Dt.Z)(a),an.prototype.create),a}return(0,Nt.Z)(n)}(zt(Error)),an=function(){function e(t,n,r){Rt(this,e),this.service=t,this.serviceName=n,this.errors=r}return(0,Nt.Z)(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?on(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new rn(n,a,t);return o}}]),e}();function on(e,t){return e.replace(un,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var un=/\{\$([^}]+)}/g;function sn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function cn(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(ln(u)&&ln(s)){if(!cn(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function ln(e){return null!==e&&"object"===typeof e}function fn(e){for(var t=[],n=function(){var e=(0,Qe.Z)(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function hn(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("="),r=(0,Qe.Z)(n,2),i=r[0],a=r[1];t[decodeURIComponent(i)]=decodeURIComponent(a)}})),t}function dn(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function pn(e,t){var n=new vn(e,t);return n.subscribe.bind(n)}var vn=function(){function e(t,n){var r=this;Rt(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return(0,Nt.Z)(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=Ot(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=yn),void 0===r.error&&(r.error=yn),void 0===r.complete&&(r.complete=yn);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function yn(){}function mn(e){return e&&e._delegate?e._delegate:e}var gn=function(){function e(t,n,r){Rt(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return(0,Nt.Z)(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),kn="[DEFAULT]",bn=function(){function e(t,n){Rt(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return(0,Nt.Z)(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Ht;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:kn})}catch(s){}var t,n=Ot(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=(0,Qe.Z)(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kn;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Ct(Et().mark((function e(){var t;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat((0,$e.Z)(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),(0,$e.Z)(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kn;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kn;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=Ot(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=(0,Qe.Z)(i.value,2),s=u[0],c=u[1],l=this.normalizeInstanceIdentifier(s);r===l&&c.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Ot(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(_S){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===kn?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(_S){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kn;return this.component?this.component.multipleInstances?e:kn:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var wn,xn,_n=function(){function e(t){Rt(this,e),this.name=t,this.providers=new Map}return(0,Nt.Z)(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new bn(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Sn=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(xn||(xn={}));var In={debug:xn.DEBUG,verbose:xn.VERBOSE,info:xn.INFO,warn:xn.WARN,error:xn.ERROR,silent:xn.SILENT},En=xn.INFO,Tn=(wn={},(0,At.Z)(wn,xn.DEBUG,"log"),(0,At.Z)(wn,xn.VERBOSE,"log"),(0,At.Z)(wn,xn.INFO,"info"),(0,At.Z)(wn,xn.WARN,"warn"),(0,At.Z)(wn,xn.ERROR,"error"),wn),Cn=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Tn[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},An=function(){function e(t){Rt(this,e),this.name=t,this._logLevel=En,this._logHandler=Cn,this._userLogHandler=null,Sn.push(this)}return(0,Nt.Z)(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in xn))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?In[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,xn.DEBUG].concat(t)),this._logHandler.apply(this,[this,xn.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,xn.VERBOSE].concat(t)),this._logHandler.apply(this,[this,xn.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,xn.INFO].concat(t)),this._logHandler.apply(this,[this,xn.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,xn.WARN].concat(t)),this._logHandler.apply(this,[this,xn.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,xn.ERROR].concat(t)),this._logHandler.apply(this,[this,xn.ERROR].concat(t))}}]),e}();var Rn,Nn,Pn=n(1413);var On=new WeakMap,Dn=new WeakMap,Ln=new WeakMap,Mn=new WeakMap,Fn=new WeakMap;var Un={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Dn.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Ln.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zn(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Vn(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Nn||(Nn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(zn(this),n),Zn(On.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Zn(e.apply(zn(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[zn(this),t].concat(r));return Ln.set(a,t.sort?t.sort():[t]),Zn(a)}}function jn(e){return"function"===typeof e?Vn(e):(e instanceof IDBTransaction&&function(e){if(!Dn.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Dn.set(e,t)}}(e),t=e,(Rn||(Rn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,Un):e);var t}function Zn(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Zn(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&On.set(t,e)})).catch((function(){})),Fn.set(t,e),t}(e);if(Mn.has(e))return Mn.get(e);var t=jn(e);return t!==e&&(Mn.set(e,t),Fn.set(t,e)),t}var zn=function(e){return Fn.get(e)};var Bn,qn,Wn=["get","getKey","getAll","getAllKeys","count"],Kn=["put","add","delete","clear"],Gn=new Map;function Hn(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Gn.get(t))return Gn.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Kn.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Wn.includes(n))){var a=function(){var e=Ct(Et().mark((function e(t){var a,o,u,s,c,l,f=arguments;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Gn.set(t,a),a}}}Un=function(e){return(0,Pn.Z)((0,Pn.Z)({},e),{},{get:function(t,n,r){return Hn(t,n)||e.get(t,n,r)},has:function(t,n){return!!Hn(t,n)||e.has(t,n)}})}(Un);var Qn=function(){function e(t){Rt(this,e),this.container=t}return(0,Nt.Z)(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var $n="@firebase/app",Yn="0.7.25",Xn=new An("@firebase/app"),Jn="[DEFAULT]",er=(Bn={},(0,At.Z)(Bn,$n,"fire-core"),(0,At.Z)(Bn,"@firebase/app-compat","fire-core-compat"),(0,At.Z)(Bn,"@firebase/analytics","fire-analytics"),(0,At.Z)(Bn,"@firebase/analytics-compat","fire-analytics-compat"),(0,At.Z)(Bn,"@firebase/app-check","fire-app-check"),(0,At.Z)(Bn,"@firebase/app-check-compat","fire-app-check-compat"),(0,At.Z)(Bn,"@firebase/auth","fire-auth"),(0,At.Z)(Bn,"@firebase/auth-compat","fire-auth-compat"),(0,At.Z)(Bn,"@firebase/database","fire-rtdb"),(0,At.Z)(Bn,"@firebase/database-compat","fire-rtdb-compat"),(0,At.Z)(Bn,"@firebase/functions","fire-fn"),(0,At.Z)(Bn,"@firebase/functions-compat","fire-fn-compat"),(0,At.Z)(Bn,"@firebase/installations","fire-iid"),(0,At.Z)(Bn,"@firebase/installations-compat","fire-iid-compat"),(0,At.Z)(Bn,"@firebase/messaging","fire-fcm"),(0,At.Z)(Bn,"@firebase/messaging-compat","fire-fcm-compat"),(0,At.Z)(Bn,"@firebase/performance","fire-perf"),(0,At.Z)(Bn,"@firebase/performance-compat","fire-perf-compat"),(0,At.Z)(Bn,"@firebase/remote-config","fire-rc"),(0,At.Z)(Bn,"@firebase/remote-config-compat","fire-rc-compat"),(0,At.Z)(Bn,"@firebase/storage","fire-gcs"),(0,At.Z)(Bn,"@firebase/storage-compat","fire-gcs-compat"),(0,At.Z)(Bn,"@firebase/firestore","fire-fst"),(0,At.Z)(Bn,"@firebase/firestore-compat","fire-fst-compat"),(0,At.Z)(Bn,"fire-js","fire-js"),(0,At.Z)(Bn,"firebase","fire-js-all"),Bn),tr=new Map,nr=new Map;function rr(e,t){try{e.container.addComponent(t)}catch(n){Xn.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function ir(e,t){e.container.addOrOverwriteComponent(t)}function ar(e){var t=e.name;if(nr.has(t))return Xn.debug("There were multiple attempts to register component ".concat(t,".")),!1;nr.set(t,e);var n,r=Ot(tr.values());try{for(r.s();!(n=r.n()).done;){rr(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function or(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function ur(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Jn;or(e,t).clearInstance(n)}function sr(){nr.clear()}var cr=(qn={},(0,At.Z)(qn,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),(0,At.Z)(qn,"bad-app-name","Illegal App name: '{$appName}"),(0,At.Z)(qn,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),(0,At.Z)(qn,"app-deleted","Firebase App named '{$appName}' already deleted"),(0,At.Z)(qn,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),(0,At.Z)(qn,"invalid-log-argument","First argument to `onLog` must be null or a function."),(0,At.Z)(qn,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),(0,At.Z)(qn,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),(0,At.Z)(qn,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),(0,At.Z)(qn,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),qn),lr=new an("app","Firebase",cr),fr=function(){function e(t,n,r){var i=this;Rt(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new gn("app",(function(){return i}),"PUBLIC"))}return(0,Nt.Z)(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw lr.create("app-deleted",{appName:this._name})}}]),e}(),hr="9.8.2";function dr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:Jn,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw lr.create("bad-app-name",{appName:String(i)});var a=tr.get(i);if(a){if(cn(e,a.options)&&cn(r,a.config))return a;throw lr.create("duplicate-app",{appName:i})}var o,u=new _n(i),s=Ot(nr.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new fr(e,r,u);return tr.set(i,l),l}function pr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jn,t=tr.get(e);if(!t)throw lr.create("no-app",{appName:e});return t}function vr(){return Array.from(tr.values())}function yr(e){return mr.apply(this,arguments)}function mr(){return mr=Ct(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!tr.has(n)){e.next=6;break}return tr.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),mr.apply(this,arguments)}function gr(e,t,n){var r,i=null!==(r=er[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Xn.warn(u.join(" "))}ar(new gn("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function kr(e,t){if(null!==e&&"function"!==typeof e)throw lr.create("invalid-log-argument");!function(e,t){var n,r=Ot(Sn);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=In[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:xn[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function br(e){var t;t=e,Sn.forEach((function(e){e.setLogLevel(t)}))}var wr="firebase-heartbeat-store",xr=null;function _r(){return xr||(xr=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=Zn(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(Zn(u.result),e.oldVersion,e.newVersion,Zn(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(wr)}}).catch((function(e){throw lr.create("storage-open",{originalErrorMessage:e.message})}))),xr}function Sr(e){return Ir.apply(this,arguments)}function Ir(){return Ir=Ct(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_r();case 3:return n=e.sent,e.abrupt("return",n.transaction(wr).objectStore(wr).get(Cr(t)));case 7:throw e.prev=7,e.t0=e.catch(0),lr.create("storage-get",{originalErrorMessage:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Ir.apply(this,arguments)}function Er(e,t){return Tr.apply(this,arguments)}function Tr(){return Tr=Ct(Et().mark((function e(t,n){var r,i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_r();case 3:return r=e.sent,i=r.transaction(wr,"readwrite"),a=i.objectStore(wr),e.next=8,a.put(n,Cr(t));case 8:return e.abrupt("return",i.done);case 11:throw e.prev=11,e.t0=e.catch(0),lr.create("storage-set",{originalErrorMessage:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Tr.apply(this,arguments)}function Cr(e){return"".concat(e.name,"!").concat(e.options.appId)}var Ar=function(){function e(t){var n=this;Rt(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Dr(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return(0,Nt.Z)(e,[{key:"triggerHeartbeat",value:function(){var e=Ct(Et().mark((function e(){var t,n,r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Rr(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Ct(Et().mark((function e(){var t,n,r,i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Rr(),n=Nr(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Wt(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Rr(){return(new Date).toISOString().substring(0,10)}function Nr(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=Ot(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Lr(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Lr(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Pr,Or,Dr=function(){function e(t){Rt(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return(0,Nt.Z)(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Ct(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(nn()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Ct(Et().mark((function e(){var t;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Sr(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Ct(Et().mark((function e(t){var n,r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Er(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Ct(Et().mark((function e(t){var n,r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Er(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat((0,$e.Z)(r.heartbeats),(0,$e.Z)(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Lr(e){return Wt(JSON.stringify({version:2,heartbeats:e})).length}Pr="",ar(new gn("platform-logger",(function(e){return new Qn(e)}),"PRIVATE")),ar(new gn("heartbeat",(function(e){return new Ar(e)}),"PRIVATE")),gr($n,Yn,Pr),gr($n,Yn,"esm2017"),gr("fire-js","");var Mr=function(){function e(t,n){var r=this;Rt(this,e),this._delegate=t,this.firebase=n,rr(t,new gn("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return(0,Nt.Z)(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),yr(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Jn;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Jn;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){rr(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){ir(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Fr=(Or={},(0,At.Z)(Or,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),(0,At.Z)(Or,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Or),Ur=new an("app-compat","Firebase",Fr);var Vr=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=dr(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(sn(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:gr,setLogLevel:br,onLog:kr,apps:null,SDK_VERSION:hr,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(ar(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Ur.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&Gt(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!sn(n,e=e||Jn))throw Ur.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Mr);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Gt(n,e)},createSubscribe:pn,ErrorFactory:an,deepExtend:Gt}),n}(),jr=new An("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){jr.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Zr=self.firebase.SDK_VERSION;Zr&&Zr.indexOf("LITE")>=0&&jr.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var zr=Vr;!function(e){gr("@firebase/app-compat","0.1.26",e)}();zr.registerVersion("firebase","9.8.2","app-compat");var Br=n(3878),qr=n(9199),Wr=n(5267);function Kr(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ft(e)););return e}function Gr(){return Gr="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Kr(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Gr.apply(this,arguments)}function Hr(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var Qr;Object.create;var $r="facebook.com",Yr="github.com",Xr="google.com",Jr="password",ei="twitter.com",ti="EMAIL_SIGNIN",ni="PASSWORD_RESET",ri="RECOVER_EMAIL",ii="REVERT_SECOND_FACTOR_ADDITION",ai="VERIFY_AND_CHANGE_EMAIL",oi="VERIFY_EMAIL";function ui(){return(0,At.Z)({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var si=function(){var e;return e={},(0,At.Z)(e,"admin-restricted-operation","This operation is restricted to administrators only."),(0,At.Z)(e,"argument-error",""),(0,At.Z)(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),(0,At.Z)(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),(0,At.Z)(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),(0,At.Z)(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),(0,At.Z)(e,"cordova-not-ready","Cordova framework is not ready."),(0,At.Z)(e,"cors-unsupported","This browser is not supported."),(0,At.Z)(e,"credential-already-in-use","This credential is already associated with a different user account."),(0,At.Z)(e,"custom-token-mismatch","The custom token corresponds to a different audience."),(0,At.Z)(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),(0,At.Z)(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),(0,At.Z)(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),(0,At.Z)(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),(0,At.Z)(e,"email-already-in-use","The email address is already in use by another account."),(0,At.Z)(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),(0,At.Z)(e,"expired-action-code","The action code has expired."),(0,At.Z)(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),(0,At.Z)(e,"internal-error","An internal AuthError has occurred."),(0,At.Z)(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),(0,At.Z)(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),(0,At.Z)(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),(0,At.Z)(e,"invalid-auth-event","An internal AuthError has occurred."),(0,At.Z)(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),(0,At.Z)(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),(0,At.Z)(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),(0,At.Z)(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),(0,At.Z)(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),(0,At.Z)(e,"invalid-email","The email address is badly formatted."),(0,At.Z)(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),(0,At.Z)(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),(0,At.Z)(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),(0,At.Z)(e,"invalid-credential","The supplied auth credential is malformed or has expired."),(0,At.Z)(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),(0,At.Z)(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),(0,At.Z)(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),(0,At.Z)(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),(0,At.Z)(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),(0,At.Z)(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),(0,At.Z)(e,"wrong-password","The password is invalid or the user does not have a password."),(0,At.Z)(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),(0,At.Z)(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),(0,At.Z)(e,"invalid-provider-id","The specified provider ID is invalid."),(0,At.Z)(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),(0,At.Z)(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),(0,At.Z)(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),(0,At.Z)(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),(0,At.Z)(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),(0,At.Z)(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),(0,At.Z)(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),(0,At.Z)(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),(0,At.Z)(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),(0,At.Z)(e,"missing-continue-uri","A continue URL must be provided in the request."),(0,At.Z)(e,"missing-iframe-start","An internal AuthError has occurred."),(0,At.Z)(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),(0,At.Z)(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),(0,At.Z)(e,"missing-multi-factor-info","No second factor identifier is provided."),(0,At.Z)(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),(0,At.Z)(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),(0,At.Z)(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),(0,At.Z)(e,"app-deleted","This instance of FirebaseApp has been deleted."),(0,At.Z)(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),(0,At.Z)(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),(0,At.Z)(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),(0,At.Z)(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),(0,At.Z)(e,"no-auth-event","An internal AuthError has occurred."),(0,At.Z)(e,"no-such-provider","User was not linked to an account with the given provider."),(0,At.Z)(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),(0,At.Z)(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),(0,At.Z)(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),(0,At.Z)(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),(0,At.Z)(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),(0,At.Z)(e,"provider-already-linked","User can only be linked to one identity for the given provider."),(0,At.Z)(e,"quota-exceeded","The project's quota for this operation has been exceeded."),(0,At.Z)(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),(0,At.Z)(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),(0,At.Z)(e,"rejected-credential","The request contains malformed or mismatching credentials."),(0,At.Z)(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),(0,At.Z)(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),(0,At.Z)(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),(0,At.Z)(e,"timeout","The operation has timed out."),(0,At.Z)(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),(0,At.Z)(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),(0,At.Z)(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),(0,At.Z)(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),(0,At.Z)(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),(0,At.Z)(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),(0,At.Z)(e,"unverified-email","The operation requires a verified email."),(0,At.Z)(e,"user-cancelled","The user did not grant your application the permissions it requested."),(0,At.Z)(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),(0,At.Z)(e,"user-disabled","The user account has been disabled by an administrator."),(0,At.Z)(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),(0,At.Z)(e,"user-signed-out",""),(0,At.Z)(e,"weak-password","The password must be 6 characters long or more."),(0,At.Z)(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),(0,At.Z)(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},ci=ui,li=new an("auth","Firebase",ui()),fi=new An("@firebase/auth");function hi(e){if(fi.logLevel<=xn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];fi.error.apply(fi,["Auth (".concat(hr,"): ").concat(e)].concat(n))}}function di(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw mi.apply(void 0,[e].concat(n))}function pi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return mi.apply(void 0,[e].concat(n))}function vi(e,t,n){var r=Object.assign(Object.assign({},ci()),(0,At.Z)({},t,n));return new an("auth","Firebase",r).create(t,{appName:e.name})}function yi(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&di(e,"argument-error"),vi(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function mi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=(0,$e.Z)(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat((0,$e.Z)(o)))}return li.create.apply(li,[e].concat(n))}function gi(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw mi.apply(void 0,[t].concat(r))}}function ki(e){var t="INTERNAL ASSERTION FAILED: "+e;throw hi(t),new Error(t)}function bi(e,t){e||ki(t)}var wi=new Map;function xi(e){bi(e instanceof Function,"Expected a class definition");var t=wi.get(e);return t?(bi(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,wi.set(e,t),t)}function _i(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Si(){return"http:"===Ii()||"https:"===Ii()}function Ii(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Ei=function(){function e(t,n){Rt(this,e),this.shortDelay=t,this.longDelay=n,bi(n>t,"Short delay should be less than long delay!"),this.isMobile=Yt()||en()}return(0,Nt.Z)(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Si()||Jt()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Ti(e,t){bi(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Ci=function(){function e(){Rt(this,e)}return(0,Nt.Z)(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void ki("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void ki("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void ki("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Ai=(Qr={},(0,At.Z)(Qr,"CREDENTIAL_MISMATCH","custom-token-mismatch"),(0,At.Z)(Qr,"MISSING_CUSTOM_TOKEN","internal-error"),(0,At.Z)(Qr,"INVALID_IDENTIFIER","invalid-email"),(0,At.Z)(Qr,"MISSING_CONTINUE_URI","internal-error"),(0,At.Z)(Qr,"INVALID_PASSWORD","wrong-password"),(0,At.Z)(Qr,"MISSING_PASSWORD","internal-error"),(0,At.Z)(Qr,"EMAIL_EXISTS","email-already-in-use"),(0,At.Z)(Qr,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),(0,At.Z)(Qr,"INVALID_IDP_RESPONSE","invalid-credential"),(0,At.Z)(Qr,"INVALID_PENDING_TOKEN","invalid-credential"),(0,At.Z)(Qr,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),(0,At.Z)(Qr,"MISSING_REQ_TYPE","internal-error"),(0,At.Z)(Qr,"EMAIL_NOT_FOUND","user-not-found"),(0,At.Z)(Qr,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),(0,At.Z)(Qr,"EXPIRED_OOB_CODE","expired-action-code"),(0,At.Z)(Qr,"INVALID_OOB_CODE","invalid-action-code"),(0,At.Z)(Qr,"MISSING_OOB_CODE","internal-error"),(0,At.Z)(Qr,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),(0,At.Z)(Qr,"INVALID_ID_TOKEN","invalid-user-token"),(0,At.Z)(Qr,"TOKEN_EXPIRED","user-token-expired"),(0,At.Z)(Qr,"USER_NOT_FOUND","user-token-expired"),(0,At.Z)(Qr,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),(0,At.Z)(Qr,"INVALID_CODE","invalid-verification-code"),(0,At.Z)(Qr,"INVALID_SESSION_INFO","invalid-verification-id"),(0,At.Z)(Qr,"INVALID_TEMPORARY_PROOF","invalid-credential"),(0,At.Z)(Qr,"MISSING_SESSION_INFO","missing-verification-id"),(0,At.Z)(Qr,"SESSION_EXPIRED","code-expired"),(0,At.Z)(Qr,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),(0,At.Z)(Qr,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),(0,At.Z)(Qr,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),(0,At.Z)(Qr,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),(0,At.Z)(Qr,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),(0,At.Z)(Qr,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),(0,At.Z)(Qr,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),(0,At.Z)(Qr,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),(0,At.Z)(Qr,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),(0,At.Z)(Qr,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),(0,At.Z)(Qr,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Qr),Ri=new Ei(3e4,6e4);function Ni(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Pi(e,t,n,r){return Oi.apply(this,arguments)}function Oi(){return Oi=Ct(Et().mark((function e(t,n,r,i){var a,o=arguments;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Di(t,a,Ct(Et().mark((function e(){var a,o,u,s;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=fn(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Ci.fetch()(Ui(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Oi.apply(this,arguments)}function Di(e,t,n){return Li.apply(this,arguments)}function Li(){return Li=Ct(Et().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Ai),n),e.prev=2,a=new Vi(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw ji(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,c=s.split(" : "),l=(0,Qe.Z)(c,2),f=l[0],h=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw ji(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==f){e.next=27;break}throw ji(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==f){e.next=29;break}throw ji(t,"user-disabled",u);case 29:if(d=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!h){e.next=34;break}throw vi(t,d,h);case 34:di(t,d);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof rn)){e.next=41;break}throw e.t0;case 41:di(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),Li.apply(this,arguments)}function Mi(e,t,n,r){return Fi.apply(this,arguments)}function Fi(){return Fi=Ct(Et().mark((function e(t,n,r,i){var a,o,u=arguments;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,Pi(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&di(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Fi.apply(this,arguments)}function Ui(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Ti(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Vi=function(){function e(t){var n=this;Rt(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(pi(n.auth,"network-request-failed"))}),Ri.get())}))}return(0,Nt.Z)(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function ji(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=pi(e,t,r);return i.customData._tokenResponse=n,i}function Zi(e,t){return zi.apply(this,arguments)}function zi(){return zi=Ct(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pi(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),zi.apply(this,arguments)}function Bi(e,t){return qi.apply(this,arguments)}function qi(){return qi=Ct(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pi(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),qi.apply(this,arguments)}function Wi(e,t){return Ki.apply(this,arguments)}function Ki(){return Ki=Ct(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pi(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),Ki.apply(this,arguments)}function Gi(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Hi(){return Hi=Ct(Et().mark((function e(t){var n,r,i,a,o,u,s=arguments;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=mn(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,gi((a=$i(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Gi(Qi(a.auth_time)),issuedAtTime:Gi(Qi(a.iat)),expirationTime:Gi(Qi(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Hi.apply(this,arguments)}function Qi(e){return 1e3*Number(e)}function $i(e){var t=e.split("."),n=(0,Qe.Z)(t,3),r=n[0],i=n[1],a=n[2];if(void 0===r||void 0===i||void 0===a)return hi("JWT malformed, contained fewer than 3 sections"),null;try{var o=Kt(i);return o?JSON.parse(o):(hi("Failed to decode base64 JWT payload"),null)}catch(u){return hi("Caught error parsing JWT payload as JSON",u),null}}function Yi(e,t){return Xi.apply(this,arguments)}function Xi(){return Xi=Ct(Et().mark((function e(t,n){var r=arguments;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof rn&&Ji(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Xi.apply(this,arguments)}function Ji(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var ea=function(){function e(t){Rt(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return(0,Nt.Z)(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Ct(Et().mark((function t(){return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Ct(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),ta=function(){function e(t,n){Rt(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return(0,Nt.Z)(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Gi(this.lastLoginAt),this.creationTime=Gi(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function na(e){return ra.apply(this,arguments)}function ra(){return ra=Ct(Et().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Yi(t,Wi(r,{idToken:i}));case 6:gi(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?oa(o.providerUserInfo):[],s=aa(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new ta(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),ra.apply(this,arguments)}function ia(){return(ia=Ct(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=mn(t),e.next=3,na(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function aa(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat((0,$e.Z)(n),(0,$e.Z)(t))}function oa(e){return e.map((function(e){var t=e.providerId,n=Hr(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function ua(e,t){return sa.apply(this,arguments)}function sa(){return sa=Ct(Et().mark((function e(t,n){var r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Di(t,{},Ct(Et().mark((function e(){var r,i,a,o,u,s;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fn({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=Ui(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Ci.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),sa.apply(this,arguments)}var ca=function(){function e(){Rt(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return(0,Nt.Z)(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){gi(e.idToken,"internal-error"),gi("undefined"!==typeof e.idToken,"internal-error"),gi("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=$i(e);return gi(t,"internal-error"),gi("undefined"!==typeof t.exp,"internal-error"),gi("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Ct(Et().mark((function e(t){var n,r=arguments;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],gi(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Ct(Et().mark((function e(t,n){var r,i,a,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ua(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return ki("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(gi("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(gi("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(gi("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function la(e,t){gi("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var fa=function(){function e(t){Rt(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Hr(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ea(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?(0,$e.Z)(a.providerData):[],this.metadata=new ta(a.createdAt||void 0,a.lastLoginAt||void 0)}return(0,Nt.Z)(e,[{key:"getIdToken",value:function(){var e=Ct(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yi(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(gi(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Hi.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return ia.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(gi(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){gi(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Ct(Et().mark((function e(t){var n,r,i=arguments;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,na(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Ct(Et().mark((function e(){var t;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Yi(this,Zi(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,y=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,m=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;gi(k&&_,t,"internal-error");var S=ca.fromJSON(this.name,_);gi("string"===typeof k,t,"internal-error"),la(f,t.name),la(h,t.name),gi("boolean"===typeof b,t,"internal-error"),gi("boolean"===typeof w,t,"internal-error"),la(d,t.name),la(p,t.name),la(v,t.name),la(y,t.name),la(m,t.name),la(g,t.name);var I=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:S,createdAt:m,lastLoginAt:g});return x&&Array.isArray(x)&&(I.providerData=x.map((function(e){return Object.assign({},e)}))),y&&(I._redirectEventId=y),I}},{key:"_fromIdTokenResponse",value:function(){var t=Ct(Et().mark((function t(n,r){var i,a,o,u=arguments;return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new ca).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,na(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),ha=function(){function e(){Rt(this,e),this.type="NONE",this.storage={}}return(0,Nt.Z)(e,[{key:"_isAvailable",value:function(){var e=Ct(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Ct(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ct(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ct(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();ha.type="NONE";var da=ha;function pa(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var va=function(){function e(t,n,r){Rt(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=pa(this.userKey,a.apiKey,o),this.fullPersistenceKey=pa("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return(0,Nt.Z)(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Ct(Et().mark((function e(){var t;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?fa._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Ct(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Ct(Et().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(xi(da),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Ct(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||xi(da),u=pa(i,n.config.apiKey,n.name),s=null,c=Ot(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=fa._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Ct(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function ya(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ba(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ma(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(xa(t))return"Blackberry";if(_a(t))return"Webos";if(ga(t))return"Safari";if((t.includes("chrome/")||ka(t))&&!t.includes("edge/"))return"Chrome";if(wa(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function ma(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t();return/firefox\//i.test(e)}function ga(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ka(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t();return/crios\//i.test(e)}function ba(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t();return/iemobile/i.test(e)}function wa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t();return/android/i.test(e)}function xa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t();return/blackberry/i.test(e)}function _a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t();return/webos/i.test(e)}function Sa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t();return/iphone|ipad|ipod/i.test(e)}function Ia(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t();return Sa(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Ea(){return tn()&&10===document.documentMode}function Ta(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t();return Sa(e)||wa(e)||_a(e)||xa(e)||/windows phone/i.test(e)||ba(e)}function Ca(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=ya($t());break;case"Worker":t="".concat(ya($t()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(hr,"/").concat(r)}var Aa=function(){function e(t){Rt(this,e),this.auth=t,this.queue=[]}return(0,Nt.Z)(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=Ct(Et().mark((function e(t){var n,r,i,a,o,u,s;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=Ot(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=Ot(n);try{for(o.s();!(u=o.n()).done;){s=u.value;try{s()}catch(w){}}}catch(c){o.e(c)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Ra=function(){function e(t,n,r){Rt(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Pa(this),this.idTokenSubscription=new Pa(this),this.beforeStateQueue=new Aa(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=li,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return(0,Nt.Z)(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=xi(t)),this._initializationPromise=this.queue(Ct(Et().mark((function r(){var i,a;return Et().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,va.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Ct(Et().mark((function e(){var t;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Ct(Et().mark((function e(t){var n,r,i,a,o,u,s;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return gi(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Ct(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Ct(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,na(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Ct(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Ct(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?mn(t):null)&&gi(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Ct(Et().mark((function e(t){var n,r=this,i=arguments;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&gi(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(Ct(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Ct(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Ct(Et().mark((function n(){return Et().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(xi(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new an("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Ct(Et().mark((function e(t,n){var r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Ct(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return gi(n=t&&xi(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,va.create(this,[xi(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Ct(Et().mark((function e(t){var n,r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Ct(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Ct(Et().mark((function e(t){var n=this;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Ct(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return gi(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Ct(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return gi(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ca(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Ct(Et().mark((function e(){var t,n,r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,At.Z)({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Na(e){return mn(e)}var Pa=function(){function e(t){var n=this;Rt(this,e),this.auth=t,this.observer=null,this.addObserver=pn((function(e){return n.observer=e}))}return(0,Nt.Z)(e,[{key:"next",get:function(){return gi(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Oa(e,t,n){var r=Na(e);gi(r._canInitEmulator,r,"emulator-config-failed"),gi(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Da(t),o=function(e){var t=Da(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:La(r.substr(a.length+1))}}var o=r.split(":"),u=(0,Qe.Z)(o,2);return{host:u[0],port:La(u[1])}}(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Da(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function La(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Ma=function(){function e(t,n){Rt(this,e),this.providerId=t,this.signInMethod=n}return(0,Nt.Z)(e,[{key:"toJSON",value:function(){return ki("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return ki("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return ki("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return ki("not implemented")}}]),e}();function Fa(e,t){return Ua.apply(this,arguments)}function Ua(){return Ua=Ct(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pi(t,"POST","/v1/accounts:resetPassword",Ni(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ua.apply(this,arguments)}function Va(e,t){return ja.apply(this,arguments)}function ja(){return ja=Ct(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pi(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),ja.apply(this,arguments)}function Za(e,t){return za.apply(this,arguments)}function za(){return za=Ct(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pi(t,"POST","/v1/accounts:update",Ni(t,n)));case 1:case"end":return e.stop()}}),e)}))),za.apply(this,arguments)}function Ba(e,t){return qa.apply(this,arguments)}function qa(){return qa=Ct(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mi(t,"POST","/v1/accounts:signInWithPassword",Ni(t,n)));case 1:case"end":return e.stop()}}),e)}))),qa.apply(this,arguments)}function Wa(e,t){return Ka.apply(this,arguments)}function Ka(){return Ka=Ct(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pi(t,"POST","/v1/accounts:sendOobCode",Ni(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ka.apply(this,arguments)}function Ga(e,t){return Ha.apply(this,arguments)}function Ha(){return Ha=Ct(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wa(t,n));case 1:case"end":return e.stop()}}),e)}))),Ha.apply(this,arguments)}function Qa(e,t){return $a.apply(this,arguments)}function $a(){return $a=Ct(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wa(t,n));case 1:case"end":return e.stop()}}),e)}))),$a.apply(this,arguments)}function Ya(e,t){return Xa.apply(this,arguments)}function Xa(){return Xa=Ct(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wa(t,n));case 1:case"end":return e.stop()}}),e)}))),Xa.apply(this,arguments)}function Ja(e,t){return eo.apply(this,arguments)}function eo(){return eo=Ct(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wa(t,n));case 1:case"end":return e.stop()}}),e)}))),eo.apply(this,arguments)}function to(e,t){return no.apply(this,arguments)}function no(){return no=Ct(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mi(t,"POST","/v1/accounts:signInWithEmailLink",Ni(t,n)));case 1:case"end":return e.stop()}}),e)}))),no.apply(this,arguments)}function ro(e,t){return io.apply(this,arguments)}function io(){return io=Ct(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mi(t,"POST","/v1/accounts:signInWithEmailLink",Ni(t,n)));case 1:case"end":return e.stop()}}),e)}))),io.apply(this,arguments)}var ao=function(e){Mt(n,e);var t=jt(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Rt(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return(0,Nt.Z)(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Ct(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Ba(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",to(t,{email:this._email,oobCode:this._password}));case 5:di(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Ct(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Va(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",ro(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:di(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Ma);function oo(e,t){return uo.apply(this,arguments)}function uo(){return uo=Ct(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mi(t,"POST","/v1/accounts:signInWithIdp",Ni(t,n)));case 1:case"end":return e.stop()}}),e)}))),uo.apply(this,arguments)}var so=function(e){Mt(n,e);var t=jt(n);function n(){var e;return Rt(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return(0,Nt.Z)(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return oo(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,oo(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,oo(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=fn(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):di("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Hr(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Ma);function co(e,t){return lo.apply(this,arguments)}function lo(){return lo=Ct(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pi(t,"POST","/v1/accounts:sendVerificationCode",Ni(t,n)));case 1:case"end":return e.stop()}}),e)}))),lo.apply(this,arguments)}function fo(){return fo=Ct(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mi(t,"POST","/v1/accounts:signInWithPhoneNumber",Ni(t,n)));case 1:case"end":return e.stop()}}),e)}))),fo.apply(this,arguments)}function ho(){return ho=Ct(Et().mark((function e(t,n){var r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mi(t,"POST","/v1/accounts:signInWithPhoneNumber",Ni(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw ji(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),ho.apply(this,arguments)}var po=(0,At.Z)({},"USER_NOT_FOUND","user-not-found");function vo(){return vo=Ct(Et().mark((function e(t,n){var r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Mi(t,"POST","/v1/accounts:signInWithPhoneNumber",Ni(t,r),po));case 2:case"end":return e.stop()}}),e)}))),vo.apply(this,arguments)}var yo=function(e){Mt(n,e);var t=jt(n);function n(e){var r;return Rt(this,n),(r=t.call(this,"phone","phone")).params=e,r}return(0,Nt.Z)(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return fo.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return ho.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return vo.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Ma);var mo=function(){function e(t){var n,r,i,a,o,u;Rt(this,e);var s=hn(dn(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);gi(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return(0,Nt.Z)(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=hn(dn(e)).link,n=t?hn(dn(t)).deep_link_id:null,r=hn(dn(e)).deep_link_id;return(r?hn(dn(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(_S){return null}}}]),e}();var go=function(){function e(){Rt(this,e),this.providerId=e.PROVIDER_ID}return(0,Nt.Z)(e,null,[{key:"credential",value:function(e,t){return ao._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=mo.parseLink(t);return gi(n,"argument-error"),ao._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();go.PROVIDER_ID="password",go.EMAIL_PASSWORD_SIGN_IN_METHOD="password",go.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var ko=function(){function e(t){Rt(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return(0,Nt.Z)(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),bo=function(e){Mt(n,e);var t=jt(n);function n(){var e;return Rt(this,n),(e=t.apply(this,arguments)).scopes=[],e}return(0,Nt.Z)(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return(0,$e.Z)(this.scopes)}}]),n}(ko),wo=function(e){Mt(n,e);var t=jt(n);function n(){return Rt(this,n),t.apply(this,arguments)}return(0,Nt.Z)(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return gi(e.idToken||e.accessToken,"argument-error"),so._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return gi("providerId"in t&&"signInMethod"in t,"argument-error"),so._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(bo),xo=function(e){Mt(n,e);var t=jt(n);function n(){return Rt(this,n),t.call(this,"facebook.com")}return(0,Nt.Z)(n,null,[{key:"credential",value:function(e){return so._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(_S){return null}}}]),n}(bo);xo.FACEBOOK_SIGN_IN_METHOD="facebook.com",xo.PROVIDER_ID="facebook.com";var _o=function(e){Mt(n,e);var t=jt(n);function n(){var e;return Rt(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return(0,Nt.Z)(n,null,[{key:"credential",value:function(e,t){return so._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(_S){return null}}}]),n}(bo);_o.GOOGLE_SIGN_IN_METHOD="google.com",_o.PROVIDER_ID="google.com";var So=function(e){Mt(n,e);var t=jt(n);function n(){return Rt(this,n),t.call(this,"github.com")}return(0,Nt.Z)(n,null,[{key:"credential",value:function(e){return so._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(_S){return null}}}]),n}(bo);So.GITHUB_SIGN_IN_METHOD="github.com",So.PROVIDER_ID="github.com";var Io=function(e){Mt(n,e);var t=jt(n);function n(e,r){var i;return Rt(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return(0,Nt.Z)(n,[{key:"_getIdTokenResponse",value:function(e){return oo(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,oo(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,oo(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Ma),Eo=function(e){Mt(n,e);var t=jt(n);function n(e){return Rt(this,n),gi(e.startsWith("saml."),"argument-error"),t.call(this,e)}return(0,Nt.Z)(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Io.fromJSON(e);return gi(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Io._create(r,n)}catch(i){return null}}}]),n}(ko),To=function(e){Mt(n,e);var t=jt(n);function n(){return Rt(this,n),t.call(this,"twitter.com")}return(0,Nt.Z)(n,null,[{key:"credential",value:function(e,t){return so._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(_S){return null}}}]),n}(bo);function Co(e,t){return Ao.apply(this,arguments)}function Ao(){return Ao=Ct(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mi(t,"POST","/v1/accounts:signUp",Ni(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ao.apply(this,arguments)}To.TWITTER_SIGN_IN_METHOD="twitter.com",To.PROVIDER_ID="twitter.com";var Ro=function(){function e(t){Rt(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return(0,Nt.Z)(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Ct(Et().mark((function t(n,r,i){var a,o,u,s,c=arguments;return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,fa._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=No(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Ct(Et().mark((function t(n,r,i){var a;return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=No(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function No(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Po(){return Po=Ct(Et().mark((function e(t){var n,r,i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Na(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Ro({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Co(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Ro._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),Po.apply(this,arguments)}var Oo=function(e){Mt(n,e);var t=jt(n);function n(e,r,i,a){var o,u;return Rt(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf((0,Dt.Z)(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return(0,Nt.Z)(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(rn);function Do(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Oo._fromErrorAndOperation(e,n,t,r);throw n}))}function Lo(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function Mo(e,t){return Fo.apply(this,arguments)}function Fo(){return Fo=Ct(Et().mark((function e(t,n){var r,i,a,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mn(t),e.next=3,jo(!0,r,n);case 3:return e.t0=Bi,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=Lo(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),Fo.apply(this,arguments)}function Uo(e,t){return Vo.apply(this,arguments)}function Vo(){return Vo=Ct(Et().mark((function e(t,n){var r,i,a=arguments;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Yi,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Ro._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Vo.apply(this,arguments)}function jo(e,t,n){return Zo.apply(this,arguments)}function Zo(){return Zo=Ct(Et().mark((function e(t,n,r){var i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,na(n);case 2:i=Lo(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",gi(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)}))),Zo.apply(this,arguments)}function zo(e,t){return Bo.apply(this,arguments)}function Bo(){return Bo=Ct(Et().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,Yi(t,Do(i,a,n,t),r);case 6:return gi((o=e.sent).idToken,i,"internal-error"),gi(u=$i(o.idToken),i,"internal-error"),s=u.sub,gi(t.uid===s,i,"user-mismatch"),e.abrupt("return",Ro._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&di(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Bo.apply(this,arguments)}function qo(e,t){return Wo.apply(this,arguments)}function Wo(){return Wo=Ct(Et().mark((function e(t,n){var r,i,a,o,u=arguments;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,Do(t,i,n);case 4:return a=e.sent,e.next=7,Ro._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Wo.apply(this,arguments)}function Ko(e,t){return Go.apply(this,arguments)}function Go(){return Go=Ct(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qo(Na(t),n));case 1:case"end":return e.stop()}}),e)}))),Go.apply(this,arguments)}function Ho(e,t){return Qo.apply(this,arguments)}function Qo(){return(Qo=Ct(Et().mark((function e(t,n){var r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mn(t),e.next=3,jo(!1,r,n.providerId);case 3:return e.abrupt("return",Uo(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $o(e,t){return Yo.apply(this,arguments)}function Yo(){return(Yo=Ct(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zo(mn(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xo(e,t){return Jo.apply(this,arguments)}function Jo(){return Jo=Ct(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mi(t,"POST","/v1/accounts:signInWithCustomToken",Ni(t,n)));case 1:case"end":return e.stop()}}),e)}))),Jo.apply(this,arguments)}function eu(){return eu=Ct(Et().mark((function e(t,n){var r,i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Na(t),e.next=3,Xo(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Ro._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),eu.apply(this,arguments)}var tu=function(){function e(t,n){Rt(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return(0,Nt.Z)(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?nu._fromServerResponse(e,t):di(e,"internal-error")}}]),e}(),nu=function(e){Mt(n,e);var t=jt(n);function n(e){var r;return Rt(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return(0,Nt.Z)(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(tu);function ru(e,t,n){var r;gi((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),gi("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(gi(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(gi(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function iu(){return iu=Ct(Et().mark((function e(t,n,r){var i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=mn(t),a={requestType:"PASSWORD_RESET",email:n},r&&ru(i,a,r),e.next=5,Qa(i,a);case 5:case"end":return e.stop()}}),e)}))),iu.apply(this,arguments)}function au(){return au=Ct(Et().mark((function e(t,n,r){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fa(mn(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),au.apply(this,arguments)}function ou(){return ou=Ct(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Za(mn(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),ou.apply(this,arguments)}function uu(e,t){return su.apply(this,arguments)}function su(){return su=Ct(Et().mark((function e(t,n){var r,i,a,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mn(t),e.next=3,Fa(r,{oobCode:n});case 3:i=e.sent,gi(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return gi(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:gi(i.mfaInfo,r,"internal-error");case 13:gi(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=tu._fromServerResponse(Na(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),su.apply(this,arguments)}function cu(){return cu=Ct(Et().mark((function e(t,n){var r,i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,uu(mn(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),cu.apply(this,arguments)}function lu(e,t,n){return fu.apply(this,arguments)}function fu(){return fu=Ct(Et().mark((function e(t,n,r){var i,a,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Na(t),e.next=3,Co(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,Ro._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),fu.apply(this,arguments)}function hu(){return hu=Ct(Et().mark((function e(t,n,r){var i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=mn(t),a={requestType:"EMAIL_SIGNIN",email:n},gi(r.handleCodeInApp,i,"argument-error"),r&&ru(i,a,r),e.next=6,Ya(i,a);case 6:case"end":return e.stop()}}),e)}))),hu.apply(this,arguments)}function du(){return du=Ct(Et().mark((function e(t,n,r){var i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=mn(t),gi((a=go.credentialWithLink(n,r||_i()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",Ko(i,a));case 4:case"end":return e.stop()}}),e)}))),du.apply(this,arguments)}function pu(e,t){return vu.apply(this,arguments)}function vu(){return vu=Ct(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pi(t,"POST","/v1/accounts:createAuthUri",Ni(t,n)));case 1:case"end":return e.stop()}}),e)}))),vu.apply(this,arguments)}function yu(){return yu=Ct(Et().mark((function e(t,n){var r,i,a,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Si()?_i():"http://localhost",i={identifier:n,continueUri:r},e.next=4,pu(mn(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),yu.apply(this,arguments)}function mu(){return(mu=Ct(Et().mark((function e(t,n){var r,i,a,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mn(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&ru(r.auth,a,n),e.next=8,Ga(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gu(){return(gu=Ct(Et().mark((function e(t,n,r){var i,a,o,u;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=mn(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&ru(i.auth,o,r),e.next=8,Ja(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ku(e,t){return bu.apply(this,arguments)}function bu(){return bu=Ct(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pi(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),bu.apply(this,arguments)}function wu(){return(wu=Ct(Et().mark((function e(t,n){var r,i,a,o,u,s,c;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=mn(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Yi(a,ku(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xu(e,t,n){return _u.apply(this,arguments)}function _u(){return _u=Ct(Et().mark((function e(t,n,r){var i,a,o,u;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,Yi(t,Va(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)}))),_u.apply(this,arguments)}var Su=(0,Nt.Z)((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Rt(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Iu=function(e){Mt(n,e);var t=jt(n);function n(e,r,i,a){var o;return Rt(this,n),(o=t.call(this,e,r,i)).username=a,o}return(0,Nt.Z)(n)}(Su),Eu=function(e){Mt(n,e);var t=jt(n);function n(e,r){return Rt(this,n),t.call(this,e,"facebook.com",r)}return(0,Nt.Z)(n)}(Su),Tu=function(e){Mt(n,e);var t=jt(n);function n(e,r){return Rt(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return(0,Nt.Z)(n)}(Iu),Cu=function(e){Mt(n,e);var t=jt(n);function n(e,r){return Rt(this,n),t.call(this,e,"google.com",r)}return(0,Nt.Z)(n)}(Su),Au=function(e){Mt(n,e);var t=jt(n);function n(e,r,i){return Rt(this,n),t.call(this,e,"twitter.com",r,i)}return(0,Nt.Z)(n)}(Iu);function Ru(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=$i(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new Su(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new Eu(a,i);case"github.com":return new Tu(a,i);case"google.com":return new Cu(a,i);case"twitter.com":return new Au(a,i,e.screenName||null);case"custom":case"anonymous":return new Su(a,null);default:return new Su(a,r,i)}}(n)}var Nu=function(){function e(t,n){Rt(this,e),this.type=t,this.credential=n}return(0,Nt.Z)(e,[{key:"toJSON",value:function(){var e="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:(0,At.Z)({},e,this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Pu=function(){function e(t,n,r){Rt(this,e),this.session=t,this.hints=n,this.signInResolver=r}return(0,Nt.Z)(e,[{key:"resolveSignIn",value:function(){var e=Ct(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Na(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return tu._fromServerResponse(r,e)}));gi(i.mfaPendingCredential,r,"internal-error");var o=Nu._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Ct(Et().mark((function e(t){var a,u,s;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Ro._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return gi(n.user,r,"internal-error"),e.abrupt("return",Ro._forOperation(n.user,n.operationType,u));case 17:di(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function Ou(e,t){return Pi(e,"POST","/v2/accounts/mfaEnrollment:start",Ni(e,t))}function Du(e,t){return Pi(e,"POST","/v2/accounts/mfaEnrollment:withdraw",Ni(e,t))}var Lu=function(){function e(t){var n=this;Rt(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return tu._fromServerResponse(t.auth,e)})))}))}return(0,Nt.Z)(e,[{key:"getSession",value:function(){var e=Ct(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Nu,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Ct(Et().mark((function e(t,n){var r,i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Yi(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Ct(Et().mark((function e(t){var n,r,i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,Yi(this.user,Du(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),Mu=new WeakMap;var Fu="__sak",Uu=function(){function e(t,n){Rt(this,e),this.storageRetriever=t,this.type=n}return(0,Nt.Z)(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Fu,"1"),this.storage.removeItem(Fu),Promise.resolve(!0)):Promise.resolve(!1)}catch(_S){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Vu=function(e){Mt(n,e);var t=jt(n);function n(){var e;return Rt(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=$t();return ga(e)||Sa(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Ta(),e._shouldAllowMigration=!0,e}return(0,Nt.Z)(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Ea()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Ct(Et().mark((function e(t,r){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gr(Ft(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ct(Et().mark((function e(t){var r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gr(Ft(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ct(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gr(Ft(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Uu);Vu.type="LOCAL";var ju=Vu,Zu=function(e){Mt(n,e);var t=jt(n);function n(){return Rt(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return(0,Nt.Z)(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Uu);Zu.type="SESSION";var zu=Zu;function Bu(e){return Promise.all(e.map(function(){var e=Ct(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var qu=function(){function e(t){Rt(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return(0,Nt.Z)(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Ct(Et().mark((function e(t){var n,r,i,a,o,u,s,c;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=Ct(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Bu(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Wu(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}qu.receivers=[];var Ku=function(){function e(t){Rt(this,e),this.target=t,this.handlers=new Set}return(0,Nt.Z)(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Ct(Et().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=Wu("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Gu(){return window}function Hu(){return"undefined"!==typeof Gu().WorkerGlobalScope&&"function"===typeof Gu().importScripts}function Qu(){return $u.apply(this,arguments)}function $u(){return($u=Ct(Et().mark((function e(){var t;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Yu(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Xu="firebaseLocalStorageDb",Ju="firebaseLocalStorage",es="fbase_key",ts=function(){function e(t){Rt(this,e),this.request=t}return(0,Nt.Z)(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function ns(e,t){return e.transaction([Ju],t?"readwrite":"readonly").objectStore(Ju)}function rs(){var e=indexedDB.deleteDatabase(Xu);return new ts(e).toPromise()}function is(){var e=indexedDB.open(Xu,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Ju,{keyPath:es})}catch(r){n(r)}})),e.addEventListener("success",Ct(Et().mark((function n(){var r;return Et().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Ju)){n.next=12;break}return r.close(),n.next=5,rs();case 5:return n.t0=t,n.next=8,is();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function as(e,t,n){return os.apply(this,arguments)}function os(){return os=Ct(Et().mark((function e(t,n,r){var i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ns(t,!0).put((i={},(0,At.Z)(i,es,n),(0,At.Z)(i,"value",r),i)),e.abrupt("return",new ts(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),os.apply(this,arguments)}function us(e,t){return ss.apply(this,arguments)}function ss(){return ss=Ct(Et().mark((function e(t,n){var r,i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ns(t,!1).get(n),e.next=3,new ts(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),ss.apply(this,arguments)}function cs(e,t){var n=ns(e,!0).delete(t);return new ts(n).toPromise()}var ls=function(){function e(){Rt(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return(0,Nt.Z)(e,[{key:"_openDb",value:function(){var e=Ct(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,is();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Ct(Et().mark((function e(t){var n,r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Ct(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hu()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Ct(Et().mark((function e(){var t=this;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=qu._getInstance(Hu()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Ct(Et().mark((function e(n,r){var i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Ct(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Ct(Et().mark((function e(){var t,n,r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qu();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Ku(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Ct(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Yu()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Ct(Et().mark((function e(){var t;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,is();case 5:return t=e.sent,e.next=8,as(t,Fu,"1");case 8:return e.next=10,cs(t,Fu);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Ct(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Ct(Et().mark((function e(t,n){var r=this;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Ct(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return as(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ct(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return us(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ct(Et().mark((function e(t){var n=this;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Ct(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return cs(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Ct(Et().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=ns(e,!1).getAll();return new ts(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=Ot(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Ct(Et().mark((function t(){return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();ls.type="LOCAL";var fs=ls;function hs(e,t){return Pi(e,"POST","/v2/accounts/mfaSignIn:start",Ni(e,t))}function ds(e){return ps.apply(this,arguments)}function ps(){return ps=Ct(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pi(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),ps.apply(this,arguments)}function vs(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=pi("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function ys(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var ms=1e12,gs=function(){function e(t){Rt(this,e),this.auth=t,this.counter=ms,this._widgets=new Map}return(0,Nt.Z)(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new ks(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||ms;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||ms;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Ct(Et().mark((function e(t){var n,r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||ms,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),ks=function(){function e(t,n,r){var i=this;Rt(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;gi(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return(0,Nt.Z)(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var bs=ys("rcb"),ws=new Ei(3e4,6e4),xs="https://www.google.com/recaptcha/api.js?",_s=function(){function e(){Rt(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Gu().grecaptcha}return(0,Nt.Z)(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return gi(Ss(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(Gu().grecaptcha):new Promise((function(r,i){var a=Gu().setTimeout((function(){i(pi(e,"network-request-failed"))}),ws.get());Gu()[bs]=function(){Gu().clearTimeout(a),delete Gu()[bs];var o=Gu().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(pi(e,"internal-error"))},vs("".concat(xs,"?").concat(fn({onload:bs,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(pi(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!Gu().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function Ss(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var Is=function(){function e(){Rt(this,e)}return(0,Nt.Z)(e,[{key:"load",value:function(){var e=Ct(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new gs(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Es="recaptcha",Ts={theme:"light",type:"image"},Cs=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},Ts),r=arguments.length>2?arguments[2]:void 0;Rt(this,e),this.parameters=n,this.type=Es,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Na(r),this.isInvisible="invisible"===this.parameters.size,gi("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;gi(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Is:new _s,this.validateStartingState()}return(0,Nt.Z)(e,[{key:"verify",value:function(){var e=Ct(Et().mark((function e(){var t,n,r,i=this;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){gi(!this.parameters.sitekey,this.auth,"argument-error"),gi(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),gi("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=Gu()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){gi(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Ct(Et().mark((function e(){var t,n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Ct(Et().mark((function e(){var t;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return gi(Si()&&!Hu(),this.auth,"internal-error"),e.next=3,As();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,ds(this.auth);case 8:gi(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return gi(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function As(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var Rs=function(){function e(t,n){Rt(this,e),this.verificationId=t,this.onConfirmation=n}return(0,Nt.Z)(e,[{key:"confirm",value:function(e){var t=yo._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function Ns(){return Ns=Ct(Et().mark((function e(t,n,r){var i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Na(t),e.next=3,Ls(i,n,mn(r));case 3:return a=e.sent,e.abrupt("return",new Rs(a,(function(e){return Ko(i,e)})));case 5:case"end":return e.stop()}}),e)}))),Ns.apply(this,arguments)}function Ps(e,t,n){return Os.apply(this,arguments)}function Os(){return(Os=Ct(Et().mark((function e(t,n,r){var i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=mn(t),e.next=3,jo(!1,i,"phone");case 3:return e.next=5,Ls(i.auth,n,mn(r));case 5:return a=e.sent,e.abrupt("return",new Rs(a,(function(e){return Ho(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ds(){return(Ds=Ct(Et().mark((function e(t,n,r){var i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=mn(t),e.next=3,Ls(i.auth,n,mn(r));case 3:return a=e.sent,e.abrupt("return",new Rs(a,(function(e){return $o(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ls(e,t,n){return Ms.apply(this,arguments)}function Ms(){return Ms=Ct(Et().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,gi("string"===typeof a,t,"argument-error"),gi(r.type===Es,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return gi("enroll"===u.type,t,"internal-error"),e.next=13,Ou(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return gi("signin"===u.type,t,"internal-error"),gi(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,hs(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,co(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Ms.apply(this,arguments)}function Fs(){return(Fs=Ct(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Uo(mn(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Us=function(){function e(t){Rt(this,e),this.providerId=e.PROVIDER_ID,this.auth=Na(t)}return(0,Nt.Z)(e,[{key:"verifyPhoneNumber",value:function(e,t){return Ls(this.auth,e,mn(t))}}],[{key:"credential",value:function(e,t){return yo._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?yo._fromTokenResponse(n,r):null}}]),e}();function Vs(e,t){return t?xi(t):(gi(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Us.PROVIDER_ID="phone",Us.PHONE_SIGN_IN_METHOD="phone";var js=function(e){Mt(n,e);var t=jt(n);function n(e){var r;return Rt(this,n),(r=t.call(this,"custom","custom")).params=e,r}return(0,Nt.Z)(n,[{key:"_getIdTokenResponse",value:function(e){return oo(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return oo(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return oo(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Ma);function Zs(e){return qo(e.auth,new js(e),e.bypassAuthState)}function zs(e){var t=e.auth,n=e.user;return gi(n,t,"internal-error"),zo(n,new js(e),e.bypassAuthState)}function Bs(e){return qs.apply(this,arguments)}function qs(){return qs=Ct(Et().mark((function e(t){var n,r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,gi(r=t.user,n,"internal-error"),e.abrupt("return",Uo(r,new js(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),qs.apply(this,arguments)}var Ws=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Rt(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return(0,Nt.Z)(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Ct(Et().mark((function t(n,r){return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Ct(Et().mark((function e(t){var n,r,i,a,o,u,s;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Zs;case"linkViaPopup":case"linkViaRedirect":return Bs;case"reauthViaPopup":case"reauthViaRedirect":return zs;default:di(this.auth,"internal-error")}}},{key:"resolve",value:function(e){bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Ks=new Ei(2e3,1e4);function Gs(e,t,n){return Hs.apply(this,arguments)}function Hs(){return Hs=Ct(Et().mark((function e(t,n,r){var i,a,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Na(t),yi(t,n,ko),a=Vs(i,r),o=new Xs(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),Hs.apply(this,arguments)}function Qs(){return Qs=Ct(Et().mark((function e(t,n,r){var i,a,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return yi((i=mn(t)).auth,n,ko),a=Vs(i.auth,r),o=new Xs(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),Qs.apply(this,arguments)}function $s(e,t,n){return Ys.apply(this,arguments)}function Ys(){return Ys=Ct(Et().mark((function e(t,n,r){var i,a,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return yi((i=mn(t)).auth,n,ko),a=Vs(i.auth,r),o=new Xs(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),Ys.apply(this,arguments)}var Xs=function(e){Mt(n,e);var t=jt(n);function n(e,r,i,a,o){var u;return Rt(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=(0,Dt.Z)(u),u}return(0,Nt.Z)(n,[{key:"executeNotNull",value:function(){var e=Ct(Et().mark((function e(){var t;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return gi(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Ct(Et().mark((function e(){var t,n=this;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return bi(1===this.filter.length,"Popup operations only handle one event"),t=Wu(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(pi(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(pi(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(pi(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,Ks.get())}()}}]),n}(Ws);Xs.currentPopupAction=null;var Js=new Map,ec=function(e){Mt(n,e);var t=jt(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Rt(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return(0,Nt.Z)(n,[{key:"execute",value:function(){var e=Ct(Et().mark((function e(){var t,r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Js.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,tc(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Gr(Ft(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Js.set(this.auth._key(),t);case 21:return this.bypassAuthState||Js.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Ct(Et().mark((function e(t){var r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Gr(Ft(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Gr(Ft(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Ct(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Ws);function tc(e,t){return nc.apply(this,arguments)}function nc(){return nc=Ct(Et().mark((function e(t,n){var r,i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=uc(n),i=oc(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),nc.apply(this,arguments)}function rc(e,t){return ic.apply(this,arguments)}function ic(){return ic=Ct(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oc(t)._set(uc(n),"true"));case 1:case"end":return e.stop()}}),e)}))),ic.apply(this,arguments)}function ac(e,t){Js.set(e._key(),t)}function oc(e){return xi(e._redirectPersistence)}function uc(e){return pa("pendingRedirect",e.config.apiKey,e.name)}function sc(e,t,n){return function(e,t,n){return cc.apply(this,arguments)}(e,t,n)}function cc(){return cc=Ct(Et().mark((function e(t,n,r){var i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Na(t),yi(t,n,ko),a=Vs(i,r),e.next=5,rc(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)}))),cc.apply(this,arguments)}function lc(e,t,n){return function(e,t,n){return fc.apply(this,arguments)}(e,t,n)}function fc(){return fc=Ct(Et().mark((function e(t,n,r){var i,a,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return yi((i=mn(t)).auth,n,ko),a=Vs(i.auth,r),e.next=5,rc(a,i.auth);case 5:return e.next=7,gc(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)}))),fc.apply(this,arguments)}function hc(e,t,n){return function(e,t,n){return dc.apply(this,arguments)}(e,t,n)}function dc(){return dc=Ct(Et().mark((function e(t,n,r){var i,a,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return yi((i=mn(t)).auth,n,ko),a=Vs(i.auth,r),e.next=5,jo(!1,i,n.providerId);case 5:return e.next=7,rc(a,i.auth);case 7:return e.next=9,gc(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)}))),dc.apply(this,arguments)}function pc(e,t){return vc.apply(this,arguments)}function vc(){return vc=Ct(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Na(t)._initializationPromise;case 2:return e.abrupt("return",yc(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),vc.apply(this,arguments)}function yc(e,t){return mc.apply(this,arguments)}function mc(){return mc=Ct(Et().mark((function e(t,n){var r,i,a,o,u,s=arguments;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=Na(t),a=Vs(i,n),o=new ec(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),mc.apply(this,arguments)}function gc(e){return kc.apply(this,arguments)}function kc(){return(kc=Ct(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Wu("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var bc=function(){function e(t){Rt(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return(0,Nt.Z)(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xc(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!xc(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(pi(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(wc(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(wc(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function wc(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function xc(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function _c(e){return Sc.apply(this,arguments)}function Sc(){return Sc=Ct(Et().mark((function e(t){var n,r=arguments;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Pi(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Sc.apply(this,arguments)}var Ic=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ec=/^https?/;function Tc(){return Tc=Ct(Et().mark((function e(t){var n,r,i,a,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,_c(t);case 4:n=e.sent,r=n.authorizedDomains,i=Ot(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Cc(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:di(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),Tc.apply(this,arguments)}function Cc(e){var t=_i(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Ec.test(r))return!1;if(Ic.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Ac=new Ei(3e4,6e4);function Rc(){var e=Gu().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=(0,$e.Z)(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Nc=null;function Pc(e){return Nc=Nc||function(e){return new Promise((function(t,n){var r,i,a;function o(){Rc(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Rc(),n(pi(e,"network-request-failed"))},timeout:Ac.get()})}if(null===(i=null===(r=Gu().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Gu().gapi)||void 0===a?void 0:a.load)){var u=ys("iframefcb");return Gu()[u]=function(){gapi.load?o():n(pi(e,"network-request-failed"))},vs("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Nc=null,e}))}(e),Nc}var Oc=new Ei(5e3,15e3),Dc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Lc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Mc(e){var t=e.config;gi(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Ti(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:hr},i=Lc.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(fn(r).slice(1))}function Fc(e){return Uc.apply(this,arguments)}function Uc(){return Uc=Ct(Et().mark((function e(t){var n,r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pc(t);case 2:return n=e.sent,gi(r=Gu().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Mc(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Dc,dontclear:!0},(function(e){return new Promise(function(){var n=Ct(Et().mark((function n(r,i){var a,o,u;return Et().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){Gu().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=pi(t,"network-request-failed"),o=Gu().setTimeout((function(){i(a)}),Oc.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Uc.apply(this,arguments)}var Vc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},jc="_blank",Zc="http://localhost",zc=function(){function e(t){Rt(this,e),this.window=t,this.associatedEvent=null}return(0,Nt.Z)(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Bc(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},Vc),{width:r.toString(),height:i.toString(),top:a,left:o}),c=$t().toLowerCase();n&&(u=ka(c)?jc:n),ma(c)&&(t=t||Zc,s.scrollbars="yes");var l=Object.entries(s).reduce((function(e,t){var n=(0,Qe.Z)(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(Ia(c)&&"_self"!==u)return qc(t||"",u),new zc(null);var f=window.open(t||"",u,l);gi(f,e,"popup-blocked");try{f.focus()}catch(h){}return new zc(f)}function qc(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Wc="__/auth/handler",Kc="emulator/auth/handler";function Gc(e,t,n,r,i,a){gi(e.config.authDomain,e,"auth-domain-config-required"),gi(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:hr,eventId:i};if(t instanceof ko){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var c=(0,Qe.Z)(s[u],2),l=c[0],f=c[1];o[l]=f}}if(t instanceof bo){var h=t.getScopes().filter((function(e){return""!==e}));h.length>0&&(o.scopes=h.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var d=o,p=0,v=Object.keys(d);p<v.length;p++){var y=v[p];void 0===d[y]&&delete d[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Wc);return Ti(t,Kc)}(e),"?").concat(fn(d).slice(1))}var Hc="webStorageSupport",Qc=function(){function e(){Rt(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zu,this._completeRedirectFn=yc,this._overrideRedirectResult=ac}return(0,Nt.Z)(e,[{key:"_openPopup",value:function(){var e=Ct(Et().mark((function e(t,n,r,i){var a,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return bi(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=Gc(t,n,r,_i(),i),e.abrupt("return",Bc(t,o,Wu()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Ct(Et().mark((function e(t,n,r,i){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=Gc(t,n,r,_i(),i),Gu().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(bi(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Ct(Et().mark((function e(t){var n,r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fc(t);case 2:return n=e.sent,r=new bc(t),n.register("authEvent",(function(e){return gi(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Hc,{type:Hc},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),di(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Tc.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Ta()||ga()||Sa()}}]),e}(),$c=Qc,Yc=function(){function e(t){Rt(this,e),this.factorId=t}return(0,Nt.Z)(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return ki("unexpected MultiFactorSessionType")}}}]),e}(),Xc=function(e){Mt(n,e);var t=jt(n);function n(e){var r;return Rt(this,n),(r=t.call(this,"phone")).credential=e,r}return(0,Nt.Z)(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Pi(e,"POST","/v2/accounts/mfaEnrollment:finalize",Ni(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Pi(e,"POST","/v2/accounts/mfaSignIn:finalize",Ni(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(Yc),Jc=function(){function e(){Rt(this,e)}return(0,Nt.Z)(e,null,[{key:"assertion",value:function(e){return Xc._fromCredential(e)}}]),e}();Jc.FACTOR_ID="phone";var el,tl="@firebase/auth",nl="0.20.2",rl=function(){function e(t){Rt(this,e),this.auth=t,this.internalListeners=new Map}return(0,Nt.Z)(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Ct(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){gi(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function il(){return window}el="Browser",ar(new gn("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){gi(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),gi(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:el,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ca(el)},i=new Ra(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(xi);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),ar(new gn("auth-internal",(function(e){return function(e){return new rl(e)}(Na(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),gr(tl,nl,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(el)),gr(tl,nl,"esm2017");function al(e,t,n){return ol.apply(this,arguments)}function ol(){return ol=Ct(Et().mark((function e(t,n,r){var i,a,o,u,s;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=il(),o=a.BuildInfo,bi(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,hl(n.sessionId);case 4:return u=e.sent,s={},Sa()?s.ibi=o.packageName:wa()?s.apn=o.packageName:di(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",Gc(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),ol.apply(this,arguments)}function ul(){return ul=Ct(Et().mark((function e(t){var n,r,i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=il(),r=n.BuildInfo,i={},Sa()?i.iosBundleId=r.packageName:wa()?i.androidPackageName=r.packageName:di(t,"operation-not-supported-in-this-environment"),e.next=5,_c(t,i);case 5:case"end":return e.stop()}}),e)}))),ul.apply(this,arguments)}function sl(e){var t=il().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function cl(e,t,n){return ll.apply(this,arguments)}function ll(){return ll=Ct(Et().mark((function e(t,n,r){var i,a,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=il(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(pi(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),wa()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),ll.apply(this,arguments)}function fl(e){var t,n,r,i,a,o,u,s,c,l,f=il();gi("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),gi("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),gi("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),gi("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),gi("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function hl(e){return dl.apply(this,arguments)}function dl(){return(dl=Ct(Et().mark((function e(t){var n,r,i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=pl(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pl(e){if(bi(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var vl=function(e){Mt(n,e);var t=jt(n);function n(){var e;return Rt(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return(0,Nt.Z)(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Gr(Ft(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Ct(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(bc);function yl(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:wl(),postBody:null,tenantId:e.tenantId,error:pi(e,"no-auth-event")}}function ml(e,t){return xl()._set(_l(e),t)}function gl(e){return kl.apply(this,arguments)}function kl(){return kl=Ct(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xl()._get(_l(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,xl()._remove(_l(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),kl.apply(this,arguments)}function bl(e,t){var n,r,i=function(e){var t=Sl(e),n=t.link?decodeURIComponent(t.link):void 0,r=Sl(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Sl(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=Sl(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?pi(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function wl(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function xl(){return xi(ju)}function _l(e){return pa("authEvent",e.config.apiKey,e.name)}function Sl(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=(t=n,(0,Br.Z)(t)||(0,qr.Z)(t)||(0,Pt.Z)(t)||(0,Wr.Z)());r[0];return hn(r.slice(1).join("?"))}var Il=function(){function e(){Rt(this,e),this._redirectPersistence=zu,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=yc,this._overrideRedirectResult=ac}return(0,Nt.Z)(e,[{key:"_initialize",value:function(){var e=Ct(Et().mark((function e(t){var n,r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new vl(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){di(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Ct(Et().mark((function e(t,n,r,i){var a,o,u,s;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fl(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),Js.clear(),e.next=10,this._originValidation(t);case 10:return o=yl(t,r,i),e.next=13,ml(t,o);case 13:return e.next=15,al(t,o,n);case 15:return u=e.sent,e.next=18,sl(u);case 18:return s=e.sent,e.abrupt("return",cl(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return ul.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=il(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Ct(Et().mark((function n(){return Et().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,gl(e);case 2:t.onEvent(Tl());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=Ct(Et().mark((function n(r){var i,a;return Et().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,gl(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=bl(i,r.url)),t.onEvent(a||Tl());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");il().handleOpenURL=function(){var e=Ct(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),El=Il;function Tl(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:pi("no-auth-event")}}function Cl(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Al(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t();return!("file:"!==Cl()&&"ionic:"!==Cl()&&"capacitor:"!==Cl()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Rl(){return tn()&&11===(null===document||void 0===document?void 0:document.documentMode)}function Nl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t();return/Edge\/\d+/.test(e)}function Pl(){try{var e=self.localStorage,t=Wu();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t();return Rl()||Nl(e)}()||nn()}catch(n){return Ol()&&nn()}return!1}function Ol(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Dl(){return("http:"===Cl()||"https:"===Cl()||Jt()||Al())&&!(en()||Xt())&&Pl()&&!Ol()}function Ll(){return Al()&&"undefined"!==typeof document}function Ml(){return Fl.apply(this,arguments)}function Fl(){return(Fl=Ct(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ll()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ul={LOCAL:"local",NONE:"none",SESSION:"session"},Vl=gi,jl="persistence";function Zl(e,t){Vl(Object.values(Ul).includes(t),e,"invalid-persistence-type"),en()?Vl(t!==Ul.SESSION,e,"unsupported-persistence-type"):Xt()?Vl(t===Ul.NONE,e,"unsupported-persistence-type"):Ol()?Vl(t===Ul.NONE||t===Ul.LOCAL&&nn(),e,"unsupported-persistence-type"):Vl(t===Ul.NONE||Pl(),e,"unsupported-persistence-type")}function zl(e){return Bl.apply(this,arguments)}function Bl(){return Bl=Ct(Et().mark((function e(t){var n,r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=ql(),r=pa(jl,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),Bl.apply(this,arguments)}function ql(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var Wl=gi,Kl=function(){function e(){Rt(this,e),this.browserResolver=xi($c),this.cordovaResolver=xi(El),this.underlyingResolver=null,this._redirectPersistence=zu,this._completeRedirectFn=yc,this._overrideRedirectResult=ac}return(0,Nt.Z)(e,[{key:"_initialize",value:function(){var e=Ct(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Ct(Et().mark((function e(t,n,r,i){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Ct(Et().mark((function e(t,n,r,i){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return Ll()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return Wl(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Ct(Et().mark((function e(){var t;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Ml();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Gl(e){return e.unwrap()}function Hl(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new Jl(e,function(e,t){var n,r=mn(e),i=t;return gi(t.customData.operationType,r,"argument-error"),gi(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Pu._fromError(r,i)}(e,t));else if(r){var i=Ql(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function Ql(e){var t=(e instanceof rn?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof rn)&&"temporaryProof"in t&&"phoneNumber"in t)return Us.credentialFromResult(e);var n,r=t.providerId;if(!r||r===Jr)return null;switch(r){case Xr:n=_o;break;case $r:n=xo;break;case Yr:n=So;break;case ei:n=To;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?Io._create(r,u):so._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new wo(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof rn?n.credentialFromError(e):n.credentialFromResult(e)}function $l(e,t){return t.catch((function(t){throw t instanceof rn&&Hl(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,Ql(t)),additionalUserInfo:Ru(e),user:ef.getOrCreate(r)}}))}function Yl(e,t){return Xl.apply(this,arguments)}function Xl(){return Xl=Ct(Et().mark((function e(t,n){var r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return $l(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),Xl.apply(this,arguments)}var Jl=function(){function e(t,n){Rt(this,e),this.resolver=n,this.auth=t.wrapped()}return(0,Nt.Z)(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return $l(Gl(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),ef=function(){function e(t){Rt(this,e),this._delegate=t,this.multiFactor=function(e){var t=mn(e);return Mu.has(t)||Mu.set(t,Lu._fromUser(t)),Mu.get(t)}(t)}return(0,Nt.Z)(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Ct(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$l(this.auth,Ho(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Ct(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yl(this.auth,Ps(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Ct(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$l(this.auth,$s(this._delegate,t,Kl)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Ct(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zl(Na(this.auth));case 2:return e.abrupt("return",hc(this._delegate,t,Kl));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Ct(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$l(this.auth,$o(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return Yl(this.auth,function(e,t,n){return Ds.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return $l(this.auth,function(e,t,n){return Qs.apply(this,arguments)}(this._delegate,e,Kl))}},{key:"reauthenticateWithRedirect",value:function(){var e=Ct(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zl(Na(this.auth));case 2:return e.abrupt("return",lc(this._delegate,t,Kl));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return mu.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=Ct(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mo(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return xu(mn(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return xu(mn(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return Fs.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return wu.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return gu.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();ef.USER_MAP=new WeakMap;var tf=gi,nf=function(){function e(t,n){if(Rt(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;tf(r,"invalid-api-key",{appName:t.name}),tf(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?Kl:void 0;this._delegate=n.initialize({options:{persistence:af(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(si),this.linkUnderlyingAuth()}return(0,Nt.Z)(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?ef.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){Oa(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return ou.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return uu(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return au.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Ct(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$l(this._delegate,lu(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return yu.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=mo.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Ct(Et().mark((function e(){var t;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return tf(Dl(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,pc(this._delegate,Kl);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",$l(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){Na(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=rf(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=rf(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return hu.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return iu.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Ct(Et().mark((function e(t){var n,r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Zl(this._delegate,t),e.t0=t,e.next=e.t0===Ul.SESSION?4:e.t0===Ul.LOCAL?6:e.t0===Ul.NONE?11:13;break;case 4:return n=zu,e.abrupt("break",14);case 6:return e.next=8,xi(fs)._isAvailable();case 8:return r=e.sent,n=r?fs:ju,e.abrupt("break",14);case 11:return n=da,e.abrupt("break",14);case 13:return e.abrupt("return",di("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return $l(this._delegate,function(e){return Po.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return $l(this._delegate,Ko(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return $l(this._delegate,function(e,t){return eu.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return $l(this._delegate,function(e,t,n){return Ko(mn(e),go.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return $l(this._delegate,function(e,t,n){return du.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return Yl(this._delegate,function(e,t,n){return Ns.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Ct(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return tf(Dl(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",$l(this._delegate,Gs(this._delegate,t,Kl)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Ct(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return tf(Dl(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,zl(this._delegate);case 3:return e.abrupt("return",sc(this._delegate,t,Kl));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return cu.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function rf(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&ef.getOrCreate(e))},error:t,complete:n}}function af(e,t){var n=function(e,t){var n=ql();if(!n)return[];var r=pa(jl,e,t);switch(n.getItem(r)){case Ul.NONE:return[da];case Ul.LOCAL:return[fs,zu];case Ul.SESSION:return[zu];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(fs)||n.push(fs),"undefined"!==typeof window)for(var r=0,i=[ju,zu];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(da)||n.push(da),n}nf.Persistence=Ul;var of=function(){function e(){Rt(this,e),this.providerId="phone",this._delegate=new Us(Gl(zr.auth()))}return(0,Nt.Z)(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return Us.credential(e,t)}}]),e}();of.PHONE_SIGN_IN_METHOD=Us.PHONE_SIGN_IN_METHOD,of.PROVIDER_ID=Us.PROVIDER_ID;var uf,sf=gi,cf=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:zr.app();Rt(this,e),sf(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new Cs(t,n,i.auth()),this.type=this._delegate.type}return(0,Nt.Z)(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(uf=zr).INTERNAL.registerComponent(new gn("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new nf(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ti,PASSWORD_RESET:ni,RECOVER_EMAIL:ri,REVERT_SECOND_FACTOR_ADDITION:ii,VERIFY_AND_CHANGE_EMAIL:ai,VERIFY_EMAIL:oi}},EmailAuthProvider:go,FacebookAuthProvider:xo,GithubAuthProvider:So,GoogleAuthProvider:_o,OAuthProvider:wo,SAMLAuthProvider:Eo,PhoneAuthProvider:of,PhoneMultiFactorGenerator:Jc,RecaptchaVerifier:cf,TwitterAuthProvider:To,Auth:nf,AuthCredential:Ma,Error:rn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),uf.registerVersion("@firebase/auth-compat","0.2.15");var lf,ff="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},hf={},df=df||{},pf=ff||self;function vf(){}function yf(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function mf(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var gf="closure_uid_"+(1e9*Math.random()>>>0),kf=0;function bf(e,t,n){return e.call.apply(e.bind,arguments)}function wf(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function xf(e,t,n){return(xf=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?bf:wf).apply(null,arguments)}function _f(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Sf(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function If(){this.s=this.s,this.o=this.o}var Ef={};If.prototype.s=!1,If.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,gf)&&e[gf]||(e[gf]=++kf)}(this);delete Ef[e]}},If.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Tf=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Cf=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function Af(e){return Array.prototype.concat.apply([],arguments)}function Rf(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Nf(e){return/^[\s\xa0]*$/.test(e)}var Pf,Of=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Df(e,t){return-1!=e.indexOf(t)}function Lf(e,t){return e<t?-1:e>t?1:0}e:{var Mf=pf.navigator;if(Mf){var Ff=Mf.userAgent;if(Ff){Pf=Ff;break e}}Pf=""}function Uf(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Vf(e){var t={};for(var n in e)t[n]=e[n];return t}var jf="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Zf(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<jf.length;a++)n=jf[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function zf(e){return zf[" "](e),e}zf[" "]=vf;var Bf,qf=Df(Pf,"Opera"),Wf=Df(Pf,"Trident")||Df(Pf,"MSIE"),Kf=Df(Pf,"Edge"),Gf=Kf||Wf,Hf=Df(Pf,"Gecko")&&!(Df(Pf.toLowerCase(),"webkit")&&!Df(Pf,"Edge"))&&!(Df(Pf,"Trident")||Df(Pf,"MSIE"))&&!Df(Pf,"Edge"),Qf=Df(Pf.toLowerCase(),"webkit")&&!Df(Pf,"Edge");function $f(){var e=pf.document;return e?e.documentMode:void 0}e:{var Yf="",Xf=function(){var e=Pf;return Hf?/rv:([^\);]+)(\)|;)/.exec(e):Kf?/Edge\/([\d\.]+)/.exec(e):Wf?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Qf?/WebKit\/(\S+)/.exec(e):qf?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Xf&&(Yf=Xf?Xf[1]:""),Wf){var Jf=$f();if(null!=Jf&&Jf>parseFloat(Yf)){Bf=String(Jf);break e}}Bf=Yf}var eh,th={};function nh(){return function(e){var t=th;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Of(String(Bf)).split("."),n=Of("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Lf(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Lf(0==a[2].length,0==o[2].length)||Lf(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(pf.document&&Wf){var rh=$f();eh=rh||(parseInt(Bf,10)||void 0)}else eh=void 0;var ih=eh,ah=function(){if(!pf.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{pf.addEventListener("test",vf,t),pf.removeEventListener("test",vf,t)}catch(n){}return e}();function oh(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function uh(e,t){if(oh.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Hf){e:{try{zf(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:sh[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&uh.Z.h.call(this)}}oh.prototype.h=function(){this.defaultPrevented=!0},Sf(uh,oh);var sh={2:"touch",3:"pen",4:"mouse"};uh.prototype.h=function(){uh.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ch="closure_listenable_"+(1e6*Math.random()|0),lh=0;function fh(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++lh,this.ca=this.fa=!1}function hh(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function dh(e){this.src=e,this.g={},this.h=0}function ph(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Tf(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(hh(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function vh(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}dh.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=vh(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new fh(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var yh="closure_lm_"+(1e6*Math.random()|0),mh={};function gh(e,t,n,r,i){if(r&&r.once)return bh(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)gh(e,t[a],n,r,i);return null}return n=Th(n),e&&e[ch]?e.N(t,n,mf(r)?!!r.capture:!!r,i):kh(e,t,n,!1,r,i)}function kh(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=mf(i)?!!i.capture:!!i,u=Ih(e);if(u||(e[yh]=u=new dh(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Sh;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)ah||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(_h(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function bh(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)bh(e,t[a],n,r,i);return null}return n=Th(n),e&&e[ch]?e.O(t,n,mf(r)?!!r.capture:!!r,i):kh(e,t,n,!0,r,i)}function wh(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)wh(e,t[a],n,r,i);else r=mf(r)?!!r.capture:!!r,n=Th(n),e&&e[ch]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=vh(a=e.g[t],n,r,i))&&(hh(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Ih(e))&&(t=e.g[t.toString()],e=-1,t&&(e=vh(t,n,r,i)),(n=-1<e?t[e]:null)&&xh(n))}function xh(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[ch])ph(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(_h(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Ih(t))?(ph(n,e),0==n.h&&(n.src=null,t[yh]=null)):hh(e)}}}function _h(e){return e in mh?mh[e]:mh[e]="on"+e}function Sh(e,t){if(e.ca)e=!0;else{t=new uh(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&xh(e),e=n.call(r,t)}return e}function Ih(e){return(e=e[yh])instanceof dh?e:null}var Eh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Th(e){return"function"===typeof e?e:(e[Eh]||(e[Eh]=function(t){return e.handleEvent(t)}),e[Eh])}function Ch(){If.call(this),this.i=new dh(this),this.P=this,this.I=null}function Ah(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new oh(t,e);else if(t instanceof oh)t.target=t.target||e;else{var i=t;Zf(t=new oh(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Rh(o,r,!0,t)&&i}if(i=Rh(o=t.g=e,r,!0,t)&&i,i=Rh(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Rh(o=t.g=n[a],r,!1,t)&&i}function Rh(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&ph(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Sf(Ch,If),Ch.prototype[ch]=!0,Ch.prototype.removeEventListener=function(e,t,n,r){wh(this,e,t,n,r)},Ch.prototype.M=function(){if(Ch.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)hh(n[r]);delete t.g[e],t.h--}}this.I=null},Ch.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Ch.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Nh=pf.JSON.stringify;function Ph(){var e=jh,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Oh,Dh=function(){function e(){Rt(this,e),this.h=this.g=null}return(0,Nt.Z)(e,[{key:"add",value:function(e,t){var n=Lh.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Lh=new(function(){function e(t,n){Rt(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return(0,Nt.Z)(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Mh}),(function(e){return e.reset()})),Mh=function(){function e(){Rt(this,e),this.next=this.g=this.h=null}return(0,Nt.Z)(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Fh(e){pf.setTimeout((function(){throw e}),0)}function Uh(e,t){Oh||function(){var e=pf.Promise.resolve(void 0);Oh=function(){e.then(Zh)}}(),Vh||(Oh(),Vh=!0),jh.add(e,t)}var Vh=!1,jh=new Dh;function Zh(){for(var e;e=Ph();){try{e.h.call(e.g)}catch(n){Fh(n)}var t=Lh;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Vh=!1}function zh(e,t){Ch.call(this),this.h=e||1,this.g=t||pf,this.j=xf(this.kb,this),this.l=Date.now()}function Bh(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function qh(e,t,n){if("function"===typeof e)n&&(e=xf(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=xf(e.handleEvent,e)}return 2147483647<Number(t)?-1:pf.setTimeout(e,t||0)}function Wh(e){e.g=qh((function(){e.g=null,e.i&&(e.i=!1,Wh(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Sf(zh,Ch),(lf=zh.prototype).da=!1,lf.S=null,lf.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ah(this,"tick"),this.da&&(Bh(this),this.start()))}},lf.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},lf.M=function(){zh.Z.M.call(this),Bh(this),delete this.g};var Kh=function(e){Mt(n,e);var t=jt(n);function n(e,r){var i;return Rt(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return(0,Nt.Z)(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Wh(this)}},{key:"M",value:function(){Gr(Ft(n.prototype),"M",this).call(this),this.g&&(pf.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(If);function Gh(e){If.call(this),this.h=e,this.g={}}Sf(Gh,If);var Hh=[];function Qh(e,t,n,r){Array.isArray(n)||(n&&(Hh[0]=n.toString()),n=Hh);for(var i=0;i<n.length;i++){var a=gh(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function $h(e){Uf(e.g,(function(e,t){this.g.hasOwnProperty(t)&&xh(e)}),e),e.g={}}function Yh(){this.g=!0}function Xh(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Nh(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}Gh.prototype.M=function(){Gh.Z.M.call(this),$h(this)},Gh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Yh.prototype.Aa=function(){this.g=!1},Yh.prototype.info=function(){};var Jh={},ed=null;function td(){return ed=ed||new Ch}function nd(e){oh.call(this,Jh.Ma,e)}function rd(e){var t=td();Ah(t,new nd(t,e))}function id(e,t){oh.call(this,Jh.STAT_EVENT,e),this.stat=t}function ad(e){var t=td();Ah(t,new id(t,e))}function od(e,t){oh.call(this,Jh.Na,e),this.size=t}function ud(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return pf.setTimeout((function(){e()}),t)}Jh.Ma="serverreachability",Sf(nd,oh),Jh.STAT_EVENT="statevent",Sf(id,oh),Jh.Na="timingevent",Sf(od,oh);var sd={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},cd={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ld(){}function fd(e){return e.h||(e.h=e.i())}function hd(){}ld.prototype.h=null;var dd,pd={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function vd(){oh.call(this,"d")}function yd(){oh.call(this,"c")}function md(){}function gd(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Gh(this),this.P=bd,e=Gf?125:void 0,this.W=new zh(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new kd}function kd(){this.i=null,this.g="",this.h=!1}Sf(vd,oh),Sf(yd,oh),Sf(md,ld),md.prototype.g=function(){return new XMLHttpRequest},md.prototype.i=function(){return{}},dd=new md;var bd=45e3,wd={},xd={};function _d(e,t,n){e.K=1,e.v=Kd(jd(t)),e.s=n,e.U=!0,Sd(e,null)}function Sd(e,t){e.F=Date.now(),Cd(e),e.A=jd(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),ap(n.h,"t",r),e.C=0,n=e.l.H,e.h=new kd,e.g=uv(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Kh(xf(e.Ia,e,e.g),e.O)),Qh(e.V,e.g,"readystatechange",e.gb),t=e.H?Vf(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),rd(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Id(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Ed(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Td(e,n))==xd){4==t&&(e.o=4,ad(14),i=!1),Xh(e.j,e.m,null,"[Incomplete Response]");break}if(r==wd){e.o=4,ad(15),Xh(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Xh(e.j,e.m,r,null),Od(e,r)}Id(e)&&r!=xd&&r!=wd&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,ad(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Jp(t),t.L=!0,ad(11))):(Xh(e.j,e.m,n,"[Invalid Chunked Response]"),Pd(e),Nd(e))}function Td(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?xd:(n=Number(t.substring(n,r)),isNaN(n)?wd:(r+=1)+n>t.length?xd:(t=t.substr(r,n),e.C=r+n,t))}function Cd(e){e.Y=Date.now()+e.P,Ad(e,e.P)}function Ad(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=ud(xf(e.eb,e),t)}function Rd(e){e.B&&(pf.clearTimeout(e.B),e.B=null)}function Nd(e){0==e.l.G||e.I||nv(e.l,e)}function Pd(e){Rd(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Bh(e.W),$h(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Od(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||dp(n.i,e)))if(n.I=e.N,!e.J&&dp(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;tv(n),qp(n)}Xp(n),ad(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=ud(xf(n.ab,n),6e3));if(1>=hp(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else iv(n,11)}else if((e.J||n.g==e)&&tv(n),!Nf(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(Df(l,"spdy")||Df(l,"quic")||Df(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(pp(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,Wd(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=ov(r,r.H?r.la:null,r.W),d.J){vp(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Rd(p),Cd(p)),r.g=d}else Yp(r);0<n.l.length&&Gp(n)}else"stop"!=a[0]&&"close"!=a[0]||iv(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?iv(n,7):Bp(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}rd(4)}catch(a){}}function Dd(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(yf(e)||"string"===typeof e)Cf(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(yf(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(yf(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function Ld(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Ld)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Md(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Fd(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Fd(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Fd(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(lf=gd.prototype).setTimeout=function(e){this.P=e},lf.gb=function(e){e=e.target;var t=this.L;t&&3==Up(e)?t.l():this.Ia(e)},lf.Ia=function(e){try{if(e==this.g)e:{var t=Up(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Gf||this.g&&(this.h.h||this.g.ga()||Vp(this.g)))){this.I||4!=t||7==n||rd(8==n||0>=r?3:2),Rd(this);var i=this.g.ba();this.N=i;t:if(Id(this)){var a=Vp(this.g);e="";var o=a.length,u=4==Up(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Pd(this),Nd(this);var s="";break t}this.h.i=new pf.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Nf(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,ad(12),Pd(this),Nd(this);break e}Xh(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Od(this,i)}this.U?(Ed(this,t,s),Gf&&this.i&&3==t&&(Qh(this.V,this.W,"tick",this.fb),this.W.start())):(Xh(this.j,this.m,s,null),Od(this,s)),4==t&&Pd(this),this.i&&!this.I&&(4==t?nv(this.l,this):(this.i=!1,Cd(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,ad(12)):(this.o=0,ad(13)),Pd(this),Nd(this)}}}catch(t){}},lf.fb=function(){if(this.g){var e=Up(this.g),t=this.g.ga();this.C<t.length&&(Rd(this),Ed(this,e,t),this.i&&4!=e&&Cd(this))}},lf.cancel=function(){this.I=!0,Pd(this)},lf.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(rd(3),ad(17)),Pd(this),this.o=2,Nd(this)):Ad(this,this.Y-e)},(lf=Ld.prototype).R=function(){Md(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},lf.T=function(){return Md(this),this.g.concat()},lf.get=function(e,t){return Fd(this.h,e)?this.h[e]:t},lf.set=function(e,t){Fd(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},lf.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var Ud=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Vd(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Vd){this.g=void 0!==t?t:e.g,Zd(this,e.j),this.s=e.s,zd(this,e.i),Bd(this,e.m),this.l=e.l,t=e.h;var n=new tp;n.i=t.i,t.g&&(n.g=new Ld(t.g),n.h=t.h),qd(this,n),this.o=e.o}else e&&(n=String(e).match(Ud))?(this.g=!!t,Zd(this,n[1]||"",!0),this.s=Gd(n[2]||""),zd(this,n[3]||"",!0),Bd(this,n[4]),this.l=Gd(n[5]||"",!0),qd(this,n[6]||"",!0),this.o=Gd(n[7]||"")):(this.g=!!t,this.h=new tp(null,this.g))}function jd(e){return new Vd(e)}function Zd(e,t,n){e.j=n?Gd(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function zd(e,t,n){e.i=n?Gd(t,!0):t}function Bd(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function qd(e,t,n){t instanceof tp?(e.h=t,function(e,t){t&&!e.j&&(np(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(rp(this,t),ap(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Hd(t,Jd)),e.h=new tp(t,e.g))}function Wd(e,t,n){e.h.set(t,n)}function Kd(e){return Wd(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Gd(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Hd(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Qd),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Qd(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Vd.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Hd(t,$d,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Hd(t,$d,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Hd(n,"/"==n.charAt(0)?Xd:Yd,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Hd(n,ep)),e.join("")};var $d=/[#\/\?@]/g,Yd=/[#\?:]/g,Xd=/[#\?]/g,Jd=/[#\?@]/g,ep=/#/g;function tp(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function np(e){e.g||(e.g=new Ld,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function rp(e,t){np(e),t=op(e,t),Fd(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Fd((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Md(e)))}function ip(e,t){return np(e),t=op(e,t),Fd(e.g.h,t)}function ap(e,t,n){rp(e,t),0<n.length&&(e.i=null,e.g.set(op(e,t),Rf(n)),e.h+=n.length)}function op(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(lf=tp.prototype).add=function(e,t){np(this),this.i=null,e=op(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},lf.forEach=function(e,t){np(this),this.g.forEach((function(n,r){Cf(n,(function(n){e.call(t,n,r,this)}),this)}),this)},lf.T=function(){np(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},lf.R=function(e){np(this);var t=[];if("string"===typeof e)ip(this,e)&&(t=Af(t,this.g.get(op(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Af(t,e[n])}return t},lf.set=function(e,t){return np(this),this.i=null,ip(this,e=op(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},lf.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},lf.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var up=(0,Nt.Z)((function e(t,n){Rt(this,e),this.h=t,this.g=n}));function sp(e){this.l=e||lp,pf.PerformanceNavigationTiming?e=0<(e=pf.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(pf.g&&pf.g.Ea&&pf.g.Ea()&&pf.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var cp,lp=10;function fp(e){return!!e.h||!!e.g&&e.g.size>=e.j}function hp(e){return e.h?1:e.g?e.g.size:0}function dp(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function pp(e,t){e.g?e.g.add(t):e.h=t}function vp(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function yp(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Ot(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Rf(e.i)}function mp(){}function gp(){this.g=new mp}function kp(e,t,n){var r=n||"";try{Dd(e,(function(e,n){var i=e;mf(e)&&(i=Nh(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function bp(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function wp(e){this.l=e.$b||null,this.j=e.ib||!1}function xp(e,t){Ch.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=_p,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}sp.prototype.cancel=function(){if(this.i=yp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Ot(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},mp.prototype.stringify=function(e){return pf.JSON.stringify(e,void 0)},mp.prototype.parse=function(e){return pf.JSON.parse(e,void 0)},Sf(wp,ld),wp.prototype.g=function(){return new xp(this.l,this.j)},wp.prototype.i=(cp={},function(){return cp}),Sf(xp,Ch);var _p=0;function Sp(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Ip(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Ep(e)}function Ep(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(lf=xp.prototype).open=function(e,t){if(this.readyState!=_p)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Ep(this)},lf.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||pf).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},lf.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ip(this)),this.readyState=_p},lf.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ep(this)),this.g&&(this.readyState=3,Ep(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof pf.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Sp(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},lf.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ip(this):Ep(this),3==this.readyState&&Sp(this)}},lf.Ua=function(e){this.g&&(this.response=this.responseText=e,Ip(this))},lf.Ta=function(e){this.g&&(this.response=e,Ip(this))},lf.ha=function(){this.g&&Ip(this)},lf.setRequestHeader=function(e,t){this.v.append(e,t)},lf.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},lf.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(xp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Tp=pf.JSON.parse;function Cp(e){Ch.call(this),this.headers=new Ld,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Ap,this.K=this.L=!1}Sf(Cp,Ch);var Ap="",Rp=/^https?$/i,Np=["POST","PUT"];function Pp(e){return"content-type"==e.toLowerCase()}function Op(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Dp(e),Mp(e)}function Dp(e){e.D||(e.D=!0,Ah(e,"complete"),Ah(e,"error"))}function Lp(e){if(e.h&&"undefined"!=typeof df&&(!e.C[1]||4!=Up(e)||2!=e.ba()))if(e.v&&4==Up(e))qh(e.Fa,0,e);else if(Ah(e,"readystatechange"),4==Up(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Ud)[1]||null;if(!a&&pf.self&&pf.self.location){var o=pf.self.location.protocol;a=o.substr(0,o.length-1)}i=!Rp.test(a?a.toLowerCase():"")}t=i}if(t)Ah(e,"complete"),Ah(e,"success");else{e.m=6;try{var u=2<Up(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",Dp(e)}}finally{Mp(e)}}}function Mp(e,t){if(e.g){Fp(e);var n=e.g,r=e.C[0]?vf:null;e.g=null,e.C=null,t||Ah(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Fp(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(pf.clearTimeout(e.A),e.A=null)}function Up(e){return e.g?e.g.readyState:0}function Vp(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Ap:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(b){return null}}function jp(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Uf(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Wd(e,t,n))}function Zp(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function zp(e){this.za=0,this.l=[],this.h=new Yh,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Zp("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Zp("baseRetryDelayMs",5e3,e),this.$a=Zp("retryDelaySeedMs",1e4,e),this.Ya=Zp("forwardChannelMaxRetries",2,e),this.ra=Zp("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new sp(e&&e.concurrentRequestLimit),this.Ca=new gp,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Bp(e){if(Wp(e),3==e.G){var t=e.V++,n=jd(e.F);Wd(n,"SID",e.J),Wd(n,"RID",t),Wd(n,"TYPE","terminate"),Qp(e,n),(t=new gd(e,e.h,t,void 0)).K=2,t.v=Kd(jd(n)),n=!1,pf.navigator&&pf.navigator.sendBeacon&&(n=pf.navigator.sendBeacon(t.v.toString(),"")),!n&&pf.Image&&((new Image).src=t.v,n=!0),n||(t.g=uv(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Cd(t)}av(e)}function qp(e){e.g&&(Jp(e),e.g.cancel(),e.g=null)}function Wp(e){qp(e),e.u&&(pf.clearTimeout(e.u),e.u=null),tv(e),e.i.cancel(),e.m&&("number"===typeof e.m&&pf.clearTimeout(e.m),e.m=null)}function Kp(e,t){e.l.push(new up(e.Za++,t)),3==e.G&&Gp(e)}function Gp(e){fp(e.i)||e.m||(e.m=!0,Uh(e.Ha,e),e.C=0)}function Hp(e,t){var n;n=t?t.m:e.V++;var r=jd(e.F);Wd(r,"SID",e.J),Wd(r,"RID",n),Wd(r,"AID",e.U),Qp(e,r),e.o&&e.s&&jp(r,e.o,e.s),n=new gd(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=$p(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),pp(e.i,n),_d(n,r,t)}function Qp(e,t){e.j&&Dd({},(function(e,n){Wd(t,n,e)}))}function $p(e,t,n){n=Math.min(e.l.length,n);var r=e.j?xf(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{kp(l,o,"req"+c+"_")}catch(D){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Yp(e){e.g||e.u||(e.Y=1,Uh(e.Ga,e),e.A=0)}function Xp(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=ud(xf(e.Ga,e),rv(e,e.A)),e.A++,!0)}function Jp(e){null!=e.B&&(pf.clearTimeout(e.B),e.B=null)}function ev(e){e.g=new gd(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=jd(e.oa);Wd(t,"RID","rpc"),Wd(t,"SID",e.J),Wd(t,"CI",e.N?"0":"1"),Wd(t,"AID",e.U),Qp(e,t),Wd(t,"TYPE","xmlhttp"),e.o&&e.s&&jp(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Kd(jd(t)),n.s=null,n.U=!0,Sd(n,e)}function tv(e){null!=e.v&&(pf.clearTimeout(e.v),e.v=null)}function nv(e,t){var n=null;if(e.g==t){tv(e),Jp(e),e.g=null;var r=2}else{if(!dp(e.i,t))return;n=t.D,vp(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Ah(r=td(),new od(r,n,t,i)),Gp(e)}else Yp(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(hp(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=ud(xf(e.Ha,e,t),rv(e,e.C)),e.C++,!0))}(e,t)||2==r&&Xp(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:iv(e,5);break;case 4:iv(e,10);break;case 3:iv(e,6);break;default:iv(e,2)}}function rv(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function iv(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=xf(e.jb,e);n||(n=new Vd("//www.google.com/images/cleardot.gif"),pf.location&&"http"==pf.location.protocol||Zd(n,"https"),Kd(n)),function(e,t){var n=new Yh;if(pf.Image){var r=new Image;r.onload=_f(bp,n,r,"TestLoadImage: loaded",!0,t),r.onerror=_f(bp,n,r,"TestLoadImage: error",!1,t),r.onabort=_f(bp,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=_f(bp,n,r,"TestLoadImage: timeout",!1,t),pf.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else ad(2);e.G=0,e.j&&e.j.va(t),av(e),Wp(e)}function av(e){e.G=0,e.I=-1,e.j&&(0==yp(e.i).length&&0==e.l.length||(e.i.i.length=0,Rf(e.l),e.l.length=0),e.j.ua())}function ov(e,t,n){var r=function(e){return e instanceof Vd?jd(e):new Vd(e,void 0)}(n);if(""!=r.i)t&&zd(r,t+"."+r.i),Bd(r,r.m);else{var i=pf.location;r=function(e,t,n,r){var i=new Vd(null,void 0);return e&&Zd(i,e),t&&zd(i,t),n&&Bd(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Uf(e.aa,(function(e,t){Wd(r,t,e)})),t=e.D,n=e.sa,t&&n&&Wd(r,t,n),Wd(r,"VER",e.ma),Qp(e,r),r}function uv(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Cp(new wp({ib:!0})):new Cp(e.qa)).L=e.H,t}function sv(){}function cv(){if(Wf&&!(10<=Number(ih)))throw Error("Environmental error: no available transport.")}function lv(e,t){Ch.call(this),this.g=new zp(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Nf(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Nf(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new dv(this)}function fv(e){vd.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function hv(){yd.call(this),this.status=1}function dv(e){this.g=e}(lf=Cp.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():dd.g(),this.C=this.u?fd(this.u):fd(dd),this.g.onreadystatechange=xf(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void Op(this,a)}e=n||"";var i=new Ld(this.headers);r&&Dd(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Pp,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=pf.FormData&&e instanceof pf.FormData,!(0<=Tf(Np,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Fp(this),0<this.B&&((this.K=function(e){return Wf&&nh()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=xf(this.pa,this)):this.A=qh(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){Op(this,a)}},lf.pa=function(){"undefined"!=typeof df&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ah(this,"timeout"),this.abort(8))},lf.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Ah(this,"complete"),Ah(this,"abort"),Mp(this))},lf.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Mp(this,!0)),Cp.Z.M.call(this)},lf.Fa=function(){this.s||(this.F||this.v||this.l?Lp(this):this.cb())},lf.cb=function(){Lp(this)},lf.ba=function(){try{return 2<Up(this)?this.g.status:-1}catch(cp){return-1}},lf.ga=function(){try{return this.g?this.g.responseText:""}catch(cp){return""}},lf.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Tp(t)}},lf.Da=function(){return this.m},lf.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(lf=zp.prototype).ma=8,lf.G=1,lf.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(b){}},lf.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new gd(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Zf(n=Vf(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=$p(this,t,r),Wd(i=jd(this.F),"RID",e),Wd(i,"CVER",22),this.D&&Wd(i,"X-HTTP-Session-Id",this.D),Qp(this,i),this.o&&n&&jp(i,this.o,n),pp(this.i,t),this.Ra&&Wd(i,"TYPE","init"),this.ja?(Wd(i,"$req",r),Wd(i,"SID","null"),t.$=!0,_d(t,i,null)):_d(t,i,r),this.G=2}}else 3==this.G&&(e?Hp(this,e):0==this.l.length||fp(this.i)||Hp(this))},lf.Ga=function(){if(this.u=null,ev(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=ud(xf(this.bb,this),e)}},lf.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ad(10),qp(this),ev(this))},lf.ab=function(){null!=this.v&&(this.v=null,qp(this),Xp(this),ad(19))},lf.jb=function(e){e?(this.h.info("Successfully pinged google.com"),ad(2)):(this.h.info("Failed to ping google.com"),ad(1))},(lf=sv.prototype).xa=function(){},lf.wa=function(){},lf.va=function(){},lf.ua=function(){},lf.Oa=function(){},cv.prototype.g=function(e,t){return new lv(e,t)},Sf(lv,Ch),lv.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Uh(xf(e.hb,e,t))),ad(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=ov(e,null,e.W),Gp(e)},lv.prototype.close=function(){Bp(this.g)},lv.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Kp(this.g,t)}else this.v?((t={}).__data__=Nh(e),Kp(this.g,t)):Kp(this.g,e)},lv.prototype.M=function(){this.g.j=null,delete this.j,Bp(this.g),delete this.g,lv.Z.M.call(this)},Sf(fv,vd),Sf(hv,yd),Sf(dv,sv),dv.prototype.xa=function(){Ah(this.g,"a")},dv.prototype.wa=function(e){Ah(this.g,new fv(e))},dv.prototype.va=function(e){Ah(this.g,new hv(e))},dv.prototype.ua=function(){Ah(this.g,"b")},cv.prototype.createWebChannel=cv.prototype.g,lv.prototype.send=lv.prototype.u,lv.prototype.open=lv.prototype.m,lv.prototype.close=lv.prototype.close,sd.NO_ERROR=0,sd.TIMEOUT=8,sd.HTTP_ERROR=6,cd.COMPLETE="complete",hd.EventType=pd,pd.OPEN="a",pd.CLOSE="b",pd.ERROR="c",pd.MESSAGE="d",Ch.prototype.listen=Ch.prototype.N,Cp.prototype.listenOnce=Cp.prototype.O,Cp.prototype.getLastError=Cp.prototype.La,Cp.prototype.getLastErrorCode=Cp.prototype.Da,Cp.prototype.getStatus=Cp.prototype.ba,Cp.prototype.getResponseJson=Cp.prototype.Qa,Cp.prototype.getResponseText=Cp.prototype.ga,Cp.prototype.send=Cp.prototype.ea;var pv=hf.createWebChannelTransport=function(){return new cv},vv=hf.getStatEventTarget=function(){return td()},yv=hf.ErrorCode=sd,mv=hf.EventType=cd,gv=hf.Event=Jh,kv=hf.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},bv=hf.FetchXmlHttpFactory=wp,wv=hf.WebChannel=hd,xv=hf.XhrIo=Cp,_v="@firebase/firestore",Sv=function(){function e(t){Rt(this,e),this.uid=t}return(0,Nt.Z)(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Sv.UNAUTHENTICATED=new Sv(null),Sv.GOOGLE_CREDENTIALS=new Sv("google-credentials-uid"),Sv.FIRST_PARTY=new Sv("first-party-uid"),Sv.MOCK_USER=new Sv("mock-user");var Iv="9.8.0",Ev=new An("@firebase/firestore");function Tv(){return Ev.logLevel}function Cv(e){if(Ev.logLevel<=xn.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Nv);Ev.debug.apply(Ev,["Firestore (".concat(Iv,"): ").concat(e)].concat((0,$e.Z)(i)))}}function Av(e){if(Ev.logLevel<=xn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Nv);Ev.error.apply(Ev,["Firestore (".concat(Iv,"): ").concat(e)].concat((0,$e.Z)(i)))}}function Rv(e){if(Ev.logLevel<=xn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Nv);Ev.warn.apply(Ev,["Firestore (".concat(Iv,"): ").concat(e)].concat((0,$e.Z)(i)))}}function Nv(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Pv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Iv,") INTERNAL ASSERTION FAILED: ")+e;throw Av(t),new Error(t)}function Ov(e,t){e||Pv()}function Dv(e,t){return e}var Lv={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Mv=function(e){Mt(n,e);var t=jt(n);function n(e,r){var i;return Rt(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return(0,Nt.Z)(n)}(rn),Fv=(0,Nt.Z)((function e(){var t=this;Rt(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Uv=(0,Nt.Z)((function e(t,n){Rt(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Vv=function(){function e(){Rt(this,e)}return(0,Nt.Z)(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Sv.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),jv=function(){function e(t){Rt(this,e),this.token=t,this.changeListener=null}return(0,Nt.Z)(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Zv=function(){function e(t){Rt(this,e),this.t=t,this.currentUser=Sv.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return(0,Nt.Z)(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Fv;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Fv,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Ct(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){Cv("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(Cv("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Fv)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Cv("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Ov("string"==typeof n.accessToken),new Uv(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Ov(null===e||"string"==typeof e),new Sv(e)}}]),e}(),zv=(0,Nt.Z)((function e(t,n,r){Rt(this,e),this.type="FirstParty",this.user=Sv.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),Bv=function(){function e(t,n,r){Rt(this,e),this.h=t,this.l=n,this.m=r}return(0,Nt.Z)(e,[{key:"getToken",value:function(){return Promise.resolve(new zv(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Sv.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),qv=(0,Nt.Z)((function e(t){Rt(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Wv=function(){function e(t){Rt(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return(0,Nt.Z)(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Cv("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,Cv("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Cv("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):Cv("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Ov("string"==typeof t.token),e.p=t.token,new qv(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),Kv=function(){function e(t,n){var r=this;Rt(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.I(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return(0,Nt.Z)(e,[{key:"I",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function Gv(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}Kv.A=-1;var Hv=function(){function e(){Rt(this,e)}return(0,Nt.Z)(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Gv(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Qv(e,t){return e<t?-1:e>t?1:0}function $v(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Yv(e){return e+"\0"}var Xv=function(){function e(t,n){if(Rt(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Mv(Lv.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Mv(Lv.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Mv(Lv.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Mv(Lv.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return(0,Nt.Z)(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Qv(this.nanoseconds,e.nanoseconds):Qv(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Jv=function(){function e(t){Rt(this,e),this.timestamp=t}return(0,Nt.Z)(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Xv(0,0))}},{key:"max",value:function(){return new e(new Xv(253402300799,999999999))}}]),e}();function ey(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ty(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ny(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var ry=function(){function e(t,n,r){Rt(this,e),void 0===n?n=0:n>t.length&&Pv(),void 0===r?r=t.length-n:r>t.length-n&&Pv(),this.segments=t,this.offset=n,this.len=r}return(0,Nt.Z)(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),iy=function(e){Mt(n,e);var t=jt(n);function n(){return Rt(this,n),t.apply(this,arguments)}return(0,Nt.Z)(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new Mv(Lv.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,(0,$e.Z)(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(ry),ay=/^[_a-zA-Z][_a-zA-Z0-9]*$/,oy=function(e){Mt(n,e);var t=jt(n);function n(){return Rt(this,n),t.apply(this,arguments)}return(0,Nt.Z)(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return ay.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Mv(Lv.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new Mv(Lv.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Mv(Lv.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new Mv(Lv.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(ry),uy=function(){function e(t){Rt(this,e),this.fields=t,t.sort(oy.comparator)}return(0,Nt.Z)(e,[{key:"covers",value:function(e){var t,n=Ot(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return $v(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var sy=function(e){function t(e){Rt(this,t),this.binaryString=e}return(0,Nt.Z)(t,[{key:e,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Qv(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}(Symbol.iterator);sy.EMPTY_BYTE_STRING=new sy("");var cy=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ly(e){if(Ov(!!e),"string"==typeof e){var t=0,n=cy.exec(e);if(Ov(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:fy(e.seconds),nanos:fy(e.nanos)}}function fy(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function hy(e){return"string"==typeof e?sy.fromBase64String(e):sy.fromUint8Array(e)}function dy(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function py(e){var t=e.mapValue.fields.__previous_value__;return dy(t)?py(t):t}function vy(e){var t=ly(e.mapValue.fields.__local_write_time__.timestampValue);return new Xv(t.seconds,t.nanos)}var yy=(0,Nt.Z)((function e(t,n,r,i,a,o,u,s){Rt(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),my=function(){function e(t,n){Rt(this,e),this.projectId=t,this.database=n||"(default)"}return(0,Nt.Z)(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function gy(e){return null==e}function ky(e){return 0===e&&1/e==-1/0}function by(e){return"number"==typeof e&&Number.isInteger(e)&&!ky(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var wy=function(){function e(t){Rt(this,e),this.path=t}return(0,Nt.Z)(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===iy.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(iy.fromString(t))}},{key:"fromName",value:function(t){return new e(iy.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(iy.emptyPath())}},{key:"comparator",value:function(e,t){return iy.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new iy(t.slice()))}}]),e}(),xy={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},_y={nullValue:"NULL_VALUE"};function Sy(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?dy(e)?4:Uy(e)?9007199254740991:10:Pv()}function Iy(e,t){if(e===t)return!0;var n=Sy(e);if(n!==Sy(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return vy(e).isEqual(vy(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=ly(e.timestampValue),r=ly(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return hy(e.bytesValue).isEqual(hy(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return fy(e.geoPointValue.latitude)===fy(t.geoPointValue.latitude)&&fy(e.geoPointValue.longitude)===fy(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return fy(e.integerValue)===fy(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=fy(e.doubleValue),r=fy(t.doubleValue);return n===r?ky(n)===ky(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return $v(e.arrayValue.values||[],t.arrayValue.values||[],Iy);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(ey(n)!==ey(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Iy(n[i],r[i])))return!1;return!0}(e,t);default:return Pv()}}function Ey(e,t){return void 0!==(e.values||[]).find((function(e){return Iy(e,t)}))}function Ty(e,t){if(e===t)return 0;var n=Sy(e),r=Sy(t);if(n!==r)return Qv(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Qv(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=fy(e.integerValue||e.doubleValue),r=fy(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Cy(e.timestampValue,t.timestampValue);case 4:return Cy(vy(e),vy(t));case 5:return Qv(e.stringValue,t.stringValue);case 6:return function(e,t){var n=hy(e),r=hy(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Qv(n[i],r[i]);if(0!==a)return a}return Qv(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Qv(fy(e.latitude),fy(t.latitude));return 0!==n?n:Qv(fy(e.longitude),fy(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Ty(n[i],r[i]);if(a)return a}return Qv(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===xy.mapValue&&t===xy.mapValue)return 0;if(e===xy.mapValue)return 1;if(t===xy.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Qv(r[o],a[o]);if(0!==u)return u;var s=Ty(n[r[o]],i[a[o]]);if(0!==s)return s}return Qv(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Pv()}}function Cy(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Qv(e,t);var n=ly(e),r=ly(t),i=Qv(n.seconds,r.seconds);return 0!==i?i:Qv(n.nanos,r.nanos)}function Ay(e){return Ry(e)}function Ry(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=ly(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?hy(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,wy.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Ot(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Ry(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=Ot(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Ry(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Pv();var t,n}function Ny(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Py(e){return!!e&&"integerValue"in e}function Oy(e){return!!e&&"arrayValue"in e}function Dy(e){return!!e&&"nullValue"in e}function Ly(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function My(e){return!!e&&"mapValue"in e}function Fy(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return ty(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Fy(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Fy(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Uy(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Vy(e){return"nullValue"in e?_y:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Ny(my.empty(),wy.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Pv()}function jy(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Ny(my.empty(),wy.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?xy:Pv()}function Zy(e,t){var n=Ty(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function zy(e,t){var n=Ty(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var By=function(){function e(t){Rt(this,e),this.value=t}return(0,Nt.Z)(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!My(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fy(t)}},{key:"setAll",value:function(e){var t=this,n=oy.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Fy(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());My(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Iy(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];My(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){ty(t,(function(t,n){return e[t]=n}));var r,i=Ot(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Fy(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function qy(e){var t=[];return ty(e.fields,(function(e,n){var r=new oy([e]);if(My(n)){var i=qy(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=Ot(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new uy(t)}var Wy=function(){function e(t,n,r,i,a,o){Rt(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return(0,Nt.Z)(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=By.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=By.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Jv.min(),Jv.min(),By.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,Jv.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Jv.min(),By.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Jv.min(),By.empty(),2)}}]),e}(),Ky=(0,Nt.Z)((function e(t,n,r,i){Rt(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Gy(e){return e.fields.find((function(e){return 2===e.kind}))}function Hy(e){return e.fields.filter((function(e){return 2!==e.kind}))}Ky.UNKNOWN_ID=-1;var Qy=(0,Nt.Z)((function e(t,n){Rt(this,e),this.fieldPath=t,this.kind=n})),$y=function(){function e(t,n){Rt(this,e),this.sequenceNumber=t,this.offset=n}return(0,Nt.Z)(e,null,[{key:"empty",value:function(){return new e(0,Jy.min())}}]),e}();function Yy(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Jv.fromTimestamp(1e9===r?new Xv(n+1,0):new Xv(n,r));return new Jy(i,wy.empty(),t)}function Xy(e){return new Jy(e.readTime,e.key,-1)}var Jy=function(){function e(t,n,r){Rt(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return(0,Nt.Z)(e,null,[{key:"min",value:function(){return new e(Jv.min(),wy.empty(),-1)}},{key:"max",value:function(){return new e(Jv.max(),wy.empty(),-1)}}]),e}();function em(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=wy.comparator(e.documentKey,t.documentKey))?n:Qv(e.largestBatchId,t.largestBatchId)}var tm=function(){function e(t,n){Rt(this,e),this.comparator=t,this.root=n||rm.EMPTY}return(0,Nt.Z)(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,rm.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,rm.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new nm(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new nm(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new nm(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new nm(this.root,e,this.comparator,!0)}}]),e}(),nm=function(){function e(t,n,r,i){Rt(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return(0,Nt.Z)(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),rm=function(){function e(t,n,r,i,a){Rt(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return(0,Nt.Z)(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Pv();if(this.right.isRed())throw Pv();var e=this.left.check();if(e!==this.right.check())throw Pv();return e+(this.isRed()?0:1)}}]),e}();rm.EMPTY=null,rm.RED=!0,rm.BLACK=!1,rm.EMPTY=new(function(){function e(){Rt(this,e),this.size=0}return(0,Nt.Z)(e,[{key:"key",get:function(){throw Pv()}},{key:"value",get:function(){throw Pv()}},{key:"color",get:function(){throw Pv()}},{key:"left",get:function(){throw Pv()}},{key:"right",get:function(){throw Pv()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new rm(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var im=function(){function e(t){Rt(this,e),this.comparator=t,this.data=new tm(this.comparator)}return(0,Nt.Z)(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new am(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new am(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),am=function(){function e(t){Rt(this,e),this.iter=t}return(0,Nt.Z)(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function om(e){return e.hasNext()?e.getNext():void 0}var um=(0,Nt.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Rt(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.P=null}));function sm(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new um(e,t,n,r,i,a,o)}function cm(e){var t=Dv(e);if(null===t.P){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+Ay(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),gy(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Ay(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Ay(e)})).join(",")),t.P=n}return t.P}function lm(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Em(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!Iy(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Cm(e.startAt,t.startAt)&&Cm(e.endAt,t.endAt)}function fm(e){return wy.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function hm(e,t){return e.filters.filter((function(e){return e instanceof vm&&e.field.isEqual(t)}))}function dm(e,t,n){var r,i=_y,a=!0,o=Ot(hm(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=_y,c=!0;switch(u.op){case"<":case"<=":s=Vy(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=_y}Zy({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Zy({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function pm(e,t,n){var r,i=xy,a=!0,o=Ot(hm(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=xy,c=!0;switch(u.op){case">=":case">":s=jy(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=xy}zy({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];zy({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var vm=function(e){Mt(n,e);var t=jt(n);function n(e,r,i){var a;return Rt(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return(0,Nt.Z)(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Ty(t,this.value)):null!==t&&Sy(this.value)===Sy(t)&&this.v(Ty(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Pv()}}},{key:"S",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new ym(e,t,r):"array-contains"===t?new bm(e,r):"in"===t?new wm(e,r):"not-in"===t?new xm(e,r):"array-contains-any"===t?new _m(e,r):new n(e,t,r)}},{key:"V",value:function(e,t,n){return"in"===t?new mm(e,n):new gm(e,n)}}]),n}(function(){return(0,Nt.Z)((function e(){Rt(this,e)}))}()),ym=function(e){Mt(n,e);var t=jt(n);function n(e,r,i){var a;return Rt(this,n),(a=t.call(this,e,r,i)).key=wy.fromName(i.referenceValue),a}return(0,Nt.Z)(n,[{key:"matches",value:function(e){var t=wy.comparator(e.key,this.key);return this.v(t)}}]),n}(vm),mm=function(e){Mt(n,e);var t=jt(n);function n(e,r){var i;return Rt(this,n),(i=t.call(this,e,"in",r)).keys=km("in",r),i}return(0,Nt.Z)(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(vm),gm=function(e){Mt(n,e);var t=jt(n);function n(e,r){var i;return Rt(this,n),(i=t.call(this,e,"not-in",r)).keys=km("not-in",r),i}return(0,Nt.Z)(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(vm);function km(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return wy.fromName(e.referenceValue)}))}var bm=function(e){Mt(n,e);var t=jt(n);function n(e,r){return Rt(this,n),t.call(this,e,"array-contains",r)}return(0,Nt.Z)(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Oy(t)&&Ey(t.arrayValue,this.value)}}]),n}(vm),wm=function(e){Mt(n,e);var t=jt(n);function n(e,r){return Rt(this,n),t.call(this,e,"in",r)}return(0,Nt.Z)(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Ey(this.value.arrayValue,t)}}]),n}(vm),xm=function(e){Mt(n,e);var t=jt(n);function n(e,r){return Rt(this,n),t.call(this,e,"not-in",r)}return(0,Nt.Z)(n,[{key:"matches",value:function(e){if(Ey(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Ey(this.value.arrayValue,t)}}]),n}(vm),_m=function(e){Mt(n,e);var t=jt(n);function n(e,r){return Rt(this,n),t.call(this,e,"array-contains-any",r)}return(0,Nt.Z)(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Oy(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Ey(t.value.arrayValue,e)}))}}]),n}(vm),Sm=(0,Nt.Z)((function e(t,n){Rt(this,e),this.position=t,this.inclusive=n})),Im=(0,Nt.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Rt(this,e),this.field=t,this.dir=n}));function Em(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Tm(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?wy.comparator(wy.fromName(o.referenceValue),n.key):Ty(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Cm(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Iy(e.position[n],t.position[n]))return!1;return!0}var Am=(0,Nt.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Rt(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.D=null,this.C=null,this.startAt,this.endAt}));function Rm(e,t,n,r,i,a,o,u){return new Am(e,t,n,r,i,a,o,u)}function Nm(e){return new Am(e)}function Pm(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Om(e){var t,n=Ot(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.S())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function Dm(e){return null!==e.collectionGroup}function Lm(e){var t=Dv(e);if(null===t.D){t.D=[];var n=Om(t),r=Pm(t);if(null!==n&&null===r)n.isKeyField()||t.D.push(new Im(n)),t.D.push(new Im(oy.keyField(),"asc"));else{var i,a=!1,o=Ot(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.D.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new Im(oy.keyField(),s))}}}return t.D}function Mm(e){var t=Dv(e);if(!t.C)if("F"===t.limitType)t.C=sm(t.path,t.collectionGroup,Lm(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Ot(Lm(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Im(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new Sm(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Sm(t.startAt.position,t.startAt.inclusive):null;t.C=sm(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.C}function Fm(e,t,n){return new Am(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Um(e,t){return lm(Mm(e),Mm(t))&&e.limitType===t.limitType}function Vm(e){return"".concat(cm(Mm(e)),"|lt:").concat(e.limitType)}function jm(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Ay(t.value));var t})).join(", "),"]")),gy(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Ay(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Ay(e)})).join(",")),"Target(".concat(t,")")}(Mm(e)),"; limitType=").concat(e.limitType,")")}function Zm(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):wy.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Ot(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Ot(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Tm(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Lm(e),t))&&!(e.endAt&&!function(e,t,n){var r=Tm(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Lm(e),t))}(e,t)}function zm(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Bm(e){return function(t,n){var r,i=!1,a=Ot(Lm(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=qm(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function qm(e,t,n){var r=e.field.isKeyField()?wy.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Ty(r,i):Pv()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Pv()}}function Wm(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ky(t)?"-0":t}}function Km(e){return{integerValue:""+e}}function Gm(e,t){return by(t)?Km(t):Wm(e,t)}var Hm=(0,Nt.Z)((function e(){Rt(this,e),this._=void 0}));function Qm(e,t,n){return e instanceof Xm?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Jm?eg(e,t):e instanceof tg?ng(e,t):function(e,t){var n=Ym(e,t),r=ig(n)+ig(e.k);return Py(n)&&Py(e.k)?Km(r):Wm(e.M,r)}(e,t)}function $m(e,t,n){return e instanceof Jm?eg(e,t):e instanceof tg?ng(e,t):n}function Ym(e,t){return e instanceof rg?Py(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Xm=function(e){Mt(n,e);var t=jt(n);function n(){return Rt(this,n),t.apply(this,arguments)}return(0,Nt.Z)(n)}(Hm),Jm=function(e){Mt(n,e);var t=jt(n);function n(e){var r;return Rt(this,n),(r=t.call(this)).elements=e,r}return(0,Nt.Z)(n)}(Hm);function eg(e,t){var n,r=ag(t),i=Ot(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Iy(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var tg=function(e){Mt(n,e);var t=jt(n);function n(e){var r;return Rt(this,n),(r=t.call(this)).elements=e,r}return(0,Nt.Z)(n)}(Hm);function ng(e,t){var n,r=ag(t),i=Ot(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Iy(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var rg=function(e){Mt(n,e);var t=jt(n);function n(e,r){var i;return Rt(this,n),(i=t.call(this)).M=e,i.k=r,i}return(0,Nt.Z)(n)}(Hm);function ig(e){return fy(e.integerValue||e.doubleValue)}function ag(e){return Oy(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var og=(0,Nt.Z)((function e(t,n){Rt(this,e),this.field=t,this.transform=n}));var ug=(0,Nt.Z)((function e(t,n){Rt(this,e),this.version=t,this.transformResults=n})),sg=function(){function e(t,n){Rt(this,e),this.updateTime=t,this.exists=n}return(0,Nt.Z)(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function cg(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var lg=(0,Nt.Z)((function e(){Rt(this,e)}));function fg(e,t,n){e instanceof yg?function(e,t,n){var r=e.value.clone(),i=kg(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof mg?function(e,t,n){if(cg(e.precondition,t)){var r=kg(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(gg(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function hg(e,t,n){e instanceof yg?function(e,t,n){if(cg(e.precondition,t)){var r=e.value.clone(),i=bg(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(vg(t),r).setHasLocalMutations()}}(e,t,n):e instanceof mg?function(e,t,n){if(cg(e.precondition,t)){var r=bg(e.fieldTransforms,n,t),i=t.data;i.setAll(gg(e)),i.setAll(r),t.convertToFoundDocument(vg(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){cg(e.precondition,t)&&t.convertToNoDocument(Jv.min())}(e,t)}function dg(e,t){var n,r=null,i=Ot(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=Ym(a.transform,o||null);null!=u&&(null==r&&(r=By.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function pg(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&$v(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Jm&&t instanceof Jm||e instanceof tg&&t instanceof tg?$v(e.elements,t.elements,Iy):e instanceof rg&&t instanceof rg?Iy(e.k,t.k):e instanceof Xm&&t instanceof Xm}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function vg(e){return e.isFoundDocument()?e.version:Jv.min()}var yg=function(e){Mt(n,e);var t=jt(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Rt(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return(0,Nt.Z)(n)}(lg),mg=function(e){Mt(n,e);var t=jt(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Rt(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return(0,Nt.Z)(n)}(lg);function gg(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function kg(e,t,n){var r=new Map;Ov(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,$m(o,u,n[i]))}return r}function bg(e,t,n){var r,i=new Map,a=Ot(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,Qm(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var wg,xg,_g=function(e){Mt(n,e);var t=jt(n);function n(e,r){var i;return Rt(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return(0,Nt.Z)(n)}(lg),Sg=function(e){Mt(n,e);var t=jt(n);function n(e,r){var i;return Rt(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return(0,Nt.Z)(n)}(lg),Ig=(0,Nt.Z)((function e(t){Rt(this,e),this.count=t}));function Eg(e){switch(e){default:return Pv();case Lv.CANCELLED:case Lv.UNKNOWN:case Lv.DEADLINE_EXCEEDED:case Lv.RESOURCE_EXHAUSTED:case Lv.INTERNAL:case Lv.UNAVAILABLE:case Lv.UNAUTHENTICATED:return!1;case Lv.INVALID_ARGUMENT:case Lv.NOT_FOUND:case Lv.ALREADY_EXISTS:case Lv.PERMISSION_DENIED:case Lv.FAILED_PRECONDITION:case Lv.ABORTED:case Lv.OUT_OF_RANGE:case Lv.UNIMPLEMENTED:case Lv.DATA_LOSS:return!0}}function Tg(e){if(void 0===e)return Av("GRPC error has no .code"),Lv.UNKNOWN;switch(e){case wg.OK:return Lv.OK;case wg.CANCELLED:return Lv.CANCELLED;case wg.UNKNOWN:return Lv.UNKNOWN;case wg.DEADLINE_EXCEEDED:return Lv.DEADLINE_EXCEEDED;case wg.RESOURCE_EXHAUSTED:return Lv.RESOURCE_EXHAUSTED;case wg.INTERNAL:return Lv.INTERNAL;case wg.UNAVAILABLE:return Lv.UNAVAILABLE;case wg.UNAUTHENTICATED:return Lv.UNAUTHENTICATED;case wg.INVALID_ARGUMENT:return Lv.INVALID_ARGUMENT;case wg.NOT_FOUND:return Lv.NOT_FOUND;case wg.ALREADY_EXISTS:return Lv.ALREADY_EXISTS;case wg.PERMISSION_DENIED:return Lv.PERMISSION_DENIED;case wg.FAILED_PRECONDITION:return Lv.FAILED_PRECONDITION;case wg.ABORTED:return Lv.ABORTED;case wg.OUT_OF_RANGE:return Lv.OUT_OF_RANGE;case wg.UNIMPLEMENTED:return Lv.UNIMPLEMENTED;case wg.DATA_LOSS:return Lv.DATA_LOSS;default:return Pv()}}(xg=wg||(wg={}))[xg.OK=0]="OK",xg[xg.CANCELLED=1]="CANCELLED",xg[xg.UNKNOWN=2]="UNKNOWN",xg[xg.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xg[xg.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xg[xg.NOT_FOUND=5]="NOT_FOUND",xg[xg.ALREADY_EXISTS=6]="ALREADY_EXISTS",xg[xg.PERMISSION_DENIED=7]="PERMISSION_DENIED",xg[xg.UNAUTHENTICATED=16]="UNAUTHENTICATED",xg[xg.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xg[xg.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xg[xg.ABORTED=10]="ABORTED",xg[xg.OUT_OF_RANGE=11]="OUT_OF_RANGE",xg[xg.UNIMPLEMENTED=12]="UNIMPLEMENTED",xg[xg.INTERNAL=13]="INTERNAL",xg[xg.UNAVAILABLE=14]="UNAVAILABLE",xg[xg.DATA_LOSS=15]="DATA_LOSS";var Cg=function(){function e(t,n){Rt(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return(0,Nt.Z)(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Ot(n);try{for(i.s();!(r=i.n()).done;){var a=(0,Qe.Z)(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){ty(this.inner,(function(t,n){var r,i=Ot(n);try{for(i.s();!(r=i.n()).done;){var a=(0,Qe.Z)(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return ny(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Ag=new tm(wy.comparator);function Rg(){return Ag}var Ng=new tm(wy.comparator);function Pg(){for(var e=Ng,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function Og(){return new Cg((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Dg=new tm(wy.comparator),Lg=new im(wy.comparator);function Mg(){for(var e=Lg,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Fg=new im(Qv);function Ug(){return Fg}var Vg=function(){function e(t,n,r,i,a){Rt(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return(0,Nt.Z)(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,jg.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Jv.min(),r,Ug(),Rg(),Mg())}}]),e}(),jg=function(){function e(t,n,r,i,a){Rt(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return(0,Nt.Z)(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(sy.EMPTY_BYTE_STRING,n,Mg(),Mg(),Mg())}}]),e}(),Zg=(0,Nt.Z)((function e(t,n,r,i){Rt(this,e),this.O=t,this.removedTargetIds=n,this.key=r,this.F=i})),zg=(0,Nt.Z)((function e(t,n){Rt(this,e),this.targetId=t,this.$=n})),Bg=(0,Nt.Z)((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:sy.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Rt(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),qg=function(){function e(){Rt(this,e),this.B=0,this.L=Gg(),this.U=sy.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}return(0,Nt.Z)(e,[{key:"current",get:function(){return this.q}},{key:"resumeToken",get:function(){return this.U}},{key:"G",get:function(){return 0!==this.B}},{key:"j",get:function(){return this.K}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}},{key:"H",value:function(){var e=Mg(),t=Mg(),n=Mg();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Pv()}})),new jg(this.U,this.q,e,t,n)}},{key:"J",value:function(){this.K=!1,this.L=Gg()}},{key:"Y",value:function(e,t){this.K=!0,this.L=this.L.insert(e,t)}},{key:"X",value:function(e){this.K=!0,this.L=this.L.remove(e)}},{key:"Z",value:function(){this.B+=1}},{key:"tt",value:function(){this.B-=1}},{key:"et",value:function(){this.K=!0,this.q=!0}}]),e}(),Wg=function(){function e(t){Rt(this,e),this.nt=t,this.st=new Map,this.it=Rg(),this.rt=Kg(),this.ot=new im(Qv)}return(0,Nt.Z)(e,[{key:"ut",value:function(e){var t,n=Ot(e.O);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.F&&e.F.isFoundDocument()?this.at(r,e.F):this.ct(r,e.key,e.F)}}catch(u){n.e(u)}finally{n.f()}var i,a=Ot(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.ct(o,e.key,e.F)}}catch(u){a.e(u)}finally{a.f()}}},{key:"ht",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.lt(n);switch(e.state){case 0:t.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||t.removeTarget(n);break;case 3:t.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:t.ft(n)&&(t.dt(n),r.W(e.resumeToken));break;default:Pv()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((function(e,r){n.ft(r)&&t(r)}))}},{key:"_t",value:function(e){var t=e.targetId,n=e.$.count,r=this.wt(t);if(r){var i=r.target;if(fm(i))if(0===n){var a=new wy(i.path);this.ct(t,a,Wy.newNoDocument(a,Jv.min()))}else Ov(1===n);else this.gt(t)!==n&&(this.dt(t),this.ot=this.ot.add(t))}}},{key:"yt",value:function(e){var t=this,n=new Map;this.st.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&fm(a.target)){var o=new wy(a.target.path);null!==t.it.get(o)||t.It(i,o)||t.ct(i,o,Wy.newNoDocument(o,e))}r.j&&(n.set(i,r.H()),r.J())}}));var r=Mg();this.rt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.it.forEach((function(t,n){return n.setReadTime(e)}));var i=new Vg(e,n,this.ot,this.it,r);return this.it=Rg(),this.rt=Kg(),this.ot=new im(Qv),i}},{key:"at",value:function(e,t){if(this.ft(e)){var n=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,n),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}}},{key:"ct",value:function(e,t,n){if(this.ft(e)){var r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),n&&(this.it=this.it.insert(t,n))}}},{key:"removeTarget",value:function(e){this.st.delete(e)}},{key:"gt",value:function(e){var t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Z",value:function(e){this.lt(e).Z()}},{key:"lt",value:function(e){var t=this.st.get(e);return t||(t=new qg,this.st.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.rt.get(e);return t||(t=new im(Qv),this.rt=this.rt.insert(e,t)),t}},{key:"ft",value:function(e){var t=null!==this.wt(e);return t||Cv("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}},{key:"dt",value:function(e){var t=this;this.st.set(e,new qg),this.nt.getRemoteKeysForTarget(e).forEach((function(n){t.ct(e,n,null)}))}},{key:"It",value:function(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}]),e}();function Kg(){return new tm(wy.comparator)}function Gg(){return new tm(wy.comparator)}var Hg={asc:"ASCENDING",desc:"DESCENDING"},Qg={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$g=(0,Nt.Z)((function e(t,n){Rt(this,e),this.databaseId=t,this.N=n}));function Yg(e,t){return e.N?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Xg(e,t){return e.N?t.toBase64():t.toUint8Array()}function Jg(e,t){return Yg(e,t.toTimestamp())}function ek(e){return Ov(!!e),Jv.fromTimestamp(function(e){var t=ly(e);return new Xv(t.seconds,t.nanos)}(e))}function tk(e,t){return function(e){return new iy(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function nk(e){var t=iy.fromString(e);return Ov(Ik(t)),t}function rk(e,t){return tk(e.databaseId,t.path)}function ik(e,t){var n=nk(t);if(n.get(1)!==e.databaseId.projectId)throw new Mv(Lv.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Mv(Lv.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new wy(sk(n))}function ak(e,t){return tk(e.databaseId,t)}function ok(e){var t=nk(e);return 4===t.length?iy.emptyPath():sk(t)}function uk(e){return new iy(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function sk(e){return Ov(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function ck(e,t,n){return{name:rk(e,t),fields:n.value.mapValue.fields}}function lk(e,t,n){var r=ik(e,t.name),i=ek(t.updateTime),a=new By({mapValue:{fields:t.fields}}),o=Wy.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function fk(e,t){return"found"in t?function(e,t){Ov(!!t.found),t.found.name,t.found.updateTime;var n=ik(e,t.found.name),r=ek(t.found.updateTime),i=new By({mapValue:{fields:t.found.fields}});return Wy.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Ov(!!t.missing),Ov(!!t.readTime);var n=ik(e,t.missing),r=ek(t.readTime);return Wy.newNoDocument(n,r)}(e,t):Pv()}function hk(e,t){var n;if(t instanceof yg)n={update:ck(e,t.key,t.value)};else if(t instanceof _g)n={delete:rk(e,t.key)};else if(t instanceof mg)n={update:ck(e,t.key,t.data),updateMask:Sk(t.fieldMask)};else{if(!(t instanceof Sg))return Pv();n={verify:rk(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Xm)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Jm)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof tg)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof rg)return{fieldPath:t.field.canonicalString(),increment:n.k};throw Pv()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Jg(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Pv()}(e,t.precondition)),n}function dk(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?sg.updateTime(ek(e.updateTime)):void 0!==e.exists?sg.exists(e.exists):sg.none()}(t.currentDocument):sg.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Ov("REQUEST_TIME"===t.setToServerValue),n=new Xm;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Jm(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new tg(i)}else"increment"in t?n=new rg(e,t.increment):Pv();var a=oy.fromServerFormat(t.fieldPath);return new og(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=ik(e,t.update.name),a=new By({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new uy(t.map((function(e){return oy.fromServerFormat(e)})))}(t.updateMask);return new mg(i,a,o,n,r)}return new yg(i,a,n,r)}if(t.delete){var u=ik(e,t.delete);return new _g(u,n)}if(t.verify){var s=ik(e,t.verify);return new Sg(s,n)}return Pv()}function pk(e,t){return{documents:[ak(e,t.path)]}}function vk(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=ak(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=ak(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Ly(e.value))return{unaryFilter:{field:bk(e.field),op:"IS_NAN"}};if(Dy(e.value))return{unaryFilter:{field:bk(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Ly(e.value))return{unaryFilter:{field:bk(e.field),op:"IS_NOT_NAN"}};if(Dy(e.value))return{unaryFilter:{field:bk(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bk(e.field),op:kk(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:bk(e.field),direction:gk(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.N||gy(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function yk(e){var t=ok(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ov(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=mk(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new Im(wk(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return gy(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Sm(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Sm(n,t)}(n.endAt)),Rm(t,i,u,o,s,"F",c,l)}function mk(e){return e?void 0!==e.unaryFilter?[_k(e)]:void 0!==e.fieldFilter?[xk(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return mk(e)})).reduce((function(e,t){return e.concat(t)})):Pv():[]}function gk(e){return Hg[e]}function kk(e){return Qg[e]}function bk(e){return{fieldPath:e.canonicalString()}}function wk(e){return oy.fromServerFormat(e.fieldPath)}function xk(e){return vm.create(wk(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Pv()}}(e.fieldFilter.op),e.fieldFilter.value)}function _k(e){switch(e.unaryFilter.op){case"IS_NAN":var t=wk(e.unaryFilter.field);return vm.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=wk(e.unaryFilter.field);return vm.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=wk(e.unaryFilter.field);return vm.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=wk(e.unaryFilter.field);return vm.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Pv()}}function Sk(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Ik(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Ek(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Ck(t)),t=Tk(e.get(n),t);return Ck(t)}function Tk(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Ck(e){return e+"\x01\x01"}function Ak(e){var t=e.length;if(Ov(t>=2),2===t)return Ov("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),iy.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Pv(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Pv()}a=o+2}return new iy(r)}var Rk=["userId","batchId"];function Nk(e,t){return[e,Ek(t)]}function Pk(e,t,n){return[e,Ek(t),n]}var Ok={},Dk=["prefixPath","collectionGroup","readTime","documentId"],Lk=["prefixPath","collectionGroup","documentId"],Mk=["collectionGroup","readTime","prefixPath","documentId"],Fk=["canonicalId","targetId"],Uk=["targetId","path"],Vk=["path","targetId"],jk=["collectionId","parent"],Zk=["indexId","uid"],zk=["uid","sequenceNumber"],Bk=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],qk=["indexId","uid","orderedDocumentKey"],Wk=["userId","collectionPath","documentId"],Kk=["userId","collectionPath","largestBatchId"],Gk=["userId","collectionGroup","largestBatchId"],Hk=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),Qk=[].concat((0,$e.Z)(Hk),["documentOverlays"]),$k=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Yk=[].concat($k,["indexConfiguration","indexState","indexEntries"]),Xk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Jk=function(){function e(){Rt(this,e),this.onCommittedListeners=[]}return(0,Nt.Z)(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),eb=function(){function e(t){var n=this;Rt(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return(0,Nt.Z)(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Pv(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Ot(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),tb=function(){function e(t,n){var r=this;Rt(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.At=new Fv,this.transaction.oncomplete=function(){r.At.resolve()},this.transaction.onabort=function(){n.error?r.At.reject(new ib(t,n.error)):r.At.resolve()},this.transaction.onerror=function(e){var n=cb(e.target.error);r.At.reject(new ib(t,n))}}return(0,Nt.Z)(e,[{key:"Rt",get:function(){return this.At.promise}},{key:"abort",value:function(e){e&&this.At.reject(e),this.aborted||(Cv("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"bt",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new ob(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new ib(n,t)}}}]),e}(),nb=function(){function e(t,n,r){Rt(this,e),this.name=t,this.version=n,this.Pt=r,12.2===e.Vt($t())&&Av("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return(0,Nt.Z)(e,[{key:"Nt",value:function(){var e=Ct(Et().mark((function e(t){var n=this;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Cv("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new ib(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Mv(Lv.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Mv(Lv.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new ib(t,n))},i.onupgradeneeded=function(e){Cv("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.Pt.kt(t,i.transaction,e.oldVersion,n.version).next((function(){Cv("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.Mt&&(this.db.onversionchange=function(e){return n.Mt(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ot",value:function(e){this.Mt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Ct(Et().mark((function e(t,n,r,i){var a,o,u,s,c=this;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(Et().mark((function e(){var n,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Nt(t);case 2:return c.db=e.sent,n=tb.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.bt(),e})).catch((function(e){return n.abort(e),eb.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.Rt;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s="FirebaseError"!==e.t1.name&&o<3,Cv("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",s),this.close(),s){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Cv("SimpleDb","Removing database:",e),ub(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"vt",value:function(){if(!nn())return!1;if(e.St())return!0;var t=$t(),n=e.Vt(t),r=0<n&&n<10,i=e.Dt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"St",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/group_chat_app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.Ct)}},{key:"xt",value:function(e,t){return e.store(t)}},{key:"Vt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Dt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),rb=function(){function e(t){Rt(this,e),this.Ft=t,this.$t=!1,this.Bt=null}return(0,Nt.Z)(e,[{key:"isDone",get:function(){return this.$t}},{key:"Lt",get:function(){return this.Bt}},{key:"cursor",set:function(e){this.Ft=e}},{key:"done",value:function(){this.$t=!0}},{key:"Ut",value:function(e){this.Bt=e}},{key:"delete",value:function(){return ub(this.Ft.delete())}}]),e}(),ib=function(e){Mt(n,e);var t=jt(n);function n(e,r){var i;return Rt(this,n),(i=t.call(this,Lv.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return(0,Nt.Z)(n)}(Mv);function ab(e){return"IndexedDbTransactionError"===e.name}var ob=function(){function e(t){Rt(this,e),this.store=t}return(0,Nt.Z)(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Cv("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Cv("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),ub(n)}},{key:"add",value:function(e){return Cv("SimpleDb","ADD",this.store.name,e,e),ub(this.store.add(e))}},{key:"get",value:function(e){var t=this;return ub(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Cv("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Cv("SimpleDb","DELETE",this.store.name,e),ub(this.store.delete(e))}},{key:"count",value:function(){return Cv("SimpleDb","COUNT",this.store.name),ub(this.store.count())}},{key:"qt",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.Kt(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new eb((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"Gt",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new eb((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Qt",value:function(e,t){Cv("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.jt=!1;var r=this.cursor(n);return this.Kt(r,(function(e,t,n){return n.delete()}))}},{key:"Wt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Kt(r,t)}},{key:"zt",value:function(e){var t=this.cursor({});return new eb((function(n,r){t.onerror=function(e){var t=cb(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Kt",value:function(e,t){var n=[];return new eb((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new rb(i),o=t(i.primaryKey,i.value,a);if(o instanceof eb){var u=o.catch((function(e){return a.done(),eb.reject(e)}));n.push(u)}a.isDone?r():null===a.Lt?i.continue():i.continue(a.Lt)}else r()}})).next((function(){return eb.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.jt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function ub(e){return new eb((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=cb(e.target.error);n(t)}}))}var sb=!1;function cb(e){var t=nb.Vt($t());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Mv("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return sb||(sb=!0,setTimeout((function(){throw r}),0)),r}}return e}var lb=function(e){Mt(n,e);var t=jt(n);function n(e,r){var i;return Rt(this,n),(i=t.call(this)).Ht=e,i.currentSequenceNumber=r,i}return(0,Nt.Z)(n)}(Jk);function fb(e,t){var n=Dv(e);return nb.xt(n.Ht,t)}var hb=function(){function e(t,n,r,i){Rt(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return(0,Nt.Z)(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&fg(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=Ot(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&hg(r,e,this.localWriteTime)}}catch(u){n.e(u)}finally{n.f()}var i,a=Ot(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&hg(o,e,this.localWriteTime)}}catch(u){a.e(u)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Jv.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Mg())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&$v(this.mutations,e.mutations,(function(e,t){return pg(e,t)}))&&$v(this.baseMutations,e.baseMutations,(function(e,t){return pg(e,t)}))}}]),e}(),db=function(){function e(t,n,r,i){Rt(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return(0,Nt.Z)(e,null,[{key:"from",value:function(t,n,r){Ov(t.mutations.length===r.length);for(var i=Dg,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),pb=function(){function e(t,n){Rt(this,e),this.largestBatchId=t,this.mutation=n}return(0,Nt.Z)(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),vb=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Jv.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Jv.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:sy.EMPTY_BYTE_STRING;Rt(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return(0,Nt.Z)(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),yb=(0,Nt.Z)((function e(t){Rt(this,e),this.Jt=t}));function mb(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:gb(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:rk(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Yg(e,t.version.toTimestamp())}}(e.Jt,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:kb(t.version)};else{if(!t.isUnknownDocument())return Pv();r.unknownDocument={path:n.path.toArray(),version:kb(t.version)}}return r}function gb(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function kb(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function bb(e){var t=new Xv(e.seconds,e.nanoseconds);return Jv.fromTimestamp(t)}function wb(e,t){for(var n=(t.baseMutations||[]).map((function(t){return dk(e.Jt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return dk(e.Jt,t)})),u=Xv.fromMillis(t.localWriteTimeMs);return new hb(t.batchId,u,n,o)}function xb(e){var t,n,r=bb(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?bb(e.lastLimboFreeSnapshotVersion):Jv.min();return void 0!==e.query.documents?(Ov(1===(n=e.query).documents.length),t=Mm(Nm(ok(n.documents[0])))):t=function(e){return Mm(yk(e))}(e.query),new vb(t,e.targetId,0,e.lastListenSequenceNumber,r,i,sy.fromBase64String(e.resumeToken))}function _b(e,t){var n,r=kb(t.snapshotVersion),i=kb(t.lastLimboFreeSnapshotVersion);n=fm(t.target)?pk(e.Jt,t.target):vk(e.Jt,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:cm(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function Sb(e){var t=yk({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Fm(t,t.limit,"L"):t}function Ib(e,t){return new pb(t.largestBatchId,dk(e.Jt,t.overlayMutation))}function Eb(e,t){var n=t.path.lastSegment();return[e,Ek(t.path.popLast()),n]}var Tb=function(){function e(){Rt(this,e)}return(0,Nt.Z)(e,[{key:"getBundleMetadata",value:function(e,t){return Cb(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:bb(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return Cb(e).put({bundleId:(n=t).id,createTime:kb(ek(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Ab(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Sb(t.bundledQuery),readTime:bb(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return Ab(e).put(function(e){return{name:e.name,readTime:kb(ek(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function Cb(e){return fb(e,"bundles")}function Ab(e){return fb(e,"namedQueries")}var Rb=function(){function e(t,n){Rt(this,e),this.M=t,this.userId=n}return(0,Nt.Z)(e,[{key:"getOverlay",value:function(e,t){var n=this;return Nb(e).get(Eb(this.userId,t)).next((function(e){return e?Ib(n.M,e):null}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new pb(t,a);i.push(r.Xt(e,o))})),eb.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(Ek(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(Nb(e).Qt("collectionPathOverlayIndex",i))})),eb.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Og(),a=Ek(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Nb(e).qt("collectionPathOverlayIndex",o).next((function(e){var t,n=Ot(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=Ib(r.M,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Og(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Nb(e).Wt({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=Ib(a.M,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"Xt",value:function(e,t){return Nb(e).put(function(e,t,n){var r=Eb(t,n.mutation.key),i=(0,Qe.Z)(r,3);i[0];return{userId:t,collectionPath:i[1],documentId:i[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:hk(e.Jt,n.mutation)}}(this.M,this.userId,t))}}],[{key:"Yt",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function Nb(e){return fb(e,"documentOverlays")}var Pb=function(){function e(){Rt(this,e)}return(0,Nt.Z)(e,[{key:"Zt",value:function(e,t){this.te(e,t),t.ee()}},{key:"te",value:function(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(fy(e.integerValue));else if("doubleValue"in e){var n=fy(e.doubleValue);isNaN(n)?this.ne(t,13):(this.ne(t,15),ky(n)?t.se(0):t.se(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie("".concat(r.seconds||"")),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(hy(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ne(t,45),t.se(i.latitude||0),t.se(i.longitude||0)}else"mapValue"in e?Uy(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):Pv()}},{key:"re",value:function(e,t){this.ne(t,25),this.le(e,t)}},{key:"le",value:function(e,t){t.ie(e)}},{key:"ce",value:function(e,t){var n=e.fields||{};this.ne(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.re(a,t),this.te(n[a],t)}}},{key:"he",value:function(e,t){var n=e.values||[];this.ne(t,50);var r,i=Ot(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.te(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ae",value:function(e,t){var n=this;this.ne(t,37),wy.fromName(e).path.forEach((function(e){n.ne(t,60),n.le(e,t)}))}},{key:"ne",value:function(e,t){e.se(t)}},{key:"oe",value:function(e){e.se(2)}}]),e}();function Ob(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Db(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=Ob(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Pb.fe=new Pb;var Lb=function(){function e(){Rt(this,e),this.buffer=new Uint8Array(1024),this.position=0}return(0,Nt.Z)(e,[{key:"de",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this._e(n.value),n=t.next();this.we()}},{key:"me",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.ge(n.value),n=t.next();this.ye()}},{key:"pe",value:function(e){var t,n=Ot(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this._e(i);else if(i<2048)this._e(960|i>>>6),this._e(128|63&i);else if(r<"\ud800"||"\udbff"<r)this._e(480|i>>>12),this._e(128|63&i>>>6),this._e(128|63&i);else{var a=r.codePointAt(0);this._e(240|a>>>18),this._e(128|63&a>>>12),this._e(128|63&a>>>6),this._e(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.we()}},{key:"Ie",value:function(e){var t,n=Ot(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.ge(i);else if(i<2048)this.ge(960|i>>>6),this.ge(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.ge(480|i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i);else{var a=r.codePointAt(0);this.ge(240|a>>>18),this.ge(128|63&a>>>12),this.ge(128|63&a>>>6),this.ge(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ye()}},{key:"Te",value:function(e){var t=this.Ee(e),n=Db(t);this.Ae(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Re",value:function(e){var t=this.Ee(e),n=Db(t);this.Ae(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"be",value:function(){this.Pe(255),this.Pe(255)}},{key:"Ve",value:function(){this.ve(255),this.ve(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Se",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ee",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"_e",value:function(e){var t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}},{key:"ge",value:function(e){var t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}},{key:"we",value:function(){this.Pe(0),this.Pe(1)}},{key:"ye",value:function(){this.ve(0),this.ve(1)}},{key:"Pe",value:function(e){this.Ae(1),this.buffer[this.position++]=e}},{key:"ve",value:function(e){this.Ae(1),this.buffer[this.position++]=~e}},{key:"Ae",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),Mb=function(){function e(t){Rt(this,e),this.De=t}return(0,Nt.Z)(e,[{key:"ue",value:function(e){this.De.de(e)}},{key:"ie",value:function(e){this.De.pe(e)}},{key:"se",value:function(e){this.De.Te(e)}},{key:"ee",value:function(){this.De.be()}}]),e}(),Fb=function(){function e(t){Rt(this,e),this.De=t}return(0,Nt.Z)(e,[{key:"ue",value:function(e){this.De.me(e)}},{key:"ie",value:function(e){this.De.Ie(e)}},{key:"se",value:function(e){this.De.Re(e)}},{key:"ee",value:function(){this.De.Ve()}}]),e}(),Ub=function(){function e(){Rt(this,e),this.De=new Lb,this.Ce=new Mb(this.De),this.xe=new Fb(this.De)}return(0,Nt.Z)(e,[{key:"seed",value:function(e){this.De.seed(e)}},{key:"Ne",value:function(e){return 0===e?this.Ce:this.xe}},{key:"Se",value:function(){return this.De.Se()}},{key:"reset",value:function(){this.De.reset()}}]),e}(),Vb=function(){function e(t,n,r,i){Rt(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return(0,Nt.Z)(e,[{key:"ke",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function jb(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=Zb(e.arrayValue,t.arrayValue))?n:0!==(n=Zb(e.directionalValue,t.directionalValue))?n:wy.comparator(e.documentKey,t.documentKey)}function Zb(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var zb=function(){function e(t){Rt(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Me=t.orderBy,this.Oe=[];var n,r=Ot(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.S()?this.Fe=i:this.Oe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return(0,Nt.Z)(e,[{key:"$e",value:function(e){var t=Gy(e);if(void 0!==t&&!this.Be(t))return!1;for(var n=Hy(e),r=0,i=0;r<n.length&&this.Be(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Fe){var a=n[r];if(!this.Le(this.Fe,a)||!this.Ue(this.Me[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Me.length||!this.Ue(this.Me[i++],o))return!1}return!0}},{key:"Be",value:function(e){var t,n=Ot(this.Oe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.Le(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"Le",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"Ue",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),Bb=function(){function e(){Rt(this,e),this.qe=new qb}return(0,Nt.Z)(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.qe.add(t),eb.resolve()}},{key:"getCollectionParents",value:function(e,t){return eb.resolve(this.qe.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return eb.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return eb.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return eb.resolve(null)}},{key:"getIndexType",value:function(e,t){return eb.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return eb.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return eb.resolve(null)}},{key:"getMinOffset",value:function(e,t){return eb.resolve(Jy.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return eb.resolve()}},{key:"updateIndexEntries",value:function(e,t){return eb.resolve()}}]),e}(),qb=function(){function e(){Rt(this,e),this.index={}}return(0,Nt.Z)(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new im(iy.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new im(iy.comparator)).toArray()}}]),e}(),Wb=new Uint8Array(0),Kb=function(){function e(t,n){Rt(this,e),this.user=t,this.databaseId=n,this.Ke=new qb,this.Ge=new Cg((function(e){return cm(e)}),(function(e,t){return lm(e,t)})),this.uid=t.uid||""}return(0,Nt.Z)(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ke.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ke.add(t)}));var a={collectionId:r,parent:Ek(i)};return Gb(e).put(a)}return eb.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Yv(t),""],!1,!0);return Gb(e).qt(r).next((function(e){var r,i=Ot(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Ak(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=Qb(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);return delete r.indexId,n.add(r).next()}},{key:"deleteFieldIndex",value:function(e,t){var n=Qb(e),r=$b(e),i=Hb(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=Hb(e),i=!0,a=new Map;return eb.forEach(this.Qe(t),(function(t){return n.je(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=Mg(),o=[];return eb.forEach(a,(function(i,a){var u;Cv("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(cm(t)));var s=function(e,t){var n=Gy(t);if(void 0===n)return null;var r,i=Ot(hm(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=Ot(Hy(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=Ot(hm(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=Ot(Hy(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?dm(e,o.fieldPath,e.startAt):pm(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Sm(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=Ot(Hy(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?pm(e,o.fieldPath,e.endAt):dm(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Sm(r,i)}(a,i),h=n.We(i,a,l),d=n.We(i,a,f),p=n.ze(i,a,c),v=n.He(i.indexId,s,h,l.inclusive,d,f.inclusive,p);return eb.forEach(v,(function(n){return r.Gt(n,t.limit).next((function(t){t.forEach((function(t){var n=wy.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return eb.resolve(null)}))}},{key:"Qe",value:function(e){var t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}},{key:"He",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(s){var f=t?u.Je(t[s/c]):Wb,h=u.Ye(e,f,n[s%c],r),d=u.Xe(e,f,i[s%c],a),p=o.map((function(t){return u.Ye(e,f,t,!0)}));l.push.apply(l,(0,$e.Z)(u.createRange(h,d,p)))},h=0;h<s;++h)f(h);return l}},{key:"Ye",value:function(e,t,n,r){var i=new Vb(e,wy.empty(),t,n);return r?i:i.ke()}},{key:"Xe",value:function(e,t,n,r){var i=new Vb(e,wy.empty(),t,n);return r?i.ke():i}},{key:"je",value:function(e,t){var n=new zb(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=Ot(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.$e(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2;return eb.forEach(this.Qe(t),(function(t){return n.je(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new im(oy.comparator),r=!1,i=Ot(e.filters);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.field.isKeyField()||("array-contains"===a.op||"array-contains-any"===a.op?r=!0:n=n.add(a.field))}}catch(c){i.e(c)}finally{i.f()}var o,u=Ot(e.orderBy);try{for(u.s();!(o=u.n()).done;){var s=o.value;s.field.isKeyField()||(n=n.add(s.field))}}catch(c){u.e(c)}finally{u.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return r}))}},{key:"Ze",value:function(e,t){var n,r=new Ub,i=Ot(Hy(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Ne(a.kind);Pb.fe.Zt(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Se()}},{key:"Je",value:function(e){var t=new Ub;return Pb.fe.Zt(e,t.Ne(0)),t.Se()}},{key:"tn",value:function(e,t){var n=new Ub;return Pb.fe.Zt(Ny(this.databaseId,t),n.Ne(function(e){var t=Hy(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Se()}},{key:"ze",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new Ub);var i,a=0,o=Ot(Hy(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=Ot(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.en(t,s.fieldPath)&&Oy(c))r=this.nn(r,s,c);else{var h=f.Ne(s.kind);Pb.fe.Zt(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.sn(r)}},{key:"We",value:function(e,t,n){return this.ze(e,t,n.position)}},{key:"sn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Se();return t}},{key:"nn",value:function(e,t,n){var r,i=(0,$e.Z)(e),a=[],o=Ot(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=Ot(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new Ub;f.seed(l.Se()),Pb.fe.Zt(s,f.Ne(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"en",value:function(e,t){return!!e.filters.find((function(e){return e instanceof vm&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=Qb(e),i=$b(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next((function(e){var t=[];return eb.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new $y(t.sequenceNumber,new Jy(bb(t.readTime),new wy(Ak(t.documentKey)),t.largestBatchId)):$y.empty(),r=e.fields.map((function(e){var t=(0,Qe.Z)(e,2),n=t[0],r=t[1];return new Qy(oy.fromServerFormat(n),r)}));return new Ky(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Qv(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=Qb(e),a=$b(e);return this.rn(e).next((function(e){return i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return eb.forEach(t,(function(t){return a.put(function(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:kb(r.readTime),documentKey:Ek(r.documentKey.path),largestBatchId:r.largestBatchId}}(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return eb.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?eb.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),eb.forEach(a,(function(r){return n.on(e,t,r).next((function(t){var a=n.un(i,r);return t.isEqual(a)?eb.resolve():n.an(e,i,r,t,a)}))}))}))}))}},{key:"cn",value:function(e,t,n,r){return Hb(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.tn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"hn",value:function(e,t,n,r){return Hb(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.tn(n,t.key),t.key.path.toArray()])}},{key:"on",value:function(e,t,n){var r=Hb(e),i=new im(jb);return r.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.tn(n,t)])},(function(e,r){i=i.add(new Vb(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"un",value:function(e,t){var n=new im(jb),r=this.Ze(t,e);if(null==r)return n;var i=Gy(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Oy(a)){var o,u=Ot(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new Vb(t.indexId,e.key,this.Je(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new Vb(t.indexId,e.key,Wb,r));return n}},{key:"an",value:function(e,t,n,r,i){var a=this;Cv("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=om(a),s=om(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=om(o)):l?(i(u),u=om(a)):(u=om(a),s=om(o))}}(r,i,jb,(function(r){o.push(a.cn(e,t,n,r))}),(function(r){o.push(a.hn(e,t,n,r))})),eb.waitFor(o)}},{key:"rn",value:function(e){var t=1;return $b(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return jb(e,t)})).filter((function(e,t,n){return!t||0!==jb(e,n[t-1])}));var r=[];r.push(e);var i,a=Ot(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=jb(o,e),s=jb(o,t);if(0===u)r[0]=e.ke();else if(u>0&&s<0)r.push(o),r.push(o.ke());else if(s>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,Wb,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,Wb,[]]));return c}},{key:"getMinOffset",value:function(e,t){var n,r=this;return eb.forEach(this.Qe(t),(function(t){return r.je(e,t).next((function(e){e?(!n||em(e.indexState.offset,n)<0)&&(n=e.indexState.offset):n=Jy.min()}))})).next((function(){return n}))}}]),e}();function Gb(e){return fb(e,"collectionParents")}function Hb(e){return fb(e,"indexEntries")}function Qb(e){return fb(e,"indexConfiguration")}function $b(e){return fb(e,"indexState")}var Yb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Xb=function(){function e(t,n,r){Rt(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return(0,Nt.Z)(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function Jb(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Wt({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){Ov(1===u)})));var c,l=[],f=Ot(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=Pk(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return eb.waitFor(a).next((function(){return l}))}function ew(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Pv();t=e.noDocument}return JSON.stringify(t).length}Xb.DEFAULT_COLLECTION_PERCENTILE=10,Xb.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xb.DEFAULT=new Xb(41943040,Xb.DEFAULT_COLLECTION_PERCENTILE,Xb.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xb.DISABLED=new Xb(-1,0,0);var tw=function(){function e(t,n,r,i){Rt(this,e),this.userId=t,this.M=n,this.indexManager=r,this.referenceDelegate=i,this.ln={}}return(0,Nt.Z)(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return rw(e).Wt({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=iw(e),o=rw(e);return o.add({}).next((function(u){Ov("number"==typeof u);var s,c=new hb(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return hk(e.Jt,t)})),i=n.mutations.map((function(t){return hk(e.Jt,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.M,i.userId,c),f=[],h=new im((function(e,t){return Qv(e.canonicalString(),t.canonicalString())})),d=Ot(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=Pk(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,Ok))}}catch(y){d.e(y)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.ln[u]=c.keys()})),eb.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return rw(e).get(t).next((function(e){return e?(Ov(e.userId===n.userId),wb(n.M,e)):null}))}},{key:"fn",value:function(e,t){var n=this;return this.ln[t]?eb.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.ln[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return rw(e).Wt({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(Ov(t.batchId>=r),a=wb(n.M,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return rw(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return rw(e).qt("userMutationsIndex",n).next((function(e){return e.map((function(e){return wb(t.M,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Nk(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return iw(e).Wt({range:i},(function(r,i,o){var u=(0,Qe.Z)(r,3),s=u[0],c=u[1],l=u[2],f=Ak(c);if(s===n.userId&&t.path.isEqual(f))return rw(e).get(l).next((function(e){if(!e)throw Pv();Ov(e.userId===n.userId),a.push(wb(n.M,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new im(Qv),i=[];return t.forEach((function(t){var a=Nk(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=iw(e).Wt({range:o},(function(e,i,a){var o=(0,Qe.Z)(e,3),u=o[0],s=o[1],c=o[2],l=Ak(s);u===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(u)})),eb.waitFor(i).next((function(){return n.dn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=Nk(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new im(Qv);return iw(e).Wt({range:o},(function(e,t,a){var o=(0,Qe.Z)(e,3),s=o[0],c=o[1],l=o[2],f=Ak(c);s===n.userId&&r.isPrefixOf(f)?f.length===i&&(u=u.add(l)):a.done()})).next((function(){return n.dn(e,u)}))}},{key:"dn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(rw(e).get(t).next((function(e){if(null===e)throw Pv();Ov(e.userId===n.userId),r.push(wb(n.M,e))})))})),eb.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return Jb(e.Ht,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n._n(t.batchId)})),eb.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"_n",value:function(e){delete this.ln[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return eb.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return iw(e).Wt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Ak(e[1]);i.push(a)}else r.done()})).next((function(){Ov(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return nw(e,this.userId,t)}},{key:"wn",value:function(e){var t=this;return aw(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"Yt",value:function(t,n,r,i){return Ov(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function nw(e,t,n){var r=Nk(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return iw(e).Wt({range:a,jt:!0},(function(e,n,r){var a=(0,Qe.Z)(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function rw(e){return fb(e,"mutations")}function iw(e){return fb(e,"documentMutations")}function aw(e){return fb(e,"mutationQueues")}var ow=function(){function e(t){Rt(this,e),this.mn=t}return(0,Nt.Z)(e,[{key:"next",value:function(){return this.mn+=2,this.mn}}],[{key:"gn",value:function(){return new e(0)}},{key:"yn",value:function(){return new e(-1)}}]),e}(),uw=function(){function e(t,n){Rt(this,e),this.referenceDelegate=t,this.M=n}return(0,Nt.Z)(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.pn(e).next((function(n){var r=new ow(n.highestTargetId);return n.highestTargetId=r.next(),t.In(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.pn(e).next((function(e){return Jv.fromTimestamp(new Xv(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.pn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.pn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.In(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Tn(e,t).next((function(){return n.pn(e).next((function(r){return r.targetCount+=1,n.En(t,r),n.In(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Tn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return sw(e).delete(t.targetId)})).next((function(){return n.pn(e)})).next((function(t){return Ov(t.targetCount>0),t.targetCount-=1,n.In(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return sw(e).Wt((function(o,u){var s=xb(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return eb.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return sw(e).Wt((function(e,n){var r=xb(n);t(r)}))}},{key:"pn",value:function(e){return cw(e).get("targetGlobalKey").next((function(e){return Ov(null!==e),e}))}},{key:"In",value:function(e,t){return cw(e).put("targetGlobalKey",t)}},{key:"Tn",value:function(e,t){return sw(e).put(_b(this.M,t))}},{key:"En",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.pn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=cm(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return sw(e).Wt({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=xb(n);lm(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=lw(e);return t.forEach((function(t){var o=Ek(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),eb.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=lw(e);return eb.forEach(t,(function(t){var a=Ek(t.path);return eb.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=lw(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=lw(e),i=Mg();return r.Wt({range:n,jt:!0},(function(e,t,n){var r=Ak(e[1]),a=new wy(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Ek(t.path),r=IDBKeyRange.bound([n],[Yv(n)],!1,!0),i=0;return lw(e).Wt({index:"documentTargetsIndex",jt:!0,range:r},(function(e,t,n){var r=(0,Qe.Z)(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Et",value:function(e,t){return sw(e).get(t).next((function(e){return e?xb(e):null}))}}]),e}();function sw(e){return fb(e,"targets")}function cw(e){return fb(e,"targetGlobal")}function lw(e){return fb(e,"targetDocuments")}function fw(e){return hw.apply(this,arguments)}function hw(){return hw=Ct(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Lv.FAILED_PRECONDITION&&t.message===Xk){e.next=2;break}throw t;case 2:Cv("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),hw.apply(this,arguments)}function dw(e,t){var n=(0,Qe.Z)(e,2),r=n[0],i=n[1],a=(0,Qe.Z)(t,2),o=a[0],u=a[1],s=Qv(r,o);return 0===s?Qv(i,u):s}var pw=function(){function e(t){Rt(this,e),this.An=t,this.buffer=new im(dw),this.Rn=0}return(0,Nt.Z)(e,[{key:"bn",value:function(){return++this.Rn}},{key:"Pn",value:function(e){var t=[e,this.bn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();dw(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),vw=function(){function e(t,n){Rt(this,e),this.garbageCollector=t,this.asyncQueue=n,this.Vn=!1,this.vn=null}return(0,Nt.Z)(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}},{key:"stop",value:function(){this.vn&&(this.vn.cancel(),this.vn=null)}},{key:"started",get:function(){return null!==this.vn}},{key:"Sn",value:function(e){var t=this,n=this.Vn?3e5:6e4;Cv("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,Ct(Et().mark((function n(){return Et().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.vn=null,t.Vn=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!ab(n.t0)){n.next=12;break}Cv("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,fw(n.t0);case 14:return n.next=16,t.Sn(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),yw=function(){function e(t,n){Rt(this,e),this.Dn=t,this.params=n}return(0,Nt.Z)(e,[{key:"calculateTargetCount",value:function(e,t){return this.Dn.Cn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return eb.resolve(Kv.A);var r=new pw(t);return this.Dn.forEachTarget(e,(function(e){return r.Pn(e.sequenceNumber)})).next((function(){return n.Dn.xn(e,(function(e){return r.Pn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Dn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Dn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Cv("LruGarbageCollector","Garbage collection skipped; disabled"),eb.resolve(Yb)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Cv("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),Yb):n.Nn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Dn.getCacheSize(e)}},{key:"Nn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Cv("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),Tv()<=xn.DEBUG&&Cv("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),eb.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),mw=function(){function e(t,n){Rt(this,e),this.db=t,this.garbageCollector=function(e,t){return new yw(e,t)}(this,n)}return(0,Nt.Z)(e,[{key:"Cn",value:function(e){var t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"kn",value:function(e){var t=0;return this.xn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"xn",value:function(e,t){return this.Mn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return gw(e,n)}},{key:"removeReference",value:function(e,t,n){return gw(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return gw(e,t)}},{key:"On",value:function(e,t){return function(e,t){var n=!1;return aw(e).zt((function(r){return nw(e,r,t).next((function(e){return e&&(n=!0),eb.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Mn(e,(function(o,u){if(u<=t){var s=n.On(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Jv.min()),lw(e).delete([0,Ek(o.path)])}))}));i.push(s)}})).next((function(){return eb.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return gw(e,t)}},{key:"Mn",value:function(e,t){var n,r=lw(e),i=Kv.A;return r.Wt({index:"documentTargetsIndex"},(function(e,r){var a=(0,Qe.Z)(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==Kv.A&&t(new wy(Ak(n)),i),i=s,n=u):i=Kv.A})).next((function(){i!==Kv.A&&t(new wy(Ak(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function gw(e,t){return lw(e).put(function(e,t){return{targetId:0,path:Ek(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var kw=function(){function e(){Rt(this,e),this.changes=new Cg((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return(0,Nt.Z)(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Wy.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?eb.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),bw=function(){function e(t){Rt(this,e),this.M=t}return(0,Nt.Z)(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return _w(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return _w(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],gb(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Fn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=Wy.newInvalidDocument(t);return _w(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Sw(t))},(function(e,i){r=n.$n(t,i)})).next((function(){return r}))}},{key:"Bn",value:function(e,t){var n=this,r={size:0,document:Wy.newInvalidDocument(t)};return _w(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Sw(t))},(function(e,i){r={document:n.$n(t,i),size:ew(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=Rg();return this.Ln(e,t,(function(e,t){var i=n.$n(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Un",value:function(e,t){var n=this,r=Rg(),i=new tm(wy.comparator);return this.Ln(e,t,(function(e,t){var a=n.$n(e,t);r=r.insert(e,a),i=i.insert(e,ew(t))})).next((function(){return{documents:r,qn:i}}))}},{key:"Ln",value:function(e,t,n){if(t.isEmpty())return eb.resolve();var r=new im(Ew);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(Sw(r.first()),Sw(r.last())),a=r.getIterator(),o=a.getNext();return _w(e).Wt({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=wy.fromSegments([].concat((0,$e.Z)(t.prefixPath),[t.collectionGroup,t.documentId]));o&&Ew(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.Ut(Sw(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),gb(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return _w(e).qt(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=Rg(),i=Ot(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.$n(wy.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(u){i.e(u)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=Rg(),o=Iw(t,n),u=Iw(t,Jy.max());return _w(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.$n(wy.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new ww(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return xw(e).get("remoteDocumentGlobalKey").next((function(e){return Ov(!!e),e}))}},{key:"Fn",value:function(e,t){return xw(e).put("remoteDocumentGlobalKey",t)}},{key:"$n",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=lk(e.Jt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=wy.fromSegments(t.noDocument.path),i=bb(t.noDocument.readTime);n=Wy.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Pv();var a=wy.fromSegments(t.unknownDocument.path),o=bb(t.unknownDocument.version);n=Wy.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new Xv(e[0],e[1]);return Jv.fromTimestamp(t)}(t.readTime)),n}(this.M,t);if(!n.isNoDocument()||!n.version.isEqual(Jv.min()))return n}return Wy.newInvalidDocument(e)}}]),e}(),ww=function(e){Mt(n,e);var t=jt(n);function n(e,r){var i;return Rt(this,n),(i=t.call(this)).Kn=e,i.trackRemovals=r,i.Gn=new Cg((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return(0,Nt.Z)(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new im((function(e,t){return Qv(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Gn.get(a);if(n.push(t.Kn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=mb(t.Kn.M,o);i=i.add(a.path.popLast());var c=ew(s);r+=c-u.size,n.push(t.Kn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=mb(t.Kn.M,o.convertToNoDocument(Jv.min()));n.push(t.Kn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Kn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Kn.updateMetadata(e,r)),eb.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Kn.Bn(e,t).next((function(e){return n.Gn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Kn.Un(e,t).next((function(e){var t=e.documents;return e.qn.forEach((function(e,r){n.Gn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(kw);function xw(e){return fb(e,"remoteDocumentGlobal")}function _w(e){return fb(e,"remoteDocumentsV14")}function Sw(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Iw(e,t){var n=t.documentKey.path.toArray();return[e,gb(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Ew(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=Qv(n[a],r[a]))return i;return(i=Qv(n.length,r.length))||((i=Qv(n[n.length-2],r[r.length-2]))||Qv(n[n.length-1],r[r.length-1]))}var Tw=function(){function e(t){Rt(this,e),this.M=t}return(0,Nt.Z)(e,[{key:"kt",value:function(e,t,n,r){var i=this,a=new tb("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Rk,{unique:!0}),e.createObjectStore("documentMutations")}(e),Cw(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=eb.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Cw(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Jv.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").qt().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Rk,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return eb.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Qn(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.jn(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Wn(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.zn(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.Hn(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:Wk});t.createIndex("collectionPathOverlayIndex",Kk,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Gk,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:Dk});t.createIndex("documentKeyIndex",Lk),t.createIndex("collectionGroupIndex",Mk)}(e)})).next((function(){return i.Jn(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){!function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Zk}).createIndex("sequenceNumberIndex",zk,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Bk}).createIndex("documentKeyIndex",qk,{unique:!1})}(e)}))),o}},{key:"jn",value:function(e){var t=0;return e.store("remoteDocuments").Wt((function(e,n){t+=ew(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Qn",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.qt().next((function(n){return eb.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",i).next((function(r){return eb.forEach(r,(function(r){Ov(r.userId===n.userId);var i=wb(t.M,r);return Jb(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Wn",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Wt((function(n,i){var a=new iy(n),o=function(e){return[0,Ek(e)]}(a);r.push(t.get(o).next((function(n){return n?eb.resolve():function(n){return t.put({targetId:0,path:Ek(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return eb.waitFor(r)}))}))}},{key:"zn",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:jk});var n=t.store("collectionParents"),r=new qb,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Ek(i)})}};return t.store("remoteDocuments").Wt({jt:!0},(function(e,t){var n=new iy(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Wt({jt:!0},(function(e,t){var n=(0,Qe.Z)(e,3),r=(n[0],n[1]),a=(n[2],Ak(r));return i(a.popLast())}))}))}},{key:"Hn",value:function(e){var t=this,n=e.store("targets");return n.Wt((function(e,r){var i=xb(r),a=_b(t.M,i);return n.put(a)}))}},{key:"Jn",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Wt((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new wy(iy.fromString(i.document.name).popFirst(5)):i.noDocument?wy.fromSegments(i.noDocument.path):i.unknownDocument?wy.fromSegments(i.unknownDocument.path):Pv()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return eb.waitFor(r)}))}}]),e}();function Cw(e){e.createObjectStore("targetDocuments",{keyPath:Uk}).createIndex("documentTargetsIndex",Vk,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Fk,{unique:!0}),e.createObjectStore("targetGlobal")}var Aw="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Rw=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:13;if(Rt(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Yn=a,this.window=o,this.document=u,this.Xn=c,this.Zn=l,this.ts=f,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=function(e){return Promise.resolve()},!e.vt())throw new Mv(Lv.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new mw(this,i),this.hs=n+"main",this.M=new yb(s),this.ls=new nb(this.hs,this.ts,new Tw(this.M)),this.fs=new uw(this.referenceDelegate,this.M),this.ds=function(e){return new bw(e)}(this.M),this._s=new Tb,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===l&&Av("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return(0,Nt.Z)(e,[{key:"start",value:function(){var e=this;return this.gs().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Mv(Lv.FAILED_PRECONDITION,Aw);return e.ys(),e.ps(),e.Is(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.fs.getHighestSequenceNumber(t)}))})).then((function(t){e.es=new Kv(t,e.Xn)})).then((function(){e.ns=!0})).catch((function(t){return e.ls&&e.ls.close(),Promise.reject(t)}))}},{key:"Ts",value:function(e){var t=this;return this.cs=function(){var n=Ct(Et().mark((function n(r){return Et().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ls.Ot(function(){var t=Ct(Et().mark((function t(n){return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget(Ct(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.gs();case 4:case"end":return e.stop()}}),e)})))))}},{key:"gs",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Pw(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.Es(t).next((function(t){t||(e.isPrimary=!1,e.Yn.enqueueRetryable((function(){return e.cs(!1)})))}))})).next((function(){return e.As(t)})).next((function(n){return e.isPrimary&&!n?e.Rs(t).next((function(){return!1})):!!n&&e.bs(t).next((function(){return!0}))}))})).catch((function(t){if(ab(t))return Cv("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Cv("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Yn.enqueueRetryable((function(){return e.cs(t)})),e.isPrimary=t}))}},{key:"Es",value:function(e){var t=this;return Nw(e).get("owner").next((function(e){return eb.resolve(t.Ps(e))}))}},{key:"Vs",value:function(e){return Pw(e).delete(this.clientId)}},{key:"vs",value:function(){var e=Ct(Et().mark((function e(){var t,n,r,i,a=this;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.Ss(this.us,18e5)){e.next=6;break}return this.us=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=fb(e,"clientMetadata");return t.qt().next((function(e){var n=a.Ds(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return eb.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.ws){n=Ot(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.ws.removeItem(this.Cs(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Is",value:function(){var e=this;this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.gs().then((function(){return e.vs()})).then((function(){return e.Is()}))}))}},{key:"Ps",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"As",value:function(e){var t=this;return this.Zn?eb.resolve(!0):Nw(e).get("owner").next((function(n){if(null!==n&&t.Ss(n.leaseTimestampMs,5e3)&&!t.xs(n.ownerId)){if(t.Ps(n)&&t.networkEnabled)return!0;if(!t.Ps(n)){if(!n.allowTabSynchronization)throw new Mv(Lv.FAILED_PRECONDITION,Aw);return!1}}return!(!t.networkEnabled||!t.inForeground)||Pw(e).qt().next((function(e){return void 0===t.Ds(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Cv("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Ct(Et().mark((function e(){var t=this;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ns=!1,this.Ns(),this.os&&(this.os.cancel(),this.os=null),this.ks(),this.Ms(),e.next=7,this.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new lb(e,Kv.A);return t.Rs(n).next((function(){return t.Vs(n)}))}));case 7:this.ls.close(),this.Os();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ds",value:function(e,t){var n=this;return e.filter((function(e){return n.Ss(e.updateTimeMs,t)&&!n.xs(e.clientId)}))}},{key:"Fs",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Pw(t).qt().next((function(t){return e.Ds(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.ns}},{key:"getMutationQueue",value:function(e,t){return tw.Yt(e,this.M,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.fs}},{key:"getRemoteDocumentCache",value:function(){return this.ds}},{key:"getIndexManager",value:function(e){return new Kb(e,this.M.Jt.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return Rb.Yt(this.M,e)}},{key:"getBundleCache",value:function(){return this._s}},{key:"runTransaction",value:function(e,t,n){var r=this;Cv("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=14===(i=this.ts)?Yk:13===i?$k:12===i?Qk:11===i?Hk:void Pv();return this.ls.runTransaction(e,o,u,(function(i){return a=new lb(i,r.es?r.es.next():Kv.A),"readwrite-primary"===t?r.Es(a).next((function(e){return!!e||r.As(a)})).next((function(t){if(!t)throw Av("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Yn.enqueueRetryable((function(){return r.cs(!1)})),new Mv(Lv.FAILED_PRECONDITION,Xk);return n(a)})).next((function(e){return r.bs(a).next((function(){return e}))})):r.$s(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"$s",value:function(e){var t=this;return Nw(e).get("owner").next((function(e){if(null!==e&&t.Ss(e.leaseTimestampMs,5e3)&&!t.xs(e.ownerId)&&!t.Ps(e)&&!(t.Zn||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Mv(Lv.FAILED_PRECONDITION,Aw)}))}},{key:"bs",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Nw(e).put("owner",t)}},{key:"Rs",value:function(e){var t=this,n=Nw(e);return n.get("owner").next((function(e){return t.Ps(e)?(Cv("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):eb.resolve()}))}},{key:"Ss",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Av("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ys",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=function(){e.Yn.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.gs()}))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}},{key:"ks",value:function(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}},{key:"ps",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=function(){t.Ns(),!Xt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Yn.enterRestrictedMode(!0),t.Yn.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ss))}},{key:"Ms",value:function(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}},{key:"xs",value:function(e){var t;try{var n=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return Cv("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Av("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ns",value:function(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(Sf){Av("Failed to set zombie client id.",Sf)}}},{key:"Os",value:function(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(Sf){}}},{key:"Cs",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"vt",value:function(){return nb.vt()}}]),e}();function Nw(e){return fb(e,"owner")}function Pw(e){return fb(e,"clientMetadata")}function Ow(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Dw=function(){function e(t,n,r){Rt(this,e),this.ds=t,this.Bs=n,this.indexManager=r}return(0,Nt.Z)(e,[{key:"Ls",value:function(e,t){var n=this;return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.Us(e,t,r)}))}},{key:"Us",value:function(e,t,n){return this.ds.getEntry(e,t).next((function(e){var t,r=Ot(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"qs",value:function(e,t){e.forEach((function(e,n){var r,i=Ot(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"Ks",value:function(e,t){var n=this;return this.ds.getEntries(e,t).next((function(t){return n.Gs(e,t).next((function(){return t}))}))}},{key:"Gs",value:function(e,t){var n=this;return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.qs(t,e)}))}},{key:"Qs",value:function(e,t,n){return function(e){return wy.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.js(e,t.path):Dm(t)?this.Ws(e,t,n):this.zs(e,t,n)}},{key:"js",value:function(e,t){return this.Ls(e,new wy(t)).next((function(e){var t=Pg();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Ws",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Pg();return this.indexManager.getCollectionParents(e,i).next((function(o){return eb.forEach(o,(function(o){var u=function(e,t){return new Am(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.zs(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"zs",value:function(e,t,n){var r,i=this;return this.ds.getAllFromCollection(e,t.path,n).next((function(n){return r=n,i.Bs.getAllMutationBatchesAffectingQuery(e,t)})).next((function(e){var t,n=Ot(e);try{for(n.s();!(t=n.n()).done;){var i,a=t.value,o=Ot(a.mutations);try{for(o.s();!(i=o.n()).done;){var u=i.value,s=u.key,c=r.get(s);null==c&&(c=Wy.newInvalidDocument(s),r=r.insert(s,c)),hg(u,c,a.localWriteTime),c.isFoundDocument()||(r=r.remove(s))}}catch(l){o.e(l)}finally{o.f()}}}catch(l){n.e(l)}finally{n.f()}})).next((function(){return r.forEach((function(e,n){Zm(t,n)||(r=r.remove(e))})),r}))}}]),e}(),Lw=function(){function e(t,n,r,i){Rt(this,e),this.targetId=t,this.fromCache=n,this.Hs=r,this.Js=i}return(0,Nt.Z)(e,null,[{key:"Ys",value:function(t,n){var r,i=Mg(),a=Mg(),o=Ot(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),Mw=function(){function e(){Rt(this,e),this.Xs=!1}return(0,Nt.Z)(e,[{key:"initialize",value:function(e,t){this.Zs=e,this.indexManager=t,this.Xs=!0}},{key:"Qs",value:function(e,t,n,r){var i=this;return this.ti(e,t).next((function(a){return a||i.ei(e,t,r,n)})).next((function(n){return n||i.ni(e,t)}))}},{key:"ti",value:function(e,t){return eb.resolve(null)}},{key:"ei",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||r.isEqual(Jv.min())?this.ni(e,t):this.Zs.Ks(e,n).next((function(a){var o=i.si(t,a);return i.ii(t,o,n,r)?i.ni(e,t):(Tv()<=xn.DEBUG&&Cv("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),jm(t)),i.ri(e,o,t,Yy(r,-1)))}))}},{key:"si",value:function(e,t){var n=new im(Bm(e));return t.forEach((function(t,r){Zm(e,r)&&(n=n.add(r))})),n}},{key:"ii",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"ni",value:function(e,t){return Tv()<=xn.DEBUG&&Cv("QueryEngine","Using full collection scan to execute query:",jm(t)),this.Zs.Qs(e,t,Jy.min())}},{key:"ri",value:function(e,t,n,r){return this.Zs.Qs(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),Fw=function(){function e(t,n,r,i){Rt(this,e),this.persistence=t,this.oi=n,this.M=i,this.ui=new tm(Qv),this.ai=new Cg((function(e){return cm(e)}),lm),this.ci=new Map,this.hi=t.getRemoteDocumentCache(),this.fs=t.getTargetCache(),this._s=t.getBundleCache(),this.li(r)}return(0,Nt.Z)(e,[{key:"li",value:function(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.fi=new Dw(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.ui)}))}}]),e}();function Uw(e,t,n,r){return new Fw(e,t,n,r)}function Vw(e,t){return jw.apply(this,arguments)}function jw(){return jw=Ct(Et().mark((function e(t,n){var r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Dv(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.Bs.getAllMutationBatches(e).next((function(i){return t=i,r.li(n),r.Bs.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=Mg(),s=Ot(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=Ot(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=Ot(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var y,m=Ot(v.mutations);try{for(m.s();!(y=m.n()).done;){var g=y.value;u=u.add(g.key)}}catch(k){m.e(k)}finally{m.f()}}}catch(k){p.e(k)}finally{p.f()}return r.fi.Ks(e,u).next((function(e){return{di:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),jw.apply(this,arguments)}function Zw(e,t){var n=Dv(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.hi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=eb.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Ov(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.Bs.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.Bs.performConsistencyCheck(e)})).next((function(){return n.fi.Ks(e,r)}))}))}function zw(e){var t=Dv(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.fs.getLastRemoteSnapshotVersion(e)}))}function Bw(e,t){var n=Dv(e),r=t.snapshotVersion,i=n.ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.hi.newChangeBuffer({trackRemovals:!0});i=n.ui;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.fs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.fs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(sy.EMPTY_BYTE_STRING,Jv.min()).withLastLimboFreeSnapshotVersion(Jv.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.fs.updateTargetData(e,c))}}));var u=Rg();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(qw(e,a,t.documentUpdates).next((function(e){u=e}))),!r.isEqual(Jv.min())){var s=n.fs.getLastRemoteSnapshotVersion(e).next((function(t){return n.fs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(s)}return eb.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.fi.Gs(e,u)})).next((function(){return u}))})).then((function(e){return n.ui=i,e}))}function qw(e,t,n){var r=Mg();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Rg();return n.forEach((function(n,i){var a=e.get(n);i.isNoDocument()&&i.version.isEqual(Jv.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):Cv("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)})),r}))}function Ww(e,t){var n=Dv(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.Bs.getNextMutationBatchAfterBatchId(e,t)}))}function Kw(e,t){var n=Dv(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.fs.getTargetData(e,t).next((function(i){return i?(r=i,eb.resolve(r)):n.fs.allocateTargetId(e).next((function(i){return r=new vb(t,i,0,e.currentSequenceNumber),n.fs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.ui.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ui=n.ui.insert(e.targetId,e),n.ai.set(t,e.targetId)),e}))}function Gw(e,t,n){return Hw.apply(this,arguments)}function Hw(){return Hw=Ct(Et().mark((function e(t,n,r){var i,a,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Dv(t),a=i.ui.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),ab(e.t1)){e.next=12;break}throw e.t1;case 12:Cv("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.ui=i.ui.remove(n),i.ai.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),Hw.apply(this,arguments)}function Qw(e,t,n){var r=Dv(e),i=Jv.min(),a=Mg();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Dv(e),i=r.ai.get(n);return void 0!==i?eb.resolve(r.ui.get(i)):r.fs.getTargetData(t,n)}(r,e,Mm(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.oi.Qs(e,t,n?i:Jv.min(),n?a:Mg())})).next((function(e){return Xw(r,zm(t),e),{documents:e,_i:a}}))}))}function $w(e,t){var n=Dv(e),r=Dv(n.fs),i=n.ui.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Et(e,t).next((function(e){return e?e.target:null}))}))}function Yw(e,t){var n=Dv(e),r=n.ci.get(t)||Jv.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.hi.getAllFromCollectionGroup(e,t,Yy(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return Xw(n,t,e),e}))}function Xw(e,t,n){var r=Jv.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ci.set(t,r)}function Jw(e,t,n,r){return ex.apply(this,arguments)}function ex(){return ex=Ct(Et().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Dv(t),o=Mg(),u=Rg(),s=Ot(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.wi(l.metadata.name),l.document&&(o=o.add(f)),(h=n.mi(l)).setReadTime(n.gi(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.hi.newChangeBuffer({trackRemovals:!0}),e.next=7,Kw(a,function(e){return Mm(Nm(iy.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return qw(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.fs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.fs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.fi.Gs(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),ex.apply(this,arguments)}function tx(e,t){return nx.apply(this,arguments)}function nx(){return nx=Ct(Et().mark((function e(t,n){var r,i,a,o=arguments;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Mg(),e.next=3,Kw(t,Mm(Sb(n.bundledQuery)));case 3:return i=e.sent,a=Dv(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=ek(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a._s.saveNamedQuery(e,n);var o=i.withResumeToken(sy.EMPTY_BYTE_STRING,t);return a.ui=a.ui.insert(o.targetId,o),a.fs.updateTargetData(e,o).next((function(){return a.fs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.fs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a._s.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),nx.apply(this,arguments)}var rx=function(){function e(t){Rt(this,e),this.M=t,this.yi=new Map,this.pi=new Map}return(0,Nt.Z)(e,[{key:"getBundleMetadata",value:function(e,t){return eb.resolve(this.yi.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.yi.set(t.id,{id:(n=t).id,version:n.version,createTime:ek(n.createTime)}),eb.resolve()}},{key:"getNamedQuery",value:function(e,t){return eb.resolve(this.pi.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.pi.set(t.name,function(e){return{name:e.name,query:Sb(e.bundledQuery),readTime:ek(e.readTime)}}(t)),eb.resolve()}}]),e}(),ix=function(){function e(){Rt(this,e),this.overlays=new tm(wy.comparator),this.Ii=new Map}return(0,Nt.Z)(e,[{key:"getOverlay",value:function(e,t){return eb.resolve(this.overlays.get(t))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.Xt(e,t,i)})),eb.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.Ii.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.Ii.delete(n)),eb.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Og(),i=t.length+1,a=new wy(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return eb.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new tm((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=Og(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=Og(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return eb.resolve(s)}},{key:"Xt",value:function(e,t,n){if(null!==n){var r=this.overlays.get(n.key);if(null!==r){var i=this.Ii.get(r.largestBatchId).delete(n.key);this.Ii.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new pb(t,n));var a=this.Ii.get(t);void 0===a&&(a=Mg(),this.Ii.set(t,a)),this.Ii.set(t,a.add(n.key))}}}]),e}(),ax=function(){function e(){Rt(this,e),this.Ti=new im(ox.Ei),this.Ai=new im(ox.Ri)}return(0,Nt.Z)(e,[{key:"isEmpty",value:function(){return this.Ti.isEmpty()}},{key:"addReference",value:function(e,t){var n=new ox(e,t);this.Ti=this.Ti.add(n),this.Ai=this.Ai.add(n)}},{key:"bi",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Pi(new ox(e,t))}},{key:"Vi",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"vi",value:function(e){var t=this,n=new wy(new iy([])),r=new ox(n,e),i=new ox(n,e+1),a=[];return this.Ai.forEachInRange([r,i],(function(e){t.Pi(e),a.push(e.key)})),a}},{key:"Si",value:function(){var e=this;this.Ti.forEach((function(t){return e.Pi(t)}))}},{key:"Pi",value:function(e){this.Ti=this.Ti.delete(e),this.Ai=this.Ai.delete(e)}},{key:"Di",value:function(e){var t=new wy(new iy([])),n=new ox(t,e),r=new ox(t,e+1),i=Mg();return this.Ai.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new ox(e,0),n=this.Ti.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),ox=function(){function e(t,n){Rt(this,e),this.key=t,this.Ci=n}return(0,Nt.Z)(e,null,[{key:"Ei",value:function(e,t){return wy.comparator(e.key,t.key)||Qv(e.Ci,t.Ci)}},{key:"Ri",value:function(e,t){return Qv(e.Ci,t.Ci)||wy.comparator(e.key,t.key)}}]),e}(),ux=function(){function e(t,n){Rt(this,e),this.indexManager=t,this.referenceDelegate=n,this.Bs=[],this.xi=1,this.Ni=new im(ox.Ei)}return(0,Nt.Z)(e,[{key:"checkEmpty",value:function(e){return eb.resolve(0===this.Bs.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.xi;this.xi++,this.Bs.length>0&&this.Bs[this.Bs.length-1];var a=new hb(i,t,n,r);this.Bs.push(a);var o,u=Ot(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.Ni=this.Ni.add(new ox(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return eb.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return eb.resolve(this.ki(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.Mi(n),i=r<0?0:r;return eb.resolve(this.Bs.length>i?this.Bs[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return eb.resolve(0===this.Bs.length?-1:this.xi-1)}},{key:"getAllMutationBatches",value:function(e){return eb.resolve(this.Bs.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new ox(t,0),i=new ox(t,Number.POSITIVE_INFINITY),a=[];return this.Ni.forEachInRange([r,i],(function(e){var t=n.ki(e.Ci);a.push(t)})),eb.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new im(Qv);return t.forEach((function(e){var t=new ox(e,0),i=new ox(e,Number.POSITIVE_INFINITY);n.Ni.forEachInRange([t,i],(function(e){r=r.add(e.Ci)}))})),eb.resolve(this.Oi(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;wy.isDocumentKey(i)||(i=i.child(""));var a=new ox(new wy(i),0),o=new im(Qv);return this.Ni.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Ci)),!0)}),a),eb.resolve(this.Oi(o))}},{key:"Oi",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ki(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Ov(0===this.Fi(t.batchId,"removed")),this.Bs.shift();var r=this.Ni;return eb.forEach(t.mutations,(function(i){var a=new ox(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Ni=r}))}},{key:"_n",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new ox(t,0),r=this.Ni.firstAfterOrEqual(n);return eb.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.Bs.length,eb.resolve()}},{key:"Fi",value:function(e,t){return this.Mi(e)}},{key:"Mi",value:function(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}},{key:"ki",value:function(e){var t=this.Mi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}]),e}(),sx=function(){function e(t){Rt(this,e),this.$i=t,this.docs=new tm(wy.comparator),this.size=0}return(0,Nt.Z)(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.$i(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return eb.resolve(n?n.document.mutableCopy():Wy.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Rg();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Wy.newInvalidDocument(e))})),eb.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=Rg(),i=new wy(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||em(Xy(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return eb.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Pv()}},{key:"Bi",value:function(e,t){return eb.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new cx(this)}},{key:"getSize",value:function(e){return eb.resolve(this.size)}}]),e}(),cx=function(e){Mt(n,e);var t=jt(n);function n(e){var r;return Rt(this,n),(r=t.call(this)).Kn=e,r}return(0,Nt.Z)(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Kn.addEntry(e,i)):t.Kn.removeEntry(r)})),eb.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Kn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Kn.getEntries(e,t)}}]),n}(kw),lx=function(){function e(t){Rt(this,e),this.persistence=t,this.Li=new Cg((function(e){return cm(e)}),lm),this.lastRemoteSnapshotVersion=Jv.min(),this.highestTargetId=0,this.Ui=0,this.qi=new ax,this.targetCount=0,this.Ki=ow.gn()}return(0,Nt.Z)(e,[{key:"forEachTarget",value:function(e,t){return this.Li.forEach((function(e,n){return t(n)})),eb.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return eb.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return eb.resolve(this.Ui)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Ki.next(),eb.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ui&&(this.Ui=t),eb.resolve()}},{key:"Tn",value:function(e){this.Li.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Ki=new ow(t),this.highestTargetId=t),e.sequenceNumber>this.Ui&&(this.Ui=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Tn(t),this.targetCount+=1,eb.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Tn(t),eb.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Li.delete(t.target),this.qi.vi(t.targetId),this.targetCount-=1,eb.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Li.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Li.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),eb.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return eb.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Li.get(t)||null;return eb.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.qi.bi(t,n),eb.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.qi.Vi(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),eb.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.qi.vi(t),eb.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.qi.Di(t);return eb.resolve(n)}},{key:"containsKey",value:function(e,t){return eb.resolve(this.qi.containsKey(t))}}]),e}(),fx=function(){function e(t,n){var r=this;Rt(this,e),this.Gi={},this.overlays={},this.es=new Kv(0),this.ns=!1,this.ns=!0,this.referenceDelegate=t(this),this.fs=new lx(this),this.indexManager=new Bb,this.ds=new sx((function(e){return r.referenceDelegate.Qi(e)})),this.M=new yb(n),this._s=new rx(this.M)}return(0,Nt.Z)(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.ns=!1,Promise.resolve()}},{key:"started",get:function(){return this.ns}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new ix,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Gi[e.toKey()];return n||(n=new ux(t,this.referenceDelegate),this.Gi[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.fs}},{key:"getRemoteDocumentCache",value:function(){return this.ds}},{key:"getBundleCache",value:function(){return this._s}},{key:"runTransaction",value:function(e,t,n){var r=this;Cv("MemoryPersistence","Starting transaction:",e);var i=new hx(this.es.next());return this.referenceDelegate.ji(),n(i).next((function(e){return r.referenceDelegate.Wi(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"zi",value:function(e,t){return eb.or(Object.values(this.Gi).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),hx=function(e){Mt(n,e);var t=jt(n);function n(e){var r;return Rt(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return(0,Nt.Z)(n)}(Jk),dx=function(){function e(t){Rt(this,e),this.persistence=t,this.Hi=new ax,this.Ji=null}return(0,Nt.Z)(e,[{key:"Xi",get:function(){if(this.Ji)return this.Ji;throw Pv()}},{key:"addReference",value:function(e,t,n){return this.Hi.addReference(n,t),this.Xi.delete(n.toString()),eb.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Hi.removeReference(n,t),this.Xi.add(n.toString()),eb.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Xi.add(t.toString()),eb.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Hi.vi(t.targetId).forEach((function(e){return n.Xi.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Xi.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"ji",value:function(){this.Ji=new Set}},{key:"Wi",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return eb.forEach(this.Xi,(function(r){var i=wy.fromPath(r);return t.Zi(e,i).next((function(e){e||n.removeEntry(i,Jv.min())}))})).next((function(){return t.Ji=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Zi(e,t).next((function(e){e?n.Xi.delete(t.toString()):n.Xi.add(t.toString())}))}},{key:"Qi",value:function(e){return 0}},{key:"Zi",value:function(e,t){var n=this;return eb.or([function(){return eb.resolve(n.Hi.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.zi(e,t)}])}}],[{key:"Yi",value:function(t){return new e(t)}}]),e}();function px(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function vx(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function yx(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var mx=function(){function e(t,n,r,i){Rt(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return(0,Nt.Z)(e,[{key:"er",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"tr",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Mv(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Av("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),gx=function(){function e(t,n,r){Rt(this,e),this.targetId=t,this.state=n,this.error=r}return(0,Nt.Z)(e,[{key:"er",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"tr",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Mv(i.error.code,i.error.message))),a?new e(t,i.state,r):(Av("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),kx=function(){function e(t,n){Rt(this,e),this.clientId=t,this.activeTargetIds=n}return(0,Nt.Z)(e,null,[{key:"tr",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Ug(),o=0;i&&o<r.activeTargetIds.length;++o)i=by(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Av("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),bx=function(){function e(t,n){Rt(this,e),this.clientId=t,this.onlineState=n}return(0,Nt.Z)(e,null,[{key:"tr",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Av("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),wx=function(){function e(){Rt(this,e),this.activeTargetIds=Ug()}return(0,Nt.Z)(e,[{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"sr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"er",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),xx=function(){function e(t,n,r,i,a){Rt(this,e),this.window=t,this.Yn=n,this.persistenceKey=r,this.ir=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.rr=this.ur.bind(this),this.ar=new tm(Qv),this.started=!1,this.cr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.hr=px(this.persistenceKey,this.ir),this.lr=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ar=this.ar.insert(this.ir,new wx),this.dr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this._r=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.wr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.mr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.gr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.rr)}return(0,Nt.Z)(e,[{key:"start",value:function(){var e=Ct(Et().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Fs();case 2:t=e.sent,n=Ot(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.ir){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(px(this.persistenceKey,i)))&&(o=kx.tr(i,a))&&(this.ar=this.ar.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.yr(),(u=this.storage.getItem(this.mr))&&(s=this.pr(u))&&this.Ir(s),c=Ot(this.cr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.ur(f)}catch(d){c.e(d)}finally{c.f()}this.cr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.lr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Tr(this.ar)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ar.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Er(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Er(e,t,n),this.Ar(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(yx(this.persistenceKey,e));if(n){var r=gx.tr(e,n);r&&(t=r.state)}}return this.Rr.nr(e),this.yr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Rr.sr(e),this.yr()}},{key:"isLocalQueryTarget",value:function(e){return this.Rr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(yx(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.br(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Ar(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Pr(e)}},{key:"notifyBundleLoaded",value:function(e){this.Vr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.rr),this.removeItem(this.hr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Cv("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Cv("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Cv("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"ur",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Cv("SharedClientState","EVENT",n.key,n.newValue),n.key===this.hr)return void Av("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable(Ct(Et().mark((function e(){var r,i,a,o,u,s,c;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.dr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.vr(n.key),e.abrupt("return",t.Sr(r,null));case 6:if(!(i=t.Dr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Sr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t._r.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Cr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Nr(a));case 16:e.next=41;break;case 18:if(!t.wr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.kr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Mr(o));case 23:e.next=41;break;case 25:if(n.key!==t.mr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.pr(n.newValue))){e.next=30;break}return e.abrupt("return",t.Ir(u));case 30:e.next=41;break;case 32:if(n.key!==t.lr){e.next=37;break}s=function(e){var t=Kv.A;if(null!=e)try{var n=JSON.parse(e);Ov("number"==typeof n),t=n}catch(e){Av("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==Kv.A&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.gr){e.next=41;break}return c=t.Or(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Fr(e)})));case 41:e.next=44;break;case 43:t.cr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Rr",get:function(){return this.ar.get(this.ir)}},{key:"yr",value:function(){this.setItem(this.hr,this.Rr.er())}},{key:"Er",value:function(e,t,n){var r=new mx(this.currentUser,e,t,n),i=vx(this.persistenceKey,this.currentUser,e);this.setItem(i,r.er())}},{key:"Ar",value:function(e){var t=vx(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Pr",value:function(e){var t={clientId:this.ir,onlineState:e};this.storage.setItem(this.mr,JSON.stringify(t))}},{key:"br",value:function(e,t,n){var r=yx(this.persistenceKey,e),i=new gx(e,t,n);this.setItem(r,i.er())}},{key:"Vr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.gr,t)}},{key:"vr",value:function(e){var t=this.dr.exec(e);return t?t[1]:null}},{key:"Dr",value:function(e,t){var n=this.vr(e);return kx.tr(n,t)}},{key:"Cr",value:function(e,t){var n=this._r.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return mx.tr(new Sv(i),r,t)}},{key:"kr",value:function(e,t){var n=this.wr.exec(e),r=Number(n[1]);return gx.tr(r,t)}},{key:"pr",value:function(e){return bx.tr(e)}},{key:"Or",value:function(e){return JSON.parse(e)}},{key:"Nr",value:function(){var e=Ct(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.$r(t.batchId,t.state,t.error));case 2:Cv("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Mr",value:function(e){return this.syncEngine.Br(e.targetId,e.state,e.error)}},{key:"Sr",value:function(e,t){var n=this,r=t?this.ar.insert(e,t):this.ar.remove(e),i=this.Tr(this.ar),a=this.Tr(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Lr(o,u).then((function(){n.ar=r}))}},{key:"Ir",value:function(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Tr",value:function(e){var t=Ug();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"vt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),_x=function(){function e(){Rt(this,e),this.Ur=new wx,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return(0,Nt.Z)(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Ur.nr(e),this.qr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.qr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Ur.sr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Ur.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.qr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Ur.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Ur.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Ur=new wx,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),Sx=function(){function e(){Rt(this,e)}return(0,Nt.Z)(e,[{key:"Kr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Ix=function(){function e(){var t=this;Rt(this,e),this.Gr=function(){return t.Qr()},this.jr=function(){return t.Wr()},this.zr=[],this.Hr()}return(0,Nt.Z)(e,[{key:"Kr",value:function(e){this.zr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}},{key:"Hr",value:function(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}},{key:"Qr",value:function(){Cv("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Ot(this.zr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Wr",value:function(){Cv("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Ot(this.zr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"vt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Ex={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Tx=function(){function e(t){Rt(this,e),this.Jr=t.Jr,this.Yr=t.Yr}return(0,Nt.Z)(e,[{key:"Xr",value:function(e){this.Zr=e}},{key:"eo",value:function(e){this.no=e}},{key:"onMessage",value:function(e){this.so=e}},{key:"close",value:function(){this.Yr()}},{key:"send",value:function(e){this.Jr(e)}},{key:"io",value:function(){this.Zr()}},{key:"ro",value:function(e){this.no(e)}},{key:"oo",value:function(e){this.so(e)}}]),e}(),Cx=function(e){Mt(n,e);var t=jt(n);function n(e){var r;return Rt(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return(0,Nt.Z)(n,[{key:"fo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new xv;o.listenOnce(mv.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case yv.NO_ERROR:var t=o.getResponseJson();Cv("Connection","XHR received:",JSON.stringify(t)),i(t);break;case yv.TIMEOUT:Cv("Connection",'RPC "'+e+'" timed out'),a(new Mv(Lv.DEADLINE_EXCEEDED,"Request time out"));break;case yv.HTTP_ERROR:var n=o.getStatus();if(Cv("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Lv).indexOf(t)>=0?t:Lv.UNKNOWN}(r.status);a(new Mv(u,r.message))}else a(new Mv(Lv.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Mv(Lv.UNAVAILABLE,"Connection failed."));break;default:Pv()}}finally{Cv("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"wo",value:function(e,t,n){var r=[this.uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=pv(),a=vv(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new bv({})),this.lo(o.initMessageHeaders,t,n),Yt()||en()||$t().indexOf("Electron/")>=0||tn()||$t().indexOf("MSAppHost/")>=0||Jt()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");Cv("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new Tx({Jr:function(e){l?Cv("Connection","Not sending because WebChannel is closed:",e):(c||(Cv("Connection","Opening WebChannel transport."),s.open(),c=!0),Cv("Connection","WebChannel sending:",e),s.send(e))},Yr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,wv.EventType.OPEN,(function(){l||Cv("Connection","WebChannel transport opened.")})),h(s,wv.EventType.CLOSE,(function(){l||(l=!0,Cv("Connection","WebChannel transport closed"),f.ro())})),h(s,wv.EventType.ERROR,(function(e){l||(l=!0,Rv("Connection","WebChannel transport errored:",e),f.ro(new Mv(Lv.UNAVAILABLE,"The operation could not be completed")))})),h(s,wv.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Ov(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Cv("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=wg[e];if(void 0!==t)return Tg(t)}(a),u=i.message;void 0===o&&(o=Lv.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.ro(new Mv(o,u)),s.close()}else Cv("Connection","WebChannel received:",n),f.oo(n)}})),h(a,gv.STAT_EVENT,(function(e){e.stat===kv.PROXY?Cv("Connection","Detected buffering proxy"):e.stat===kv.NOPROXY&&Cv("Connection","Detected no buffering proxy")})),setTimeout((function(){f.io()}),0),f}}]),n}(function(){function e(t){Rt(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.uo=n+"://"+t.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return(0,Nt.Z)(e,[{key:"co",value:function(e,t,n,r,i){var a=this.ho(e,t);Cv("RestConnection","Sending: ",a,n);var o={};return this.lo(o,r,i),this.fo(e,a,o,n).then((function(e){return Cv("RestConnection","Received: ",e),e}),(function(t){throw Rv("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"_o",value:function(e,t,n,r,i){return this.co(e,t,n,r,i)}},{key:"lo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Iv,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ho",value:function(e,t){var n=Ex[e];return"".concat(this.uo,"/v1/").concat(t,":").concat(n)}}]),e}());function Ax(){return"undefined"!=typeof window?window:null}function Rx(){return"undefined"!=typeof document?document:null}function Nx(e){return new $g(e,!0)}var Px=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Rt(this,e),this.Yn=t,this.timerId=n,this.mo=r,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}return(0,Nt.Z)(e,[{key:"reset",value:function(){this.Io=0}},{key:"Ao",value:function(){this.Io=this.po}},{key:"Ro",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&Cv("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Io," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.To=this.Yn.enqueueAfterDelay(this.timerId,i,(function(){return t.Eo=Date.now(),e()})),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}},{key:"Po",value:function(){null!==this.To&&(this.To.skipDelay(),this.To=null)}},{key:"cancel",value:function(){null!==this.To&&(this.To.cancel(),this.To=null)}},{key:"bo",value:function(){return(Math.random()-.5)*this.Io}}]),e}(),Ox=function(){function e(t,n,r,i,a,o,u,s){Rt(this,e),this.Yn=t,this.Vo=r,this.vo=i,this.So=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new Px(t,n)}return(0,Nt.Z)(e,[{key:"ko",value:function(){return 1===this.state||5===this.state||this.Mo()}},{key:"Mo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Oo()}},{key:"stop",value:function(){var e=Ct(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.ko(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Fo",value:function(){this.state=0,this.No.reset()}},{key:"$o",value:function(){var e=this;this.Mo()&&null===this.Co&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,(function(){return e.Bo()})))}},{key:"Lo",value:function(e){this.Uo(),this.stream.send(e)}},{key:"Bo",value:function(){var e=Ct(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Mo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Uo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"qo",value:function(){this.xo&&(this.xo.cancel(),this.xo=null)}},{key:"close",value:function(){var e=Ct(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Uo(),this.qo(),this.No.cancel(),this.Do++,4!==t?this.No.reset():n&&n.code===Lv.RESOURCE_EXHAUSTED?(Av(n.toString()),Av("Using maximum backoff delay to prevent overloading the backend."),this.No.Ao()):n&&n.code===Lv.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Ko(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.eo(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Ko",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Go(this.Do),n=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=(0,Qe.Z)(t,2),i=r[0],a=r[1];e.Do===n&&e.Qo(i,a)}),(function(n){t((function(){var t=new Mv(Lv.UNKNOWN,"Fetching auth token failed: "+n.message);return e.jo(t)}))}))}},{key:"Qo",value:function(e,t){var n=this,r=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Xr((function(){r((function(){return n.state=2,n.xo=n.Yn.enqueueAfterDelay(n.vo,1e4,(function(){return n.Mo()&&(n.state=3),Promise.resolve()})),n.listener.Xr()}))})),this.stream.eo((function(e){r((function(){return n.jo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Oo",value:function(){var e=this;this.state=5,this.No.Ro(Ct(Et().mark((function t(){return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"jo",value:function(e){return Cv("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Go",value:function(e){var t=this;return function(n){t.Yn.enqueueAndForget((function(){return t.Do===e?n():(Cv("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Dx=function(e){Mt(n,e);var t=jt(n);function n(e,r,i,a,o,u){var s;return Rt(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).M=o,s}return(0,Nt.Z)(n,[{key:"Wo",value:function(e,t){return this.So.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.No.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Pv()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.N?(Ov(void 0===t||"string"==typeof t),sy.fromBase64String(t||"")):(Ov(void 0===t||t instanceof Uint8Array),sy.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?Lv.UNKNOWN:Tg(e.code);return new Mv(t,e.message||"")}(o);n=new Bg(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=ik(e,s.document.name),l=ek(s.document.updateTime),f=new By({mapValue:{fields:s.document.fields}}),h=Wy.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new Zg(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var y=ik(e,v.document),m=v.readTime?ek(v.readTime):Jv.min(),g=Wy.newNoDocument(y,m),k=v.removedTargetIds||[];n=new Zg([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=ik(e,b.document),x=b.removedTargetIds||[];n=new Zg([],x,w,null)}else{if(!("filter"in t))return Pv();t.filter;var _=t.filter;_.targetId;var S=_.count||0,I=new Ig(S),E=_.targetId;n=new zg(E,I)}return n}(this.M,e),n=function(e){if(!("targetChange"in e))return Jv.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Jv.min():t.readTime?ek(t.readTime):Jv.min()}(e);return this.listener.zo(t,n)}},{key:"Ho",value:function(e){var t={};t.database=uk(this.M),t.addTarget=function(e,t){var n,r=t.target;return(n=fm(r)?{documents:pk(e,r)}:{query:vk(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Xg(e,t.resumeToken):t.snapshotVersion.compareTo(Jv.min())>0&&(n.readTime=Yg(e,t.snapshotVersion.toTimestamp())),n}(this.M,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Pv()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.M,e);n&&(t.labels=n),this.Lo(t)}},{key:"Jo",value:function(e){var t={};t.database=uk(this.M),t.removeTarget=e,this.Lo(t)}}]),n}(Ox),Lx=function(e){Mt(n,e);var t=jt(n);function n(e,r,i,a,o,u){var s;return Rt(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).M=o,s.Yo=!1,s}return(0,Nt.Z)(n,[{key:"Xo",get:function(){return this.Yo}},{key:"start",value:function(){this.Yo=!1,this.lastStreamToken=void 0,Gr(Ft(n.prototype),"start",this).call(this)}},{key:"Ko",value:function(){this.Yo&&this.Zo([])}},{key:"Wo",value:function(e,t){return this.So.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(Ov(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();var t=function(e,t){return e&&e.length>0?(Ov(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?ek(e.updateTime):ek(t);return n.isEqual(Jv.min())&&(n=ek(t)),new ug(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=ek(e.commitTime);return this.listener.tu(n,t)}return Ov(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}},{key:"nu",value:function(){var e={};e.database=uk(this.M),this.Lo(e)}},{key:"Zo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return hk(t.M,e)}))};this.Lo(n)}}]),n}(Ox),Mx=function(e){Mt(n,e);var t=jt(n);function n(e,r,i,a){var o;return Rt(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.So=i,o.M=a,o.su=!1,o}return(0,Nt.Z)(n,[{key:"iu",value:function(){if(this.su)throw new Mv(Lv.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"co",value:function(e,t,n){var r=this;return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=(0,Qe.Z)(i,2),o=a[0],u=a[1];return r.So.co(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Lv.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Mv(Lv.UNKNOWN,e.toString())}))}},{key:"_o",value:function(e,t,n){var r=this;return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=(0,Qe.Z)(i,2),o=a[0],u=a[1];return r.So._o(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Lv.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Mv(Lv.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.su=!0}}]),n}(function(){return(0,Nt.Z)((function e(){Rt(this,e)}))}()),Fx=function(){function e(t,n){Rt(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}return(0,Nt.Z)(e,[{key:"au",value:function(){var e=this;0===this.ru&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ou=null,e.hu("Backend didn't respond within 10 seconds."),e.cu("Offline"),Promise.resolve()})))}},{key:"lu",value:function(e){"Online"===this.state?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.cu("Offline")))}},{key:"set",value:function(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.cu(e)}},{key:"cu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"hu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.uu?(Av(t),this.uu=!1):Cv("OnlineStateTracker",t)}},{key:"fu",value:function(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}]),e}(),Ux=(0,Nt.Z)((function e(t,n,r,i,a){var o=this;Rt(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=a,this.gu.Kr((function(e){r.enqueueAndForget(Ct(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Qx(o),!e.t0){e.next=5;break}return Cv("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Ct(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Dv(t)).wu.add(4),e.next=4,Zx(n);case 4:return n.yu.set("Unknown"),n.wu.delete(4),e.next=8,Vx(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.yu=new Fx(r,i)}));function Vx(e){return jx.apply(this,arguments)}function jx(){return jx=Ct(Et().mark((function e(t){var n,r,i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Qx(t)){e.next=18;break}n=Ot(t.mu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),jx.apply(this,arguments)}function Zx(e){return zx.apply(this,arguments)}function zx(){return zx=Ct(Et().mark((function e(t){var n,r,i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Ot(t.mu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),zx.apply(this,arguments)}function Bx(e,t){var n=Dv(e);n._u.has(t.targetId)||(n._u.set(t.targetId,t),Hx(n)?Gx(n):S_(n).Mo()&&Wx(n,t))}function qx(e,t){var n=Dv(e),r=S_(n);n._u.delete(t),r.Mo()&&Kx(n,t),0===n._u.size&&(r.Mo()?r.$o():Qx(n)&&n.yu.set("Unknown"))}function Wx(e,t){e.pu.Z(t.targetId),S_(e).Ho(t)}function Kx(e,t){e.pu.Z(t),S_(e).Jo(t)}function Gx(e){e.pu=new Wg({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e._u.get(t)||null}}),S_(e).start(),e.yu.au()}function Hx(e){return Qx(e)&&!S_(e).ko()&&e._u.size>0}function Qx(e){return 0===Dv(e).wu.size}function $x(e){e.pu=void 0}function Yx(e){return Xx.apply(this,arguments)}function Xx(){return Xx=Ct(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t._u.forEach((function(e,n){Wx(t,e)}));case 1:case"end":return e.stop()}}),e)}))),Xx.apply(this,arguments)}function Jx(e,t){return e_.apply(this,arguments)}function e_(){return e_=Ct(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:$x(t),Hx(t)?(t.yu.lu(n),Gx(t)):t.yu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),e_.apply(this,arguments)}function t_(e,t,n){return n_.apply(this,arguments)}function n_(){return n_=Ct(Et().mark((function e(t,n,r){var i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.yu.set("Online"),!(n instanceof Bg&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Ct(Et().mark((function e(t,n){var r,i,a,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Ot(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t._u.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t._u.delete(o),t.pu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Cv("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,r_(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Zg?t.pu.ut(n):n instanceof zg?t.pu._t(n):t.pu.ht(n),r.isEqual(Jv.min())){e.next=29;break}return e.prev=14,e.next=17,zw(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.pu.yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e._u.get(r);i&&e._u.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e._u.get(t);if(n){e._u.set(t,n.withResumeToken(sy.EMPTY_BYTE_STRING,n.snapshotVersion)),Kx(e,t);var r=new vb(n.target,t,1,n.sequenceNumber);Wx(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Cv("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,r_(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),n_.apply(this,arguments)}function r_(e,t,n){return i_.apply(this,arguments)}function i_(){return i_=Ct(Et().mark((function e(t,n,r){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ab(n)){e.next=2;break}throw n;case 2:return t.wu.add(1),e.next=5,Zx(t);case 5:t.yu.set("Offline"),r||(r=function(){return zw(t.localStore)}),t.asyncQueue.enqueueRetryable(Ct(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Cv("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.wu.delete(1),e.next=6,Vx(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),i_.apply(this,arguments)}function a_(e,t){return t().catch((function(n){return r_(e,n,t)}))}function o_(e){return u_.apply(this,arguments)}function u_(){return u_=Ct(Et().mark((function e(t){var n,r,i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Dv(t),r=I_(n),i=n.du.length>0?n.du[n.du.length-1].batchId:-1;case 2:if(!s_(n)){e.next=19;break}return e.prev=3,e.next=6,Ww(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.du.length&&r.$o(),e.abrupt("break",19);case 10:i=a.batchId,c_(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,r_(n,e.t0);case 17:e.next=2;break;case 19:l_(n)&&f_(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),u_.apply(this,arguments)}function s_(e){return Qx(e)&&e.du.length<10}function c_(e,t){e.du.push(t);var n=I_(e);n.Mo()&&n.Xo&&n.Zo(t.mutations)}function l_(e){return Qx(e)&&!I_(e).ko()&&e.du.length>0}function f_(e){I_(e).start()}function h_(e){return d_.apply(this,arguments)}function d_(){return d_=Ct(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:I_(t).nu();case 1:case"end":return e.stop()}}),e)}))),d_.apply(this,arguments)}function p_(e){return v_.apply(this,arguments)}function v_(){return v_=Ct(Et().mark((function e(t){var n,r,i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=I_(t),r=Ot(t.du);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Zo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),v_.apply(this,arguments)}function y_(e,t,n){return m_.apply(this,arguments)}function m_(){return m_=Ct(Et().mark((function e(t,n,r){var i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.du.shift(),a=db.from(i,n,r),e.next=3,a_(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,o_(t);case 5:case"end":return e.stop()}}),e)}))),m_.apply(this,arguments)}function g_(e,t){return k_.apply(this,arguments)}function k_(){return k_=Ct(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&I_(t).Xo,!e.t0){e.next=4;break}return e.next=4,function(){var e=Ct(Et().mark((function e(t,n){var r,i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Eg(i=n.code)||i===Lv.ABORTED){e.next=7;break}return r=t.du.shift(),I_(t).Fo(),e.next=5,a_(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,o_(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:l_(t)&&f_(t);case 5:case"end":return e.stop()}}),e)}))),k_.apply(this,arguments)}function b_(e,t){return w_.apply(this,arguments)}function w_(){return w_=Ct(Et().mark((function e(t,n){var r,i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Dv(t)).asyncQueue.verifyOperationInProgress(),Cv("RemoteStore","RemoteStore received new credentials"),i=Qx(r),r.wu.add(3),e.next=6,Zx(r);case 6:return i&&r.yu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.wu.delete(3),e.next=12,Vx(r);case 12:case"end":return e.stop()}}),e)}))),w_.apply(this,arguments)}function x_(e,t){return __.apply(this,arguments)}function __(){return __=Ct(Et().mark((function e(t,n){var r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Dv(t),!n){e.next=7;break}return r.wu.delete(2),e.next=5,Vx(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.wu.add(2),e.next=12,Zx(r);case 12:r.yu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),__.apply(this,arguments)}function S_(e){return e.Iu||(e.Iu=function(e,t,n){var r=Dv(e);return r.iu(),new Dx(t,r.So,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Xr:Yx.bind(null,e),eo:Jx.bind(null,e),zo:t_.bind(null,e)}),e.mu.push(function(){var t=Ct(Et().mark((function t(n){return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Iu.Fo(),Hx(e)?Gx(e):e.yu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Iu.stop();case 6:$x(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Iu}function I_(e){return e.Tu||(e.Tu=function(e,t,n){var r=Dv(e);return r.iu(),new Lx(t,r.So,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Xr:h_.bind(null,e),eo:g_.bind(null,e),eu:p_.bind(null,e),tu:y_.bind(null,e)}),e.mu.push(function(){var t=Ct(Et().mark((function t(n){return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Tu.Fo(),t.next=4,o_(e);case 4:t.next=9;break;case 6:return t.next=8,e.Tu.stop();case 8:e.du.length>0&&(Cv("RemoteStore","Stopping write stream with ".concat(e.du.length," pending writes")),e.du=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Tu}var E_=function(){function e(t,n,r,i,a){Rt(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Fv,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return(0,Nt.Z)(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Mv(Lv.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function T_(e,t){if(Av("AsyncQueue","".concat(t,": ").concat(e)),ab(e))return new Mv(Lv.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var C_=function(){function e(t){Rt(this,e),this.comparator=t?function(e,n){return t(e,n)||wy.comparator(e.key,n.key)}:function(e,t){return wy.comparator(e.key,t.key)},this.keyedMap=Pg(),this.sortedSet=new tm(this.comparator)}return(0,Nt.Z)(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),A_=function(){function e(){Rt(this,e),this.Eu=new tm(wy.comparator)}return(0,Nt.Z)(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Eu.get(t);n?0!==e.type&&3===n.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==n.type?this.Eu=this.Eu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Eu=this.Eu.remove(t):1===e.type&&2===n.type?this.Eu=this.Eu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):Pv():this.Eu=this.Eu.insert(t,e)}},{key:"Au",value:function(){var e=[];return this.Eu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),R_=function(){function e(t,n,r,i,a,o,u,s){Rt(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return(0,Nt.Z)(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Um(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,C_.emptySet(n),a,r,i,!0,!1)}}]),e}(),N_=(0,Nt.Z)((function e(){Rt(this,e),this.Ru=void 0,this.listeners=[]})),P_=(0,Nt.Z)((function e(){Rt(this,e),this.queries=new Cg((function(e){return Vm(e)}),Um),this.onlineState="Unknown",this.bu=new Set}));function O_(e,t){return D_.apply(this,arguments)}function D_(){return D_=Ct(Et().mark((function e(t,n){var r,i,a,o,u;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Dv(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new N_),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Ru=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=T_(e.t0,"Initialization of query '".concat(jm(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Pu(r.onlineState),o.Ru&&n.Vu(o.Ru)&&V_(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),D_.apply(this,arguments)}function L_(e,t){return M_.apply(this,arguments)}function M_(){return M_=Ct(Et().mark((function e(t,n){var r,i,a,o,u;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Dv(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),M_.apply(this,arguments)}function F_(e,t){var n,r=Dv(e),i=!1,a=Ot(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=Ot(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Vu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Ru=o}}}catch(f){a.e(f)}finally{a.f()}i&&V_(r)}function U_(e,t,n){var r=Dv(e),i=r.queries.get(t);if(i){var a,o=Ot(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function V_(e){e.bu.forEach((function(e){e.next()}))}var j_=function(){function e(t,n,r){Rt(this,e),this.query=t,this.vu=n,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=r||{}}return(0,Nt.Z)(e,[{key:"Vu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Ot(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new R_(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.Su?this.Cu(e)&&(this.vu.next(e),a=!0):this.xu(e,this.onlineState)&&(this.Nu(e),a=!0),this.Du=e,a}},{key:"onError",value:function(e){this.vu.error(e)}},{key:"Pu",value:function(e){this.onlineState=e;var t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}},{key:"xu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.ku||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"Cu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Nu",value:function(e){e=R_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.vu.next(e)}}]),e}(),Z_=function(){function e(t,n){Rt(this,e),this.payload=t,this.byteLength=n}return(0,Nt.Z)(e,[{key:"Mu",value:function(){return"metadata"in this.payload}}]),e}(),z_=function(){function e(t){Rt(this,e),this.M=t}return(0,Nt.Z)(e,[{key:"wi",value:function(e){return ik(this.M,e)}},{key:"mi",value:function(e){return e.metadata.exists?lk(this.M,e.document,!1):Wy.newNoDocument(this.wi(e.metadata.name),this.gi(e.metadata.readTime))}},{key:"gi",value:function(e){return ek(e)}}]),e}(),B_=function(){function e(t,n,r){Rt(this,e),this.Ou=t,this.localStore=n,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=q_(t)}return(0,Nt.Z)(e,[{key:"Fu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=iy.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"$u",value:function(e){var t,n=new Map,r=new z_(this.M),i=Ot(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.wi(a.metadata.name),s=Ot(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||Mg()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Ct(Et().mark((function e(){var t,n,r,i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jw(this.localStore,new z_(this.M),this.documents,this.Ou.id);case 2:t=e.sent,n=this.$u(this.documents),r=Ot(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,tx(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Bu:this.collectionGroups,Lu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function q_(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var W_=(0,Nt.Z)((function e(t){Rt(this,e),this.key=t})),K_=(0,Nt.Z)((function e(t){Rt(this,e),this.key=t})),G_=function(){function e(t,n){Rt(this,e),this.query=t,this.Uu=n,this.qu=null,this.current=!1,this.Ku=Mg(),this.mutatedKeys=Mg(),this.Gu=Bm(t),this.Qu=new C_(this.Gu)}return(0,Nt.Z)(e,[{key:"ju",get:function(){return this.Uu}},{key:"Wu",value:function(e,t){var n=this,r=t?t.zu:new A_,i=t?t.Qu:this.Qu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Zm(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Hu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Gu(f,s)>0||c&&n.Gu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Qu:o,zu:r,ii:u,mutatedKeys:a}}},{key:"Hu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;var a=e.zu.Au();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pv()}};return n(e)-n(t)}(e.type,t.type)||r.Gu(e.doc,t.doc)})),this.Ju(n);var o=t?this.Yu():[],u=0===this.Ku.size&&this.current?1:0,s=u!==this.qu;return this.qu=u,0!==a.length||s?{snapshot:new R_(this.query,e.Qu,i,a,e.mutatedKeys,0===u,s,!1),Xu:o}:{Xu:o}}},{key:"Pu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new A_,mutatedKeys:this.mutatedKeys,ii:!1},!1)):{Xu:[]}}},{key:"Zu",value:function(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}},{key:"Ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Uu=t.Uu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Uu=t.Uu.delete(e)})),this.current=e.current)}},{key:"Yu",value:function(){var e=this;if(!this.current)return[];var t=this.Ku;this.Ku=Mg(),this.Qu.forEach((function(t){e.Zu(t.key)&&(e.Ku=e.Ku.add(t.key))}));var n=[];return t.forEach((function(t){e.Ku.has(t)||n.push(new K_(t))})),this.Ku.forEach((function(e){t.has(e)||n.push(new W_(e))})),n}},{key:"ta",value:function(e){this.Uu=e._i,this.Ku=Mg();var t=this.Wu(e.documents);return this.applyChanges(t,!0)}},{key:"ea",value:function(){return R_.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}]),e}(),H_=(0,Nt.Z)((function e(t,n,r){Rt(this,e),this.query=t,this.targetId=n,this.view=r})),Q_=(0,Nt.Z)((function e(t){Rt(this,e),this.key=t,this.na=!1})),$_=function(){function e(t,n,r,i,a,o){Rt(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.sa={},this.ia=new Cg((function(e){return Vm(e)}),Um),this.ra=new Map,this.oa=new Set,this.ua=new tm(wy.comparator),this.aa=new Map,this.ca=new ax,this.ha={},this.la=new Map,this.fa=ow.yn(),this.onlineState="Unknown",this.da=void 0}return(0,Nt.Z)(e,[{key:"isPrimaryClient",get:function(){return!0===this.da}}]),e}();function Y_(e,t){return X_.apply(this,arguments)}function X_(){return X_=Ct(Et().mark((function e(t,n){var r,i,a,o,u,s;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=qS(t),!(o=r.ia.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.ea(),e.next=15;break;case 6:return e.next=8,Kw(r.localStore,Mm(n));case 8:return u=e.sent,r.isPrimaryClient&&Bx(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,J_(r,n,i,"current"===s);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),X_.apply(this,arguments)}function J_(e,t,n,r){return eS.apply(this,arguments)}function eS(){return eS=Ct(Et().mark((function e(t,n,r,i){var a,o,u,s,c,l;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._a=function(e,n,r){return function(){var e=Ct(Et().mark((function e(t,n,r,i){var a,o,u;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Wu(r),e.t0=a.ii,!e.t0){e.next=6;break}return e.next=5,Qw(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Wu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(bS(t,n.targetId,u.Xu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,Qw(t.localStore,n,!0);case 3:return a=e.sent,o=new G_(n,a._i),u=o.Wu(a.documents),s=jg.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),bS(t,r,c.Xu),l=new H_(n,r,o),e.abrupt("return",(t.ia.set(n,l),t.ra.has(r)?t.ra.get(r).push(n):t.ra.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),eS.apply(this,arguments)}function tS(e,t){return nS.apply(this,arguments)}function nS(){return nS=Ct(Et().mark((function e(t,n){var r,i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Dv(t),i=r.ia.get(n),!((a=r.ra.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ra.set(i.targetId,a.filter((function(e){return!Um(e,n)}))),void r.ia.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Gw(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),qx(r.remoteStore,i.targetId),gS(r,i.targetId)})).catch(fw);case 9:e.next=14;break;case 11:return gS(r,i.targetId),e.next=14,Gw(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),nS.apply(this,arguments)}function rS(e,t,n){return iS.apply(this,arguments)}function iS(){return iS=Ct(Et().mark((function e(t,n,r){var i,a,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=WS(t),e.prev=1,e.next=4,function(e,t){var n,r=Dv(e),i=Xv.now(),a=t.reduce((function(e,t){return e.add(t.key)}),Mg());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.fi.Ks(e,a).next((function(a){n=a;var o,u=[],s=Ot(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=dg(c,n.get(c.key));null!=l&&u.push(new mg(c.key,l,qy(l.value.mapValue),sg.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return r.Bs.addMutationBatch(e,i,u,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.ha[e.currentUser.toKey()];r||(r=new tm(Qv)),r=r.insert(t,n),e.ha[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,_S(i,a.changes);case 9:return e.next=11,o_(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=T_(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),iS.apply(this,arguments)}function aS(e,t){return oS.apply(this,arguments)}function oS(){return oS=Ct(Et().mark((function e(t,n){var r,i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Dv(t),e.prev=1,e.next=4,Bw(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.aa.get(t);n&&(Ov(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.na=!0:e.modifiedDocuments.size>0?Ov(n.na):e.removedDocuments.size>0&&(Ov(n.na),n.na=!1))})),e.next=8,_S(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,fw(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),oS.apply(this,arguments)}function uS(e,t,n){var r=Dv(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ia.forEach((function(e,n){var r=n.view.Pu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Dv(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=Ot(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Pu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&V_(n)}(r.eventManager,t),i.length&&r.sa.zo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function sS(e,t,n){return cS.apply(this,arguments)}function cS(){return cS=Ct(Et().mark((function e(t,n,r){var i,a,o,u,s,c;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Dv(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.aa.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new tm(wy.comparator)).insert(o,Wy.newNoDocument(o,Jv.min())),s=Mg().add(o),c=new Vg(Jv.min(),new Map,new im(Qv),u,s),e.next=9,aS(i,c);case 9:i.ua=i.ua.remove(o),i.aa.delete(n),xS(i),e.next=16;break;case 14:return e.next=16,Gw(i.localStore,n,!1).then((function(){return gS(i,n,r)})).catch(fw);case 16:case"end":return e.stop()}}),e)}))),cS.apply(this,arguments)}function lS(e,t){return fS.apply(this,arguments)}function fS(){return fS=Ct(Et().mark((function e(t,n){var r,i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Dv(t),i=n.batch.batchId,e.prev=1,e.next=4,Zw(r.localStore,n);case 4:return a=e.sent,mS(r,i,null),yS(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,_S(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,fw(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),fS.apply(this,arguments)}function hS(e,t,n){return dS.apply(this,arguments)}function dS(){return dS=Ct(Et().mark((function e(t,n,r){var i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Dv(t),e.prev=1,e.next=4,function(e,t){var n=Dv(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.Bs.lookupMutationBatch(e,t).next((function(t){return Ov(null!==t),r=t.keys(),n.Bs.removeMutationBatch(e,t)})).next((function(){return n.Bs.performConsistencyCheck(e)})).next((function(){return n.fi.Ks(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,mS(i,n,r),yS(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,_S(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,fw(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),dS.apply(this,arguments)}function pS(e,t){return vS.apply(this,arguments)}function vS(){return vS=Ct(Et().mark((function e(t,n){var r,i,a,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Qx((r=Dv(t)).remoteStore)||Cv("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Dv(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.Bs.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.la.get(i)||[]).push(n),r.la.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=T_(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),vS.apply(this,arguments)}function yS(e,t){(e.la.get(t)||[]).forEach((function(e){e.resolve()})),e.la.delete(t)}function mS(e,t,n){var r=Dv(e),i=r.ha[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.ha[r.currentUser.toKey()]=i}}function gS(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Ot(e.ra.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ia.delete(a),n&&e.sa.wa(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ra.delete(t),e.isPrimaryClient&&e.ca.vi(t).forEach((function(t){e.ca.containsKey(t)||kS(e,t)}))}function kS(e,t){e.oa.delete(t.path.canonicalString());var n=e.ua.get(t);null!==n&&(qx(e.remoteStore,n),e.ua=e.ua.remove(t),e.aa.delete(n),xS(e))}function bS(e,t,n){var r,i=Ot(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof W_?(e.ca.addReference(a.key,t),wS(e,a)):a instanceof K_?(Cv("SyncEngine","Document no longer in limbo: "+a.key),e.ca.removeReference(a.key,t),e.ca.containsKey(a.key)||kS(e,a.key)):Pv()}}catch(o){i.e(o)}finally{i.f()}}function wS(e,t){var n=t.key,r=n.path.canonicalString();e.ua.get(n)||e.oa.has(r)||(Cv("SyncEngine","New document in limbo: "+n),e.oa.add(r),xS(e))}function xS(e){for(;e.oa.size>0&&e.ua.size<e.maxConcurrentLimboResolutions;){var t=e.oa.values().next().value;e.oa.delete(t);var n=new wy(iy.fromString(t)),r=e.fa.next();e.aa.set(r,new Q_(n)),e.ua=e.ua.insert(n,r),Bx(e.remoteStore,new vb(Mm(Nm(n.path)),r,2,Kv.A))}}function _S(e,t,n){return SS.apply(this,arguments)}function SS(){return SS=Ct(Et().mark((function e(t,n,r){var i,a,o,u;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Dv(t),a=[],o=[],u=[],e.t0=i.ia.isEmpty(),e.t0){e.next=9;break}return i.ia.forEach((function(e,t){u.push(i._a(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=Lw.Ys(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.sa.zo(a),e.next=9,function(){var e=Ct(Et().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Dv(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return eb.forEach(n,(function(t){return eb.forEach(t.Hs,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return eb.forEach(t.Js,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),ab(e.t0)){e.next=10;break}throw e.t0;case 10:Cv("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Ot(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.ui.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.ui=r.ui.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),SS.apply(this,arguments)}function IS(e,t){return ES.apply(this,arguments)}function ES(){return ES=Ct(Et().mark((function e(t,n){var r,i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Dv(t)).currentUser.isEqual(n)){e.next=11;break}return Cv("SyncEngine","User change. New user:",n.toKey()),e.next=5,Vw(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.la.forEach((function(e){e.forEach((function(e){e.reject(new Mv(Lv.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.la.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,_S(r,i.di);case 11:case"end":return e.stop()}}),e)}))),ES.apply(this,arguments)}function TS(e,t){var n=Dv(e),r=n.aa.get(t);if(r&&r.na)return Mg().add(r.key);var i=Mg(),a=n.ra.get(t);if(!a)return i;var o,u=Ot(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.ia.get(s);i=i.unionWith(c.view.ju)}}catch(l){u.e(l)}finally{u.f()}return i}function CS(e,t){return AS.apply(this,arguments)}function AS(){return AS=Ct(Et().mark((function e(t,n){var r,i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Dv(t),e.next=3,Qw(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.ta(i),e.abrupt("return",(r.isPrimaryClient&&bS(r,n.targetId,a.Xu),a));case 6:case"end":return e.stop()}}),e)}))),AS.apply(this,arguments)}function RS(e,t){return NS.apply(this,arguments)}function NS(){return NS=Ct(Et().mark((function e(t,n){var r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Dv(t),e.abrupt("return",Yw(r.localStore,n).then((function(e){return _S(r,e)})));case 2:case"end":return e.stop()}}),e)}))),NS.apply(this,arguments)}function PS(e,t,n,r){return OS.apply(this,arguments)}function OS(){return OS=Ct(Et().mark((function e(t,n,r,i){var a,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Dv(t),e.next=3,function(e,t){var n=Dv(e),r=Dv(n.Bs);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.fn(e,t).next((function(t){return t?n.fi.Ks(e,t):eb.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,o_(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(mS(a,n,i||null),yS(a,n),function(e,t){Dv(Dv(e).Bs)._n(t)}(a.localStore,n)):Pv();case 11:return e.next=13,_S(a,o);case 13:e.next=16;break;case 15:Cv("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),OS.apply(this,arguments)}function DS(e,t){return LS.apply(this,arguments)}function LS(){return LS=Ct(Et().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(qS(r=Dv(t)),WS(r),!0!==n||!0===r.da){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,MS(r,i.toArray());case 5:return a=e.sent,r.da=!0,e.next=9,x_(r.remoteStore,!0);case 9:o=Ot(a);try{for(o.s();!(u=o.n()).done;)s=u.value,Bx(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.da){e.next=25;break}return c=[],l=Promise.resolve(),r.ra.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return gS(r,t),Gw(r.localStore,t,!0)})),qx(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,MS(r,c);case 21:return function(e){var t=Dv(e);t.aa.forEach((function(e,n){qx(t.remoteStore,n)})),t.ca.Si(),t.aa=new Map,t.ua=new tm(wy.comparator)}(r),r.da=!1,e.next=25,x_(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),LS.apply(this,arguments)}function MS(e,t,n){return FS.apply(this,arguments)}function FS(){return FS=Ct(Et().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,y,m;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Dv(t),a=[],o=[],u=Ot(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.ra.get(c))||0===f.length){e.next=34;break}return e.next=11,Kw(i.localStore,Mm(f[0]));case 11:l=e.sent,h=Ot(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.ia.get(p),e.next=20,CS(i,v);case 20:(y=e.sent).snapshot&&o.push(y.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,$w(i.localStore,c);case 36:return m=e.sent,e.next=39,Kw(i.localStore,m);case 39:return l=e.sent,e.next=42,J_(i,US(m),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.sa.zo(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),FS.apply(this,arguments)}function US(e){return Rm(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function VS(e){var t=Dv(e);return Dv(Dv(t.localStore).persistence).Fs()}function jS(e,t,n,r){return ZS.apply(this,arguments)}function ZS(){return ZS=Ct(Et().mark((function e(t,n,r,i){var a,o,u,s;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Dv(t)).da){e.next=3;break}return e.abrupt("return",void Cv("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.ra.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,Yw(a.localStore,zm(o[0]));case 10:return u=e.sent,s=Vg.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=14,_S(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,Gw(a.localStore,n,!0);case 17:return gS(a,n,i),e.abrupt("break",20);case 19:Pv();case 20:case"end":return e.stop()}}),e)}))),ZS.apply(this,arguments)}function zS(e,t,n){return BS.apply(this,arguments)}function BS(){return BS=Ct(Et().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=qS(t)).da){e.next=45;break}a=Ot(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.ra.has(u)){e.next=10;break}return Cv("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,$w(i.localStore,u);case 12:return s=e.sent,e.next=15,Kw(i.localStore,s);case 15:return c=e.sent,e.next=18,J_(i,US(s),c.targetId,!1);case 18:Bx(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=Ot(r),e.prev=30,h=Et().mark((function e(){var t;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.ra.has(t),!e.t0){e.next=5;break}return e.next=5,Gw(i.localStore,t,!1).then((function(){qx(i.remoteStore,t),gS(i,t)})).catch(fw);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),BS.apply(this,arguments)}function qS(e){var t=Dv(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=aS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=TS.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=sS.bind(null,t),t.sa.zo=F_.bind(null,t.eventManager),t.sa.wa=U_.bind(null,t.eventManager),t}function WS(e){var t=Dv(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=lS.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=hS.bind(null,t),t}function KS(e,t,n){var r=Dv(e);(function(){var e=Ct(Et().mark((function e(t,n,r){var i,a,o,u,s;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Dv(e),r=ek(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n._s.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(q_(i)),a=new B_(i,t.localStore,n.M),e.next=15,n.ma();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Fu(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.ma();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,_S(t,s.Lu,void 0);case 31:return e.next=33,function(e,t){var n=Dv(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n._s.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Bu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(Rv("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var GS=function(){function e(){Rt(this,e),this.synchronizeTabs=!1}return(0,Nt.Z)(e,[{key:"initialize",value:function(){var e=Ct(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.M=Nx(t.databaseInfo.databaseId),this.sharedClientState=this.ga(t),this.persistence=this.ya(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.pa(t),this.localStore=this.Ia(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"pa",value:function(e){return null}},{key:"Ia",value:function(e){return Uw(this.persistence,new Mw,e.initialUser,this.M)}},{key:"ya",value:function(e){return new fx(dx.Yi,this.M)}},{key:"ga",value:function(e){return new _x}},{key:"terminate",value:function(){var e=Ct(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),HS=function(e){Mt(n,e);var t=jt(n);function n(e,r,i){var a;return Rt(this,n),(a=t.call(this)).Ta=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return(0,Nt.Z)(n,[{key:"initialize",value:function(){var e=Ct(Et().mark((function e(t){var r=this;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gr(Ft(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Ta.initialize(this,t);case 4:return e.next=6,WS(this.Ta.syncEngine);case 6:return e.next=8,o_(this.Ta.remoteStore);case 8:return e.next=10,this.persistence.Ts((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ia",value:function(e){return Uw(this.persistence,new Mw,e.initialUser,this.M)}},{key:"pa",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new vw(t,e.asyncQueue)}},{key:"ya",value:function(e){var t=Ow(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Xb.withCacheSize(this.cacheSizeBytes):Xb.DEFAULT;return new Rw(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Ax(),Rx(),this.M,this.sharedClientState,!!this.forceOwnership)}},{key:"ga",value:function(e){return new _x}}]),n}(GS),QS=function(e){Mt(n,e);var t=jt(n);function n(e,r){var i;return Rt(this,n),(i=t.call(this,e,r,!1)).Ta=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return(0,Nt.Z)(n,[{key:"initialize",value:function(){var e=Ct(Et().mark((function e(t){var r,i=this;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gr(Ft(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Ta.syncEngine,e.t0=this.sharedClientState instanceof xx,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={$r:PS.bind(null,r),Br:jS.bind(null,r),Lr:zS.bind(null,r),Fs:VS.bind(null,r),Fr:RS.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.Ts(function(){var e=Ct(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,DS(i.Ta.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"ga",value:function(e){var t=Ax();if(!xx.vt(t))throw new Mv(Lv.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Ow(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new xx(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(HS),$S=function(){function e(){Rt(this,e)}return(0,Nt.Z)(e,[{key:"initialize",value:function(){var e=Ct(Et().mark((function e(t,n){var r=this;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return uS(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=IS.bind(null,this.syncEngine),e.next=12,x_(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new P_}},{key:"createDatastore",value:function(e){var t,n=Nx(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Cx(t));return function(e,t,n,r){return new Mx(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return uS(o.syncEngine,e,0)},a=Ix.vt()?new Ix:new Sx,new Ux(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new $_(e,t,n,r,i,a);return o&&(u.da=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Ct(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Dv(t),Cv("RemoteStore","RemoteStore shutting down."),n.wu.add(5),e.next=5,Zx(n);case 5:n.gu.shutdown(),n.yu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function YS(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Ct(Et().mark((function r(){var i;return Et().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Ct(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var XS=function(){function e(t){Rt(this,e),this.observer=t,this.muted=!1}return(0,Nt.Z)(e,[{key:"next",value:function(e){this.observer.next&&this.Ea(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"Aa",value:function(){this.muted=!0}},{key:"Ea",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),JS=function(){function e(t,n){var r=this;Rt(this,e),this.Ra=t,this.M=n,this.metadata=new Fv,this.buffer=new Uint8Array,this.ba=new TextDecoder("utf-8"),this.Pa().then((function(e){e&&e.Mu()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return(0,Nt.Z)(e,[{key:"close",value:function(){return this.Ra.cancel()}},{key:"getMetadata",value:function(){var e=Ct(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ma",value:function(){var e=Ct(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Pa());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Pa",value:function(){var e=Ct(Et().mark((function e(){var t,n,r,i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Va();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.ba.decode(t),r=Number(n),isNaN(r)&&this.va("length string (".concat(n,") is not valid number")),e.next=9,this.Sa(r);case 9:return i=e.sent,e.abrupt("return",new Z_(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Da",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Va",value:function(){var e=Ct(Et().mark((function e(){var t,n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Da()<0)){e.next=7;break}return e.next=3,this.Ca();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Da())<0&&this.va("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Sa",value:function(){var e=Ct(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Ca();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.va("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.ba.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"va",value:function(e){throw this.Ra.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Ca",value:function(){var e=Ct(Et().mark((function e(){var t,n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ra.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),eI=function(){function e(t){Rt(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return(0,Nt.Z)(e,[{key:"lookup",value:function(){var e=Ct(Et().mark((function e(t){var n,r=this;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Mv(Lv.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Ct(Et().mark((function e(t,n){var r,i,a,o,u,s;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Dv(t),i=uk(r.M)+"/documents",a={documents:n.map((function(e){return rk(r.M,e)}))},e.next=5,r._o("BatchGetDocuments",i,a);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=fk(r.M,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());Ov(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new _g(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Ct(Et().mark((function e(){var t,n=this;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=wy.fromPath(t);n.mutations.push(new Sg(r,n.precondition(r)))})),e.next=7,function(){var e=Ct(Et().mark((function e(t,n){var r,i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Dv(t),i=uk(r.M)+"/documents",a={writes:n.map((function(e){return hk(r.M,e)}))},e.next=3,r.co("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Pv();t=Jv.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Mv(Lv.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?sg.updateTime(t):sg.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Jv.min()))throw new Mv(Lv.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return sg.updateTime(t)}return sg.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),tI=function(){function e(t,n,r,i,a){Rt(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.xa=r.maxAttempts,this.No=new Px(this.asyncQueue,"transaction_retry")}return(0,Nt.Z)(e,[{key:"run",value:function(){this.xa-=1,this.Na()}},{key:"Na",value:function(){var e=this;this.No.Ro(Ct(Et().mark((function t(){var n,r;return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new eI(e.datastore),(r=e.ka(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Ma(t)}))}))})).catch((function(t){e.Ma(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"ka",value:function(e){try{var t=this.updateFunction(e);return!gy(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Ma",value:function(e){var t=this;this.xa>0&&this.Oa(e)?(this.xa-=1,this.asyncQueue.enqueueAndForget((function(){return t.Na(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Oa",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Eg(t)}return!1}}]),e}(),nI=function(){function e(t,n,r,i){var a=this;Rt(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Sv.UNAUTHENTICATED,this.clientId=Hv.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Ct(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Cv("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Cv("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return(0,Nt.Z)(e,[{key:"getConfiguration",value:function(){var e=Ct(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Mv(Lv.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Fv;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Ct(Et().mark((function n(){var r;return Et().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=T_(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function rI(e,t){return iI.apply(this,arguments)}function iI(){return iI=Ct(Et().mark((function e(t,n){var r,i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Cv("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Ct(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Vw(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),iI.apply(this,arguments)}function aI(e,t){return oI.apply(this,arguments)}function oI(){return oI=Ct(Et().mark((function e(t,n){var r,i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,uI(t);case 3:return r=e.sent,Cv("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return b_(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return b_(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),oI.apply(this,arguments)}function uI(e){return sI.apply(this,arguments)}function sI(){return sI=Ct(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Cv("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,rI(t,new GS);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),sI.apply(this,arguments)}function cI(e){return lI.apply(this,arguments)}function lI(){return lI=Ct(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Cv("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,aI(t,new $S);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),lI.apply(this,arguments)}function fI(e){return uI(e).then((function(e){return e.persistence}))}function hI(e){return uI(e).then((function(e){return e.localStore}))}function dI(e){return cI(e).then((function(e){return e.remoteStore}))}function pI(e){return cI(e).then((function(e){return e.syncEngine}))}function vI(e){return yI.apply(this,arguments)}function yI(){return yI=Ct(Et().mark((function e(t){var n,r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cI(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=Y_.bind(null,n.syncEngine),r.onUnlisten=tS.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),yI.apply(this,arguments)}function mI(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Fv;return e.asyncQueue.enqueueAndForget(Ct(Et().mark((function i(){return Et().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new XS({next:function(a){t.enqueueAndForget((function(){return L_(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new Mv(Lv.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new Mv(Lv.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new j_(Nm(n.path),a,{includeMetadataChanges:!0,ku:!0});return O_(e,o)},i.next=3,vI(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function gI(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Fv;return e.asyncQueue.enqueueAndForget(Ct(Et().mark((function i(){return Et().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new XS({next:function(n){t.enqueueAndForget((function(){return L_(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Mv(Lv.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new j_(n,a,{includeMetadataChanges:!0,ku:!0});return O_(e,o)},i.next=3,vI(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var kI=new Map;function bI(e,t,n){if(!n)throw new Mv(Lv.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function wI(e,t,n,r){if(!0===t&&!0===r)throw new Mv(Lv.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function xI(e){if(!wy.isDocumentKey(e))throw new Mv(Lv.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function _I(e){if(wy.isDocumentKey(e))throw new Mv(Lv.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function SI(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Pv()}function II(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Mv(Lv.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=SI(e);throw new Mv(Lv.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function EI(e,t){if(t<=0)throw new Mv(Lv.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var TI=function(){function e(t){var n;if(Rt(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Mv(Lv.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Mv(Lv.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,wI("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return(0,Nt.Z)(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),CI=function(){function e(t,n,r){Rt(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new TI({}),this._settingsFrozen=!1,t instanceof my?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Mv(Lv.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new my(e.options.projectId)}(t))}return(0,Nt.Z)(e,[{key:"app",get:function(){if(!this._app)throw new Mv(Lv.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Mv(Lv.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new TI(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Vv;switch(e.type){case"gapi":var t=e.client;return Ov(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Bv(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Mv(Lv.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=kI.get(e);t&&(Cv("ComponentProvider","Removing Datastore"),kI.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function AI(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=II(e,CI))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Rv("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=Sv.MOCK_USER;else{o=Qt(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new Mv(Lv.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Sv(s)}e._authCredentials=new jv(new Uv(o,u))}}var RI=function(){function e(t,n,r){Rt(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return(0,Nt.Z)(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new PI(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),NI=function(){function e(t,n,r){Rt(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return(0,Nt.Z)(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),PI=function(e){Mt(n,e);var t=jt(n);function n(e,r,i){var a;return Rt(this,n),(a=t.call(this,e,r,Nm(i)))._path=i,a.type="collection",a}return(0,Nt.Z)(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new RI(this.firestore,null,new wy(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(NI);function OI(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=mn(e),bI("collection","path",t),e instanceof CI){var a=iy.fromString.apply(iy,[t].concat(r));return _I(a),new PI(e,null,a)}if(!(e instanceof RI||e instanceof PI))throw new Mv(Lv.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(iy.fromString.apply(iy,[t].concat(r)));return _I(o),new PI(e.firestore,null,o)}function DI(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=mn(e),1===arguments.length&&(t=Hv.R()),bI("doc","path",t),e instanceof CI){var a=iy.fromString.apply(iy,[t].concat(r));return xI(a),new RI(e,null,new wy(a))}if(!(e instanceof RI||e instanceof PI))throw new Mv(Lv.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(iy.fromString.apply(iy,[t].concat(r)));return xI(o),new RI(e.firestore,e instanceof PI?e.converter:null,new wy(o))}function LI(e,t){return e=mn(e),t=mn(t),(e instanceof RI||e instanceof PI)&&(t instanceof RI||t instanceof PI)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function MI(e,t){return e=mn(e),t=mn(t),e instanceof NI&&t instanceof NI&&e.firestore===t.firestore&&Um(e._query,t._query)&&e.converter===t.converter}var FI=function(){function e(){var t=this;Rt(this,e),this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new Px(this,"async_queue_retry"),this.Qa=function(){var e=Rx();e&&Cv("AsyncQueue","Visibility state changed to "+e.visibilityState),t.No.Po()};var n=Rx();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Qa)}return(0,Nt.Z)(e,[{key:"isShuttingDown",get:function(){return this.Ba}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.ja(),this.Wa(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Ba){this.Ba=!0,this.Ka=e||!1;var t=Rx();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Qa)}}},{key:"enqueue",value:function(e){var t=this;if(this.ja(),this.Ba)return new Promise((function(){}));var n=new Fv;return this.Wa((function(){return t.Ba&&t.Ka?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.$a.push(e),t.za()}))}},{key:"za",value:function(){var e=Ct(Et().mark((function e(){var t=this;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.$a.length){e.next=14;break}return e.prev=1,e.next=4,this.$a[0]();case 4:this.$a.shift(),this.No.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),ab(e.t0)){e.next=12;break}throw e.t0;case 12:Cv("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.$a.length>0&&this.No.Ro((function(){return t.za()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Wa",value:function(e){var t=this,n=this.Fa.then((function(){return t.qa=!0,e().catch((function(e){t.Ua=e,t.qa=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Av("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.qa=!1,e}))}));return this.Fa=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.ja(),this.Ga.indexOf(e)>-1&&(t=0);var i=E_.createAndSchedule(this,e,t,n,(function(e){return r.Ha(e)}));return this.La.push(i),i}},{key:"ja",value:function(){this.Ua&&Pv()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Ja",value:function(){var e=Ct(Et().mark((function e(){var t;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Fa,e.next=3,t;case 3:if(t!==this.Fa){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ya",value:function(e){var t,n=Ot(this.La);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Xa",value:function(e){var t=this;return this.Ja().then((function(){t.La.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Ot(t.La);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Ja()}))}},{key:"Za",value:function(e){this.Ga.push(e)}},{key:"Ha",value:function(e){var t=this.La.indexOf(e);this.La.splice(t,1)}}]),e}();function UI(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=Ot(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var VI=function(){function e(){Rt(this,e),this._progressObserver={},this._taskCompletionResolver=new Fv,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return(0,Nt.Z)(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),jI=function(e){Mt(n,e);var t=jt(n);function n(e,r,i){var a;return Rt(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new FI,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return(0,Nt.Z)(n,[{key:"_terminate",value:function(){return this._firestoreClient||zI(this),this._firestoreClient.terminate()}}]),n}(CI);function ZI(e){return e._firestoreClient||zI(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function zI(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new yy(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new nI(e._authCredentials,e._appCheckCredentials,e._queue,r)}function BI(e,t,n){var r=new Fv;return e.asyncQueue.enqueue(Ct(Et().mark((function i(){return Et().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,rI(e,n);case 3:return i.next=5,aI(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===Lv.FAILED_PRECONDITION||e.code===Lv.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function qI(e){return function(e){return e.asyncQueue.enqueue(Ct(Et().mark((function t(){var n,r;return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fI(e);case 2:return n=t.sent,t.next=5,dI(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Dv(e);return t.wu.delete(0),Vx(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(ZI(e=II(e,jI)))}function WI(e){return function(e){return e.asyncQueue.enqueue(Ct(Et().mark((function t(){var n,r;return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fI(e);case 2:return n=t.sent,t.next=5,dI(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Ct(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Dv(t)).wu.add(0),e.next=4,Zx(n);case 4:n.yu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(ZI(e=II(e,jI)))}function KI(e,t){var n=ZI(e=II(e,jI)),r=new VI;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new JS(e,t)}(function(e,t){if(e instanceof Uint8Array)return YS(e,t);if(e instanceof ArrayBuffer)return YS(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,Nx(t));e.asyncQueue.enqueueAndForget(Ct(Et().mark((function t(){return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=KS,t.next=3,pI(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function GI(e,t){return function(e,t){return e.asyncQueue.enqueue(Ct(Et().mark((function n(){return Et().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Dv(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n._s.getNamedQuery(e,t)}))},n.next=3,hI(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(ZI(e=II(e,jI)),t).then((function(t){return t?new NI(e,null,t.query):null}))}function HI(e){if(e._initialized||e._terminated)throw new Mv(Lv.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var QI=function(){function e(){Rt(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Mv(Lv.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new oy(n)}return(0,Nt.Z)(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var $I=function(){function e(t){Rt(this,e),this._byteString=t}return(0,Nt.Z)(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(sy.fromBase64String(t))}catch(t){throw new Mv(Lv.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(sy.fromUint8Array(t))}}]),e}(),YI=(0,Nt.Z)((function e(t){Rt(this,e),this._methodName=t})),XI=function(){function e(t,n){if(Rt(this,e),!isFinite(t)||t<-90||t>90)throw new Mv(Lv.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Mv(Lv.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return(0,Nt.Z)(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Qv(this._lat,e._lat)||Qv(this._long,e._long)}}]),e}(),JI=/^__.*__$/,eE=function(){function e(t,n,r){Rt(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return(0,Nt.Z)(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new mg(e,this.data,this.fieldMask,t,this.fieldTransforms):new yg(e,this.data,t,this.fieldTransforms)}}]),e}(),tE=function(){function e(t,n,r){Rt(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return(0,Nt.Z)(e,[{key:"toMutation",value:function(e,t){return new mg(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function nE(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pv()}}var rE=function(){function e(t,n,r,i,a,o){Rt(this,e),this.settings=t,this.databaseId=n,this.M=r,this.ignoreUndefinedProperties=i,void 0===a&&this.tc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return(0,Nt.Z)(e,[{key:"path",get:function(){return this.settings.path}},{key:"ec",get:function(){return this.settings.ec}},{key:"nc",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"sc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.nc({path:n,ic:!1});return r.rc(e),r}},{key:"oc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.nc({path:n,ic:!1});return r.tc(),r}},{key:"uc",value:function(e){return this.nc({path:void 0,ic:!0})}},{key:"ac",value:function(e){return _E(e,this.settings.methodName,this.settings.cc||!1,this.path,this.settings.hc)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"tc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.rc(this.path.get(e))}},{key:"rc",value:function(e){if(0===e.length)throw this.ac("Document fields must not be empty");if(nE(this.ec)&&JI.test(e))throw this.ac('Document fields cannot begin and end with "__"')}}]),e}(),iE=function(){function e(t,n,r){Rt(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.M=r||Nx(t)}return(0,Nt.Z)(e,[{key:"lc",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new rE({ec:e,methodName:t,hc:n,path:oy.emptyPath(),ic:!1,cc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}]),e}();function aE(e){var t=e._freezeSettings(),n=Nx(e._databaseId);return new iE(e._databaseId,!!t.ignoreUndefinedProperties,n)}function oE(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.lc(a.merge||a.mergeFields?2:0,t,n,i);kE("Data must be an object, but it was:",o,r);var u,s,c=mE(r,o);if(a.merge)u=new uy(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=Ot(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=bE(t,d,n);if(!o.contains(p))throw new Mv(Lv.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));SE(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new uy(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new eE(new By(c),u,s)}var uE=function(e){Mt(n,e);var t=jt(n);function n(){return Rt(this,n),t.apply(this,arguments)}return(0,Nt.Z)(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.ec)throw 1===e.ec?e.ac("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ac("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(YI);function sE(e,t,n){return new rE({ec:3,hc:t.settings.hc,methodName:e._methodName,ic:n},t.databaseId,t.M,t.ignoreUndefinedProperties)}var cE=function(e){Mt(n,e);var t=jt(n);function n(){return Rt(this,n),t.apply(this,arguments)}return(0,Nt.Z)(n,[{key:"_toFieldTransform",value:function(e){return new og(e.path,new Xm)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(YI),lE=function(e){Mt(n,e);var t=jt(n);function n(e,r){var i;return Rt(this,n),(i=t.call(this,e)).fc=r,i}return(0,Nt.Z)(n,[{key:"_toFieldTransform",value:function(e){var t=sE(this,e,!0),n=this.fc.map((function(e){return yE(e,t)})),r=new Jm(n);return new og(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(YI),fE=function(e){Mt(n,e);var t=jt(n);function n(e,r){var i;return Rt(this,n),(i=t.call(this,e)).fc=r,i}return(0,Nt.Z)(n,[{key:"_toFieldTransform",value:function(e){var t=sE(this,e,!0),n=this.fc.map((function(e){return yE(e,t)})),r=new tg(n);return new og(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(YI),hE=function(e){Mt(n,e);var t=jt(n);function n(e,r){var i;return Rt(this,n),(i=t.call(this,e)).dc=r,i}return(0,Nt.Z)(n,[{key:"_toFieldTransform",value:function(e){var t=new rg(e.M,Gm(e.M,this.dc));return new og(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(YI);function dE(e,t,n,r){var i=e.lc(1,t,n);kE("Data must be an object, but it was:",i,r);var a=[],o=By.empty();ty(r,(function(e,r){var u=xE(t,e,n);r=mn(r);var s=i.oc(u);if(r instanceof uE)a.push(u);else{var c=yE(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new uy(a);return new tE(o,u,i.fieldTransforms)}function pE(e,t,n,r,i,a){var o=e.lc(1,t,n),u=[bE(t,r,n)],s=[i];if(a.length%2!=0)throw new Mv(Lv.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(bE(t,a[c])),s.push(a[c+1]);for(var l=[],f=By.empty(),h=u.length-1;h>=0;--h)if(!SE(l,u[h])){var d=u[h],p=s[h];p=mn(p);var v=o.oc(d);if(p instanceof uE)l.push(d);else{var y=yE(p,v);null!=y&&(l.push(d),f.set(d,y))}}var m=new uy(l);return new tE(f,m,o.fieldTransforms)}function vE(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return yE(n,e.lc(r?4:3,t))}function yE(e,t){if(gE(e=mn(e)))return kE("Unsupported field value:",t,e),mE(e,t);if(e instanceof YI)return function(e,t){if(!nE(t.ec))throw t.ac("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ac("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ic&&4!==t.ec)throw t.ac("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=Ot(e);try{for(a.s();!(n=a.n()).done;){var o=yE(n.value,t.uc(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=mn(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Gm(t.M,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Xv.fromDate(e);return{timestampValue:Yg(t.M,n)}}if(e instanceof Xv){var r=new Xv(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Yg(t.M,r)}}if(e instanceof XI)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof $I)return{bytesValue:Xg(t.M,e._byteString)};if(e instanceof RI){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ac("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:tk(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ac("Unsupported field value: ".concat(SI(e)))}(e,t)}function mE(e,t){var n={};return ny(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ty(e,(function(e,r){var i=yE(r,t.sc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function gE(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Xv||e instanceof XI||e instanceof $I||e instanceof RI||e instanceof YI)}function kE(e,t,n){if(!gE(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=SI(n);throw"an object"===r?t.ac(e+" a custom object"):t.ac(e+" "+r)}}function bE(e,t,n){if((t=mn(t))instanceof QI)return t._internalPath;if("string"==typeof t)return xE(e,t);throw _E("Field path arguments must be of type string or ",e,!1,void 0,n)}var wE=new RegExp("[~\\*/\\[\\]]");function xE(e,t,n){if(t.search(wE)>=0)throw _E("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Zt(QI,(0,$e.Z)(t.split(".")))._internalPath}catch(r){throw _E("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function _E(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new Mv(Lv.INVALID_ARGUMENT,u+e+s)}function SE(e,t){return e.some((function(e){return e.isEqual(t)}))}var IE=function(){function e(t,n,r,i,a){Rt(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return(0,Nt.Z)(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new RI(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new EE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(TE("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),EE=function(e){Mt(n,e);var t=jt(n);function n(){return Rt(this,n),t.apply(this,arguments)}return(0,Nt.Z)(n,[{key:"data",value:function(){return Gr(Ft(n.prototype),"data",this).call(this)}}]),n}(IE);function TE(e,t){return"string"==typeof t?xE(e,t):t instanceof QI?t._internalPath:t._delegate._internalPath}var CE=function(){function e(t,n){Rt(this,e),this.hasPendingWrites=t,this.fromCache=n}return(0,Nt.Z)(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),AE=function(e){Mt(n,e);var t=jt(n);function n(e,r,i,a,o,u){var s;return Rt(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return(0,Nt.Z)(n,[{key:"exists",value:function(){return Gr(Ft(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new RE(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(TE("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(IE),RE=function(e){Mt(n,e);var t=jt(n);function n(){return Rt(this,n),t.apply(this,arguments)}return(0,Nt.Z)(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Gr(Ft(n.prototype),"data",this).call(this,e)}}]),n}(AE),NE=function(){function e(t,n,r,i){Rt(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new CE(i.hasPendingWrites,i.fromCache),this.query=r}return(0,Nt.Z)(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new RE(n._firestore,n._userDataWriter,r.key,r,new CE(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Mv(Lv.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new RE(e._firestore,e._userDataWriter,t.doc.key,t.doc,new CE(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new RE(e._firestore,e._userDataWriter,t.doc.key,t.doc,new CE(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:PE(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function PE(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pv()}}function OE(e,t){return e instanceof AE&&t instanceof AE?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof NE&&t instanceof NE&&e._firestore===t._firestore&&MI(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function DE(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Mv(Lv.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var LE=(0,Nt.Z)((function e(){Rt(this,e)}));function ME(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var FE=function(e){Mt(n,e);var t=jt(n);function n(e,r,i){var a;return Rt(this,n),(a=t.call(this))._c=e,a.wc=r,a.mc=i,a.type="where",a}return(0,Nt.Z)(n,[{key:"_apply",value:function(e){var t=aE(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Mv(Lv.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){HE(o,a);var s,c=[],l=Ot(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(GE(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=GE(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||HE(o,a),u=vE(n,"where",o,"in"===a||"not-in"===a);var h=vm.create(i,a,u);return function(e,t){if(t.S()){var n=Om(e);if(null!==n&&!n.isEqual(t.field))throw new Mv(Lv.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=Pm(e);null!==r&&QE(e,t.field,r)}var i=function(e,t){var n,r=Ot(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Mv(Lv.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Mv(Lv.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this._c,this.wc,this.mc);return new NI(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Am(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(LE);var UE=function(e){Mt(n,e);var t=jt(n);function n(e,r){var i;return Rt(this,n),(i=t.call(this))._c=e,i.gc=r,i.type="orderBy",i}return(0,Nt.Z)(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Mv(Lv.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Mv(Lv.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Im(t,n);return function(e,t){if(null===Pm(e)){var n=Om(e);null!==n&&QE(e,n,t.field)}}(e,r),r}(e._query,this._c,this.gc);return new NI(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Am(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(LE);var VE=function(e){Mt(n,e);var t=jt(n);function n(e,r,i){var a;return Rt(this,n),(a=t.call(this)).type=e,a.yc=r,a.Ic=i,a}return(0,Nt.Z)(n,[{key:"_apply",value:function(e){return new NI(e.firestore,e.converter,Fm(e._query,this.yc,this.Ic))}}]),n}(LE);var jE=function(e){Mt(n,e);var t=jt(n);function n(e,r,i){var a;return Rt(this,n),(a=t.call(this)).type=e,a.Tc=r,a.Ec=i,a}return(0,Nt.Z)(n,[{key:"_apply",value:function(e){var t=KE(e,this.type,this.Tc,this.Ec);return new NI(e.firestore,e.converter,function(e,t){return new Am(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(LE);function ZE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new jE("startAt",t,!0)}function zE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new jE("startAfter",t,!1)}var BE=function(e){Mt(n,e);var t=jt(n);function n(e,r,i){var a;return Rt(this,n),(a=t.call(this)).type=e,a.Tc=r,a.Ec=i,a}return(0,Nt.Z)(n,[{key:"_apply",value:function(e){var t=KE(e,this.type,this.Tc,this.Ec);return new NI(e.firestore,e.converter,function(e,t){return new Am(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(LE);function qE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new BE("endBefore",t,!1)}function WE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new BE("endAt",t,!0)}function KE(e,t,n,r){if(n[0]=mn(n[0]),n[0]instanceof IE)return function(e,t,n,r,i){if(!r)throw new Mv(Lv.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=Ot(Lm(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(Ny(t,r.key));else{var c=r.data.field(s.field);if(dy(c))throw new Mv(Lv.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new Mv(Lv.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new Sm(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=aE(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Mv(Lv.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new Mv(Lv.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Dm(e)&&-1!==c.indexOf("/"))throw new Mv(Lv.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(iy.fromString(c));if(!wy.isDocumentKey(l))throw new Mv(Lv.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new wy(l);u.push(Ny(t,f))}else{var h=vE(n,r,c);u.push(h)}}return new Sm(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function GE(e,t,n){if("string"==typeof(n=mn(n))){if(""===n)throw new Mv(Lv.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Dm(t)&&-1!==n.indexOf("/"))throw new Mv(Lv.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(iy.fromString(n));if(!wy.isDocumentKey(r))throw new Mv(Lv.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Ny(e,new wy(r))}if(n instanceof RI)return Ny(e,n._key);throw new Mv(Lv.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(SI(n),"."))}function HE(e,t){if(!Array.isArray(e)||0===e.length)throw new Mv(Lv.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Mv(Lv.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function QE(e,t,n){if(!n.isEqual(t))throw new Mv(Lv.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var $E={maxAttempts:5},YE=function(){function e(){Rt(this,e)}return(0,Nt.Z)(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Sy(e)){case 0:return null;case 1:return e.booleanValue;case 2:return fy(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(hy(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Pv()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return ty(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new XI(fy(e.latitude),fy(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=py(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(vy(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=ly(e);return new Xv(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=iy.fromString(e);Ov(Ik(n));var r=new my(n.get(1),n.get(3)),i=new wy(n.popFirst(5));return r.isEqual(t)||Av("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function XE(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var JE=function(e){Mt(n,e);var t=jt(n);function n(e){var r;return Rt(this,n),(r=t.call(this)).firestore=e,r}return(0,Nt.Z)(n,[{key:"convertBytes",value:function(e){return new $I(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new RI(this.firestore,null,t)}}]),n}(YE),eT=function(){function e(t,n){Rt(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=aE(t)}return(0,Nt.Z)(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=tT(e,this._firestore),i=XE(r.converter,t,n),a=oE(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,sg.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=tT(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=mn(t))||t instanceof QI?pE(this._dataReader,"WriteBatch.update",i._key,t,n,o):dE(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,sg.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=tT(e,this._firestore);return this._mutations=this._mutations.concat(new _g(t._key,sg.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Mv(Lv.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function tT(e,t){if((e=mn(e)).firestore!==t)throw new Mv(Lv.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var nT=function(e){Mt(n,e);var t=jt(n);function n(e){var r;return Rt(this,n),(r=t.call(this)).firestore=e,r}return(0,Nt.Z)(n,[{key:"convertBytes",value:function(e){return new $I(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new RI(this.firestore,null,t)}}]),n}(YE);function rT(e){e=II(e,RI);var t=II(e.firestore,jI),n=ZI(t),r=new nT(t);return function(e,t){var n=new Fv;return e.asyncQueue.enqueueAndForget(Ct(Et().mark((function r(){return Et().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Ct(Et().mark((function e(t,n,r){var i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Dv(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.fi.Ls(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Mv(Lv.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=T_(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,hI(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new AE(t,r,e._key,n,new CE(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function iT(e){e=II(e,NI);var t=II(e.firestore,jI),n=ZI(t),r=new nT(t);return function(e,t){var n=new Fv;return e.asyncQueue.enqueueAndForget(Ct(Et().mark((function r(){return Et().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Ct(Et().mark((function e(t,n,r){var i,a,o,u,s;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Qw(t,n,!0);case 3:i=e.sent,a=new G_(n,i._i),o=a.Wu(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=T_(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,hI(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new NE(t,r,e,n)}))}function aT(e,t,n){e=II(e,RI);var r=II(e.firestore,jI),i=XE(e.converter,t,n);return cT(r,[oE(aE(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,sg.none())])}function oT(e,t,n){e=II(e,RI);for(var r=II(e.firestore,jI),i=aE(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return cT(r,[("string"==typeof(t=mn(t))||t instanceof QI?pE(i,"updateDoc",e._key,t,n,o):dE(i,"updateDoc",e._key,t)).toMutation(e._key,sg.exists(!0))])}function uT(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=mn(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||UI(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(UI(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof RI)l=II(e.firestore,jI),f=Nm(e._key.path),c={next:function(t){n[s]&&n[s](lT(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=II(e,NI);l=II(p.firestore,jI),f=p._query;var v=new nT(l);c={next:function(e){n[s]&&n[s](new NE(l,v,p,e))},error:n[s+1],complete:n[s+2]},DE(e._query)}return function(e,t,n,r){var i=new XS(r),a=new j_(t,i,n);return e.asyncQueue.enqueueAndForget(Ct(Et().mark((function t(){return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=O_,t.next=3,vI(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Aa(),e.asyncQueue.enqueueAndForget(Ct(Et().mark((function t(){return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=L_,t.next=3,vI(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(ZI(l),f,h,c)}function sT(e,t){return function(e,t){var n=new XS(t);return e.asyncQueue.enqueueAndForget(Ct(Et().mark((function t(){return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Dv(e).bu.add(t),t.next()},t.next=3,vI(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Aa(),e.asyncQueue.enqueueAndForget(Ct(Et().mark((function t(){return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Dv(e).bu.delete(t)},t.next=3,vI(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(ZI(e=II(e,jI)),UI(t)?t:{next:t})}function cT(e,t){return function(e,t){var n=new Fv;return e.asyncQueue.enqueueAndForget(Ct(Et().mark((function r(){return Et().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=rS,r.next=3,pI(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(ZI(e),t)}function lT(e,t,n){var r=n.docs.get(t._key),i=new nT(e);return new AE(e,i,t._key,r,new CE(n.hasPendingWrites,n.fromCache),t.converter)}var fT=function(e){Mt(n,e);var t=jt(n);function n(e,r){var i;return Rt(this,n),(i=t.call(this,e,r))._firestore=e,i}return(0,Nt.Z)(n,[{key:"get",value:function(e){var t=this,r=tT(e,this._firestore),i=new nT(this._firestore);return Gr(Ft(n.prototype),"get",this).call(this,e).then((function(e){return new AE(t._firestore,i,r._key,e._document,new CE(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){Rt(this,e),this._firestore=t,this._transaction=n,this._dataReader=aE(t)}return(0,Nt.Z)(e,[{key:"get",value:function(e){var t=this,n=tT(e,this._firestore),r=new JE(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Pv();var i=e[0];if(i.isFoundDocument())return new IE(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new IE(t._firestore,r,n._key,null,n.converter);throw Pv()}))}},{key:"set",value:function(e,t,n){var r=tT(e,this._firestore),i=XE(r.converter,t,n),a=oE(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=tT(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=mn(t))||t instanceof QI?pE(this._dataReader,"Transaction.update",i._key,t,n,o):dE(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=tT(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function hT(e,t,n){e=II(e,jI);var r=Object.assign(Object.assign({},$E),n);return function(e){if(e.maxAttempts<1)throw new Mv(Lv.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new Fv;return e.asyncQueue.enqueueAndForget(Ct(Et().mark((function i(){var a;return Et().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,function(e){return cI(e).then((function(e){return e.datastore}))}(e);case 2:a=i.sent,new tI(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(ZI(e),(function(n){return t(new fT(e,n))}),r)}function dT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new lE("arrayUnion",t)}function pT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new fE("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Iv=e}(hr),ar(new gn("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new jI(i,new Zv(e.getProvider("auth-internal")),new Wv(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),gr(_v,"3.4.9",e),gr(_v,"3.4.9","esm2017")}();function vT(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Mv("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function yT(){if("undefined"===typeof Uint8Array)throw new Mv("unimplemented","Uint8Arrays are not available in this environment.")}function mT(){if("undefined"==typeof atob)throw new Mv("unimplemented","Blobs are unavailable in Firestore in this environment.")}var gT=function(){function e(t){Rt(this,e),this._delegate=t}return(0,Nt.Z)(e,[{key:"toBase64",value:function(){return mT(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return yT(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return mT(),new e($I.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return yT(),new e($I.fromUint8Array(t))}}]),e}();function kT(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=Ot(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var bT=function(){function e(){Rt(this,e)}return(0,Nt.Z)(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){HI(e=II(e,jI));var n=ZI(e),r=e._freezeSettings(),i=new $S;return BI(n,i,new HS(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){HI(e=II(e,jI));var t=ZI(e),n=e._freezeSettings(),r=new $S;return BI(t,r,new QS(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Mv(Lv.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Fv;return e._queue.enqueueAndForgetEvenWhileRestricted(Ct(Et().mark((function n(){return Et().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Ct(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(nb.vt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,nb.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(Ow(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),wT=function(){function e(t,n,r){var i=this;Rt(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof my||(this._appCompat=t)}return(0,Nt.Z)(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Rv("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};AI(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return qI(this._delegate)}},{key:"disableNetwork",value:function(){return WI(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&wI("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Fv;return e.asyncQueue.enqueueAndForget(Ct(Et().mark((function n(){return Et().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=pS,n.next=3,pI(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(ZI(e=II(e,jI)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return sT(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Mv("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new LT(this,OI(this._delegate,e))}catch(t){throw TT(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new ET(this,DI(this._delegate,e))}catch(t){throw TT(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new PT(this,function(e,t){if(e=II(e,CI),bI("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Mv(Lv.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new NI(e,null,function(e){return new Am(iy.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw TT(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return hT(this._delegate,(function(n){return e(new _T(t,n))}))}},{key:"batch",value:function(){var e=this;return ZI(this._delegate),new ST(new eT(this._delegate,(function(t){return cT(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return KI(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return GI(this._delegate,e).then((function(e){return e?new PT(t,e):null}))}}]),e}(),xT=function(e){Mt(n,e);var t=jt(n);function n(e){var r;return Rt(this,n),(r=t.call(this)).firestore=e,r}return(0,Nt.Z)(n,[{key:"convertBytes",value:function(e){return new gT(new $I(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return ET.forKey(t,this.firestore,null)}}]),n}(YE);var _T=function(){function e(t,n){Rt(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new xT(t)}return(0,Nt.Z)(e,[{key:"get",value:function(e){var t=this,n=MT(e);return this._delegate.get(n).then((function(e){return new RT(t._firestore,new AE(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=MT(e);return n?(vT("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=MT(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=MT(e);return this._delegate.delete(t),this}}]),e}(),ST=function(){function e(t){Rt(this,e),this._delegate=t}return(0,Nt.Z)(e,[{key:"set",value:function(e,t,n){var r=MT(e);return n?(vT("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=MT(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=MT(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),IT=function(){function e(t,n,r){Rt(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return(0,Nt.Z)(e,[{key:"fromFirestore",value:function(e,t){var n=new RE(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new NT(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new xT(t),n),i.set(n,a)),a}}]),e}();IT.INSTANCES=new WeakMap;var ET=function(){function e(t,n){Rt(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new xT(t)}return(0,Nt.Z)(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new LT(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new LT(this.firestore,OI(this._delegate,e))}catch(t){throw TT(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=mn(e))instanceof RI&&LI(this._delegate,e)}},{key:"set",value:function(e,t){t=vT("DocumentReference.set",t);try{return t?aT(this._delegate,e,t):aT(this._delegate,e)}catch(n){throw TT(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?oT(this._delegate,e):oT.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw TT(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return cT(II(e.firestore,jI),[new _g(e._key,sg.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=CT(n),a=AT(n,(function(t){return new RT(e.firestore,new AE(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return uT(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?rT(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=II(e,RI);var t=II(e.firestore,jI);return mI(ZI(t),e._key,{source:"server"}).then((function(n){return lT(t,e,n)}))}(this._delegate):function(e){e=II(e,RI);var t=II(e.firestore,jI);return mI(ZI(t),e._key).then((function(n){return lT(t,e,n)}))}(this._delegate),t.then((function(e){return new RT(n.firestore,new AE(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(IT.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Mv("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new RI(n._delegate,r,new wy(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new RI(n._delegate,r,t))}}]),e}();function TT(e,t,n){return e.message=e.message.replace(t,n),e}function CT(e){var t,n=Ot(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!kT(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function AT(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=kT(e[0])?e[0]:kT(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var RT=function(){function e(t,n){Rt(this,e),this._firestore=t,this._delegate=n}return(0,Nt.Z)(e,[{key:"ref",get:function(){return new ET(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return OE(this._delegate,e._delegate)}}]),e}(),NT=function(e){Mt(n,e);var t=jt(n);function n(){return Rt(this,n),t.apply(this,arguments)}return(0,Nt.Z)(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Pv()}(void 0!==t),t}}]),n}(RT),PT=function(){function e(t,n){Rt(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new xT(t)}return(0,Nt.Z)(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,ME(this._delegate,function(e,t,n){var r=t,i=TE("where",e);return new FE(i,r,n)}(t,n,r)))}catch(i){throw TT(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,ME(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=TE("orderBy",e);return new UE(n,t)}(t,n)))}catch(r){throw TT(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,ME(this._delegate,function(e){return EI("limit",e),new VE("limit",e,"F")}(t)))}catch(n){throw TT(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,ME(this._delegate,function(e){return EI("limitToLast",e),new VE("limitToLast",e,"L")}(t)))}catch(n){throw TT(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,ME(this._delegate,ZE.apply(void 0,arguments)))}catch(t){throw TT(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,ME(this._delegate,zE.apply(void 0,arguments)))}catch(t){throw TT(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,ME(this._delegate,qE.apply(void 0,arguments)))}catch(t){throw TT(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,ME(this._delegate,WE.apply(void 0,arguments)))}catch(t){throw TT(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return MI(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?iT(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=II(e,NI);var t=II(e.firestore,jI),n=ZI(t),r=new nT(t);return gI(n,e._query,{source:"server"}).then((function(n){return new NE(t,r,e,n)}))}(this._delegate):function(e){e=II(e,NI);var t=II(e.firestore,jI),n=ZI(t),r=new nT(t);return DE(e._query),gI(n,e._query).then((function(n){return new NE(t,r,e,n)}))}(this._delegate),t.then((function(e){return new DT(n.firestore,new NE(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=CT(n),a=AT(n,(function(t){return new DT(e.firestore,new NE(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return uT(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(IT.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),OT=function(){function e(t,n){Rt(this,e),this._firestore=t,this._delegate=n}return(0,Nt.Z)(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new NT(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),DT=function(){function e(t,n){Rt(this,e),this._firestore=t,this._delegate=n}return(0,Nt.Z)(e,[{key:"query",get:function(){return new PT(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new NT(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new OT(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new NT(n._firestore,r))}))}},{key:"isEqual",value:function(e){return OE(this._delegate,e._delegate)}}]),e}(),LT=function(e){Mt(n,e);var t=jt(n);function n(e,r){var i;return Rt(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return(0,Nt.Z)(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new ET(this.firestore,e):null}},{key:"doc",value:function(e){try{return new ET(this.firestore,void 0===e?DI(this._delegate):DI(this._delegate,e))}catch(t){throw TT(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=II(e.firestore,jI),r=DI(e),i=XE(e.converter,t);return cT(n,[oE(aE(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,sg.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new ET(t.firestore,e)}))}},{key:"isEqual",value:function(e){return LI(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(IT.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(PT);function MT(e){return II(e,RI)}var FT=function(){function e(){Rt(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=Zt(QI,n)}return(0,Nt.Z)(e,[{key:"isEqual",value:function(e){return(e=mn(e))instanceof QI&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(oy.keyField().canonicalString())}}]),e}(),UT=function(){function e(t){Rt(this,e),this._delegate=t}return(0,Nt.Z)(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new cE("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new uE("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=dT.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=pT.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new hE("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),VT={Firestore:wT,GeoPoint:XI,Timestamp:Xv,Blob:gT,Transaction:_T,WriteBatch:ST,DocumentReference:ET,DocumentSnapshot:RT,Query:PT,QueryDocumentSnapshot:NT,QuerySnapshot:DT,CollectionReference:LT,FieldPath:FT,FieldValue:UT,setLogLevel:function(e){!function(e){Ev.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new gn("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},VT)))}(e,(function(e,t){return new wT(e,t,new bT)})),e.registerVersion("@firebase/firestore-compat","0.1.18")}(zr);var jT="firebasestorage.googleapis.com",ZT=function(e){Mt(n,e);var t=jt(n);function n(e,r){var i;return Rt(this,n),(i=t.call(this,zT(e),"Firebase Storage: ".concat(r," (").concat(zT(e),")"))).customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf((0,Dt.Z)(i),n.prototype),i}return(0,Nt.Z)(n,[{key:"_codeEquals",value:function(e){return zT(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(rn);function zT(e){return"storage/"+e}function BT(){return new ZT("unknown","An unknown error occurred, please check the error payload for server response.")}function qT(){return new ZT("canceled","User canceled the upload/download.")}function WT(){return new ZT("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function KT(e){return new ZT("invalid-argument",e)}function GT(){return new ZT("app-deleted","The Firebase app was deleted.")}function HT(e){return new ZT("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function QT(e,t){return new ZT("invalid-format","String does not match format '"+e+"': "+t)}function $T(e){throw new ZT("internal-error","Internal error: "+e)}var YT,XT=function(){function e(t,n){Rt(this,e),this.bucket=t,this.path_=n}return(0,Nt.Z)(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(i){return new e(t,"")}if(""===r.path)return r;throw new ZT("invalid-default-bucket","Invalid default bucket '"+t+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var u=n.replace(/[.]/g,"\\."),s=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(u,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===jT?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<s.length;c++){var l=s[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new ZT("invalid-url","Invalid URL '"+e+"'.")}(t);return r}}]),e}(),JT=function(){function e(t){Rt(this,e),this.promise_=Promise.reject(t)}return(0,Nt.Z)(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function eC(e){return"string"===typeof e||e instanceof String}function tC(e){return nC()&&e instanceof Blob}function nC(){return"undefined"!==typeof Blob}function rC(e,t,n,r){if(r<t)throw KT("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw KT("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function iC(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function aC(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(YT||(YT={}));var oC=function(){function e(t,n,r,i,a,o,u,s,c,l,f){var h=this;Rt(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=u,this.errorCallback_=s,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return(0,Nt.Z)(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(s){i(s)}else if(null!==a){var u=BT();u.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,u)):i(u)}else{if(n.canceled)i(e.appDelete_?GT():qT());else i(new ZT("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}};this.canceled_?t(0,new uC(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,u=0;function s(){return 2===u}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,s())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var a;if(s()||o)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===u?(u=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(u=2),clearTimeout(i),f(0)):e||(u=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new uC(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===YT.NO_ERROR,a=r.getStatus();if(n&&!e.isRetryStatusCode_(a)){var o=-1!==e.successCodes_.indexOf(a);t(!0,new uC(o,r))}else{var u=r.getErrorCode()===YT.ABORT;t(!1,new uC(!1,null,u))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}},{key:"isRetryStatusCode_",value:function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r}}]),e}(),uC=(0,Nt.Z)((function e(t,n,r){Rt(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function sC(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function cC(){for(var e=sC(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(nC())return new Blob(n);throw new ZT("unsupported-environment","This browser doesn't seem to support creating Blobs")}var lC={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},fC=(0,Nt.Z)((function e(t,n){Rt(this,e),this.data=t,this.contentType=n||null}));function hC(e,t){switch(e){case lC.RAW:return new fC(dC(t));case lC.BASE64:case lC.BASE64URL:return new fC(pC(e,t));case lC.DATA_URL:return new fC(function(e){var t=new vC(e);return t.base64?pC(lC.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw QT(lC.DATA_URL,"Malformed data URL.")}return dC(t)}(t.rest)}(t),new vC(t).contentType)}throw BT()}function dC(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function pC(e,t){switch(e){case lC.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw QT(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case lC.BASE64URL:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw QT(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=atob(t)}catch(c){throw QT(e,"Invalid character found")}for(var u=new Uint8Array(o.length),s=0;s<o.length;s++)u[s]=o.charCodeAt(s);return u}var vC=(0,Nt.Z)((function e(t){Rt(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw QT(lC.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}));var yC=function(){function e(t,n){Rt(this,e);var r=0,i="";tC(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return(0,Nt.Z)(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(tC(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(nC()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(cC.apply(null,i))}var a=n.map((function(e){return eC(e)?hC(lC.RAW,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var u=new Uint8Array(o),s=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)u[s++]=e[t]})),new e(u,!0)}}]),e}();function mC(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function gC(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function kC(e,t){return t}var bC=(0,Nt.Z)((function e(t,n,r,i){Rt(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||kC})),wC=null;function xC(){if(wC)return wC;var e=[];e.push(new bC("bucket")),e.push(new bC("generation")),e.push(new bC("metageneration")),e.push(new bC("name","fullPath",!0));var t=new bC("name");t.xform=function(e,t){return function(e){return!eC(e)||e.length<2?e:gC(e)}(t)},e.push(t);var n=new bC("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new bC("timeCreated")),e.push(new bC("updated")),e.push(new bC("md5Hash",null,!0)),e.push(new bC("cacheControl",null,!0)),e.push(new bC("contentDisposition",null,!0)),e.push(new bC("contentEncoding",null,!0)),e.push(new bC("contentLanguage",null,!0)),e.push(new bC("contentType",null,!0)),e.push(new bC("metadata","customMetadata",!0)),wC=e}function _C(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new XT(n,r);return t._makeStorageReference(i)}})}(r,e),r}function SC(e,t,n){var r=mC(t);return null===r?null:_C(e,r,n)}function IC(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}function EC(e,t,n){var r=mC(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes){var i,a=Ot(n.prefixes);try{for(a.s();!(i=a.n()).done;){var o=i.value.replace(/\/$/,""),u=e._makeStorageReference(new XT(t,o));r.prefixes.push(u)}}catch(h){a.e(h)}finally{a.f()}}if(n.items){var s,c=Ot(n.items);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=e._makeStorageReference(new XT(t,l.name));r.items.push(f)}}catch(h){c.e(h)}finally{c.f()}}return r}(e,t,r)}var TC=(0,Nt.Z)((function e(t,n,r,i){Rt(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function CC(e){if(!e)throw BT()}function AC(e,t){return function(n,r){var i=SC(e,r,t);return CC(null!==i),i}}function RC(e,t){return function(n,r){var i=SC(e,r,t);return CC(null!==i),function(e,t,n,r){var i=mC(t);if(null===i)return null;if(!eC(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return iC("/b/"+o(i)+"/o/"+o(a),n,r)+aC({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function NC(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new ZT("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new ZT("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new ZT("quota-exceeded","Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new ZT("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function PC(e){var t=NC(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new ZT("object-not-found","Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function OC(e,t,n){var r=iC(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new TC(r,"GET",AC(e,n),i);return a.errorHandler=PC(t),a}function DC(e,t,n,r,i){var a={};t.isRoot?a.prefix="":a.prefix=t.path+"/",n&&n.length>0&&(a.delimiter=n),r&&(a.pageToken=r),i&&(a.maxResults=i);var o=iC(t.bucketOnlyServerUrl(),e.host,e._protocol),u=e.maxOperationRetryTime,s=new TC(o,"GET",function(e,t){return function(n,r){var i=EC(e,t,r);return CC(null!==i),i}}(e,t.bucket),u);return s.urlParams=a,s.errorHandler=NC(t),s}function LC(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function MC(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var u=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+u;var s=LC(t,r,i),c="--"+u+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+IC(s,n)+"\r\n--"+u+"\r\nContent-Type: "+s.contentType+"\r\n\r\n",l="\r\n--"+u+"--",f=yC.getBlob(c,r,l);if(null===f)throw WT();var h={name:s.fullPath},d=iC(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new TC(d,"POST",AC(e,n),p);return v.urlParams=h,v.headers=o,v.body=f.uploadData(),v.errorHandler=NC(t),v}var FC=(0,Nt.Z)((function e(t,n,r,i){Rt(this,e),this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}));function UC(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){CC(!1)}return CC(!!n&&-1!==(t||["active"]).indexOf(n)),n}var VC=262144;function jC(e,t,n,r,i,a,o,u){var s=new FC(0,0);if(o?(s.current=o.current,s.total=o.total):(s.current=0,s.total=r.size()),r.size()!==s.total)throw new ZT("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=s.total-s.current,l=c;i>0&&(l=Math.min(l,i));var f=s.current,h=f+l,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":"".concat(s.current)},p=r.slice(f,h);if(null===p)throw WT();var v=t.maxUploadRetryTime,y=new TC(n,"POST",(function(e,n){var i,o=UC(e,["active","final"]),u=s.current+l,c=r.size();return i="final"===o?AC(t,a)(e,n):null,new FC(u,c,"final"===o,i)}),v);return y.headers=d,y.body=p.uploadData(),y.progressCallback=u||null,y.errorHandler=NC(e),y}var ZC={STATE_CHANGED:"state_changed"},zC={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function BC(e){switch(e){case"running":case"pausing":case"canceling":return zC.RUNNING;case"paused":return zC.PAUSED;case"success":return zC.SUCCESS;case"canceled":return zC.CANCELED;default:return zC.ERROR}}var qC=(0,Nt.Z)((function e(t,n,r){Rt(this,e);var i=function(e){return"function"===typeof e}(t)||null!=n||null!=r;if(i)this.next=t,this.error=null!==n&&void 0!==n?n:void 0,this.complete=null!==r&&void 0!==r?r:void 0;else{var a=t;this.next=a.next,this.error=a.error,this.complete=a.complete}}));function WC(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((function(){return e.apply(void 0,n)}))}}var KC=function(){function e(){var t=this;Rt(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=YT.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=YT.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=YT.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return(0,Nt.Z)(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw $T("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw $T("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw $T("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw $T("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw $T("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),GC=function(e){Mt(n,e);var t=jt(n);function n(){return Rt(this,n),t.apply(this,arguments)}return(0,Nt.Z)(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(KC);function HC(){return new GC}var QC=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Rt(this,e),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=xC(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return(0,Nt.Z)(e,[{key:"_makeProgressCallback",value:function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}}},{key:"_shouldDoResumable",value:function(e){return e.size()>262144}},{key:"_start",value:function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=(0,Qe.Z)(n,2),i=r[0],a=r[1];switch(t._state){case"running":e(i,a);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))}},{key:"_createResumable",value:function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o=LC(t,r,i),u={name:o.fullPath},s=iC(a,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},l=IC(o,n),f=e.maxUploadRetryTime,h=new TC(s,"POST",(function(e){var t;UC(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){CC(!1)}return CC(eC(t)),t}),f);return h.urlParams=u,h.headers=c,h.body=l,h.errorHandler=NC(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,HC,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))}},{key:"_fetchStatus",value:function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,a=new TC(n,"POST",(function(e){var t=UC(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(a){CC(!1)}n||CC(!1);var i=Number(n);return CC(!isNaN(i)),new FC(i,r.size(),"final"===t)}),i);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=NC(t),a}(e._ref.storage,e._ref._location,t,e._blob),a=e._ref.storage._makeRequest(i,HC,n,r);e._request=a,a.getPromise().then((function(t){e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))}},{key:"_continueUpload",value:function(){var e=this,t=VC*this._chunkMultiplier,n=new FC(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,a){var o;try{o=jC(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(s){return e._error=s,void e._transition("error")}var u=e._ref.storage._makeRequest(o,HC,i,a);e._request=u,u.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))}},{key:"_increaseMultiplier",value:function(){VC*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken((function(t,n){var r=OC(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,HC,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken((function(t,n){var r=MC(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,HC,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))}},{key:"_updateProgress",value:function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=qT(),this._state=e,this._notifyObservers()}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}},{key:"snapshot",get:function(){var e=BC(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}},{key:"on",value:function(e,t,n,r){var i=this,a=new qC(t||void 0,n||void 0,r||void 0);return this._addObserver(a),function(){i._removeObserver(a)}}},{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch(BC(this._state)){case zC.SUCCESS:WC(this._resolve.bind(null,this.snapshot))();break;case zC.CANCELED:case zC.ERROR:WC(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){switch(BC(this._state)){case zC.RUNNING:case zC.PAUSED:e.next&&WC(e.next.bind(e,this.snapshot))();break;case zC.SUCCESS:e.complete&&WC(e.complete.bind(e))();break;default:e.error&&WC(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}]),e}(),$C=function(){function e(t,n){Rt(this,e),this._service=t,this._location=n instanceof XT?n:XT.makeFromUrl(n,t.host)}return(0,Nt.Z)(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new XT(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return gC(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new XT(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw HT(e)}}]),e}();function YC(e,t,n){return XC.apply(this,arguments)}function XC(){return(XC=Ct(Et().mark((function e(t,n,r){var i,a,o,u;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={pageToken:r},e.next=3,JC(t,o);case 3:if(u=e.sent,(i=n.prefixes).push.apply(i,(0,$e.Z)(u.prefixes)),(a=n.items).push.apply(a,(0,$e.Z)(u.items)),null==u.nextPageToken){e.next=9;break}return e.next=9,YC(t,n,u.nextPageToken);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function JC(e,t){null!=t&&"number"===typeof t.maxResults&&rC("options.maxResults",1,1e3,t.maxResults);var n=t||{},r=DC(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,HC)}function eA(e,t){e._throwIfRoot("updateMetadata");var n=function(e,t,n,r){var i=iC(t.fullServerUrl(),e.host,e._protocol),a=IC(n,r),o=e.maxOperationRetryTime,u=new TC(i,"PATCH",AC(e,r),o);return u.headers={"Content-Type":"application/json; charset=utf-8"},u.body=a,u.errorHandler=PC(t),u}(e.storage,e._location,t,xC());return e.storage.makeRequestWithTokens(n,HC)}function tA(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=iC(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new TC(r,"GET",RC(e,n),i);return a.errorHandler=PC(t),a}(e.storage,e._location,xC());return e.storage.makeRequestWithTokens(t,HC).then((function(e){if(null===e)throw new ZT("no-download-url","The given file does not have any download URLs.");return e}))}function nA(e){e._throwIfRoot("deleteObject");var t=function(e,t){var n=iC(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new TC(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=PC(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,HC)}function rA(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new XT(e._location.bucket,n);return new $C(e.storage,r)}function iA(e,t){if(e instanceof sA){var n=e;if(null==n._bucket)throw new ZT("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new $C(n,n._bucket);return null!=t?iA(r,t):r}return void 0!==t?rA(e,t):e}function aA(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof sA)return new $C(e,t);throw KT("To use ref(service, url), the first argument must be a Storage instance.")}return iA(e,t)}function oA(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:XT.makeFromBucketSpec(n,e)}function uA(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:Qt(i,e.app.options.projectId))}var sA=function(){function e(t,n,r,i,a){Rt(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=jT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?XT.makeFromBucketSpec(i,this._host):oA(this._host,this.app.options)}return(0,Nt.Z)(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=XT.makeFromBucketSpec(this._url,e):this._bucket=oA(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){rC("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){rC("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=Ct(Et().mark((function e(){var t,n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=Ct(Et().mark((function e(){var t,n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new $C(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this;if(this._deleted)return new JT(GT());var a=function(e,t,n,r,i,a){var o=aC(e.urlParams),u=e.url+o,s=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(s,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(s,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(s,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(s,r),new oC(u,e.method,s,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,n,r,t,this._firebaseVersion);return this._requests.add(a),a.getPromise().then((function(){return i._requests.delete(a)}),(function(){return i._requests.delete(a)})),a}},{key:"makeRequestWithTokens",value:function(){var e=Ct(Et().mark((function e(t,n){var r,i,a,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=(0,Qe.Z)(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),cA="@firebase/storage",lA="0.9.6",fA="storage";function hA(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new QC(e,new yC(t),n)}(e=mn(e),t,n)}function dA(e){return function(e){e._throwIfRoot("getMetadata");var t=OC(e.storage,e._location,xC());return e.storage.makeRequestWithTokens(t,HC)}(e=mn(e))}function pA(e){return function(e){var t={prefixes:[],items:[]};return YC(e,t).then((function(){return t}))}(e=mn(e))}function vA(e,t){return aA(e=mn(e),t)}function yA(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};uA(e,t,n,r)}function mA(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new sA(r,i,a,n,hr)}ar(new gn(fA,mA,"PUBLIC").setMultipleInstances(!0)),gr(cA,lA,""),gr(cA,lA,"esm2017");var gA=function(){function e(t,n,r){Rt(this,e),this._delegate=t,this.task=n,this.ref=r}return(0,Nt.Z)(e,[{key:"bytesTransferred",get:function(){return this._delegate.bytesTransferred}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"state",get:function(){return this._delegate.state}},{key:"totalBytes",get:function(){return this._delegate.totalBytes}}]),e}(),kA=function(){function e(t,n){Rt(this,e),this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return(0,Nt.Z)(e,[{key:"snapshot",get:function(){return new gA(this._delegate.snapshot,this,this._ref)}},{key:"then",value:function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new gA(t,n,n._ref))}),t)}},{key:"on",value:function(e,t,n,r){var i=this,a=void 0;return t&&(a="function"===typeof t?function(e){return t(new gA(e,i,i._ref))}:{next:t.next?function(e){return t.next(new gA(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,n||void 0,r||void 0)}}]),e}(),bA=function(){function e(t,n){Rt(this,e),this._delegate=t,this._service=n}return(0,Nt.Z)(e,[{key:"prefixes",get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new wA(t,e._service)}))}},{key:"items",get:function(){var e=this;return this._delegate.items.map((function(t){return new wA(t,e._service)}))}},{key:"nextPageToken",get:function(){return this._delegate.nextPageToken||null}}]),e}(),wA=function(){function e(t,n){Rt(this,e),this._delegate=t,this.storage=n}return(0,Nt.Z)(e,[{key:"name",get:function(){return this._delegate.name}},{key:"bucket",get:function(){return this._delegate.bucket}},{key:"fullPath",get:function(){return this._delegate.fullPath}},{key:"toString",value:function(){return this._delegate.toString()}},{key:"child",value:function(t){var n=function(e,t){return rA(e,t)}(this._delegate,t);return new e(n,this.storage)}},{key:"root",get:function(){return new e(this._delegate.root,this.storage)}},{key:"parent",get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)}},{key:"put",value:function(e,t){return this._throwIfRoot("put"),new kA(hA(this._delegate,e,t),this)}},{key:"putString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:lC.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");var r=hC(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new kA(new QC(this._delegate,new yC(r.data,!0),i),this)}},{key:"listAll",value:function(){var e=this;return pA(this._delegate).then((function(t){return new bA(t,e.storage)}))}},{key:"list",value:function(e){var t=this;return function(e,t){return JC(e=mn(e),t)}(this._delegate,e||void 0).then((function(e){return new bA(e,t.storage)}))}},{key:"getMetadata",value:function(){return dA(this._delegate)}},{key:"updateMetadata",value:function(e){return function(e,t){return eA(e=mn(e),t)}(this._delegate,e)}},{key:"getDownloadURL",value:function(){return tA(mn(this._delegate))}},{key:"delete",value:function(){return this._throwIfRoot("delete"),nA(mn(this._delegate))}},{key:"_throwIfRoot",value:function(e){if(""===this._delegate._location.path)throw HT(e)}}]),e}(),xA=function(){function e(t,n){Rt(this,e),this.app=t,this._delegate=n}return(0,Nt.Z)(e,[{key:"maxOperationRetryTime",get:function(){return this._delegate.maxOperationRetryTime}},{key:"maxUploadRetryTime",get:function(){return this._delegate.maxUploadRetryTime}},{key:"ref",value:function(e){if(_A(e))throw KT("ref() expected a child path but got a URL, use refFromURL instead.");return new wA(vA(this._delegate,e),this)}},{key:"refFromURL",value:function(e){if(!_A(e))throw KT("refFromURL() expected a full URL but got a child path, use ref() instead.");try{XT.makeFromUrl(e,this._delegate.host)}catch(t){throw KT("refFromUrl() expected a valid full URL but got an invalid one.")}return new wA(vA(this._delegate,e),this)}},{key:"setMaxUploadRetryTime",value:function(e){this._delegate.maxUploadRetryTime=e}},{key:"setMaxOperationRetryTime",value:function(e){this._delegate.maxOperationRetryTime=e}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};yA(this._delegate,e,t,n)}}]),e}();function _A(e){return/^[A-Za-z]+:\/\//.test(e)}function SA(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new xA(r,i)}!function(e){var t={TaskState:zC,TaskEvent:ZC,StringFormat:lC,Storage:xA,Reference:wA};e.INTERNAL.registerComponent(new gn("storage-compat",SA,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.1.14")}(zr);var IA=zr.initializeApp({apiKey:"AIzaSyDc7sOzC5lSgmSJN7MfNiYwZaFlKX9tT0s",authDomain:"chat-app-d4df0.firebaseapp.com",projectId:"chat-app-d4df0",storageBucket:"chat-app-d4df0.appspot.com",messagingSenderId:"890912858576",appId:"1:890912858576:web:8ff8a1401cd54d966559d5",measurementId:"G-YHGJCE9WQL"}).firestore(),EA=zr.auth(),TA=new zr.auth.GoogleAuthProvider,CA=(zr.storage(),IA),AA="SET_USER",RA="SET_LOADING_STATUS",NA="GET_CHATS",PA=function(e){return{type:AA,user:e}};function OA(){return function(e){var t;CA.collection("chat_history").orderBy("actor.date","asc").onSnapshot((function(n){t=n.docs.map((function(e){return e.data()})),e(function(e){return{type:NA,payload:e}}(t))}))}}var DA,LA,MA,FA,UA,VA=n(184),jA=xt((function(e){return{user:e.userState.user}}),(function(e){return{signOut:function(){return e((function(e){EA.signOut().then((function(){e(PA(null))})).catch((function(e){console.log(e.message)}))}))}}}))((function(e){return(0,VA.jsxs)(ZA,{children:[(0,VA.jsxs)("div",{children:[(0,VA.jsx)(Ze,{src:e.user.photoURL}),(0,VA.jsx)("p",{children:e.user.displayName})]}),(0,VA.jsx)("button",{onClick:function(){return e.signOut()},children:"Logout"})]})})),ZA=De.div(DA||(DA=i(["\n  display: flex;\n  justify-content: space-between;\n  padding: 10px;\n\n  & > div {\n    display: flex;\n    align-items: center;\n\n    & > p {\n      margin-left: 10px;\n    }\n  }\n\n  & > button {\n    border-radius: 5px;\n    border: 1px solid rgba(0, 0, 0, 0.2);\n    cursor: pointer;\n\n    &:hover {\n      background: #89c4f4;\n    }\n  }\n"]))),zA=n(1649),BA=xt((function(e){return{user:e.userState.user}}),(function(e){return{postChat:function(t){return e(function(e){return function(t){CA.collection("chat_history").add({actor:{id:e.user.uid,name:e.user.displayName,date:e.timestamp,image:e.user.photoURL},content:e.content})}}(t))}}}))((function(e){var n=(0,t.useState)(""),r=(0,Qe.Z)(n,2),i=r[0],a=r[1],o=function(e){a("")};return(0,VA.jsx)(qA,{children:(0,VA.jsxs)(WA,{children:[(0,VA.jsx)("input",{value:i,onChange:function(e){return a(e.target.value)},placeholder:"Type a message",type:"text"}),(0,VA.jsx)("button",{type:"submit",disabled:!i,onClick:function(t){return function(t){t.preventDefault();var n={user:e.user,content:i,timestamp:zr.firestore.Timestamp.now()};e.postChat(n),o(t)}(t)},children:(0,VA.jsx)(zA.Z,{})})]})})})),qA=De.div(LA||(LA=i(["\n  background: rgba(0, 0, 0, 0.1);\n  display: flex;\n  backdrop-filter: blur(15px);\n  border: 0;\n  width: 100%;\n"]))),WA=De.form(MA||(MA=i(["\n  margin: 10px;\n  width: 100%;\n  height: 40px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  & > input {\n    border-radius: 25px;\n    padding: 0 15px;\n    outline: none;\n    border: none;\n    flex: 1;\n    height: 100%;\n  }\n\n  & > button {\n    background-color: white;\n    border-radius: 25px;\n    margin-left: 5px;\n    border: none;\n    display: flex;\n    cursor: pointer;\n    color: #89c4f4;\n\n    & > :first-child {\n      font-size: 30px;\n      padding: 5px;\n    }\n\n    &:hover {\n      background-color: #89c4f4;\n      color: white;\n    }\n  }\n"]))),KA=xt((function(e){return{user:e.userState.user,loading:e.chatState.loading,chats:e.chatState.chats}}),(function(e){return{getChats:function(){return e(OA())}}}))((function(e){return(0,t.useEffect)((function(){e.getChats()}),[]),(0,VA.jsx)(GA,{children:e.chats.length>0&&e.chats.map((function(t,n){return(0,VA.jsxs)(HA,{children:[t.actor.id!==e.user.uid&&(0,VA.jsx)(Ze,{src:t.actor.image}),(0,VA.jsxs)("div",{className:"chat__message ".concat(t.actor.id===e.user.uid&&"chat__receiver"),children:[(0,VA.jsx)("span",{className:"chat__name",children:t.actor.name}),t.content,(0,VA.jsx)("span",{className:"chat__timestamp",children:t.actor.date.toDate().toLocaleDateString()})]}),t.actor.id===e.user.uid&&(0,VA.jsx)(Ze,{src:t.actor.image})]},n)}))})})),GA=De.div(FA||(FA=i(["\n  backdrop-filter: blur(15px);\n  border: 0;\n  overflow-y: auto;\n"]))),HA=De.div(UA||(UA=i(["\n  display: flex;\n  margin: 20px;\n\n  @media (max-width: 425px) {\n    margin: 10px;\n  }\n\n  & > .chat__message {\n    margin-left: 5px;\n    position: relative;\n    font-size: 16px;\n    padding: 10px;\n    width: fit-content;\n    border-radius: 10px;\n    background-color: #ffffff;\n    margin-bottom: 10px;\n  }\n\n  .chat__timestamp {\n    margin-left: 10px;\n    font-size: xx-small;\n  }\n\n  .chat__name {\n    position: absolute;\n    top: -15px;\n    font-size: xx-small;\n  }\n\n  & > .chat__receiver {\n    margin-right: 5px;\n    margin-left: auto;\n    background-color: #dcf8c6;\n  }\n"]))),QA=n.p+"static/media/background.bded4f44087fb4e89252.png";var $A,YA,XA,JA=n.p+"static/media/google.c2362966a4a06e68d30ecf01dbfb13d1.svg",eR=xt((function(e){return{user:e.userState.user}}),(function(e){return{signIn:function(){return e((function(e){EA.signInWithPopup(TA).then((function(t){e(PA(t.user))})).catch((function(e){return alert(e.message)}))}))}}}))((function(e){return(0,VA.jsxs)(tR,{children:[(0,VA.jsx)("h2",{children:"Welcome"}),(0,VA.jsx)("h3",{children:"This is an online group chat website"}),(0,VA.jsxs)("button",{onClick:function(){return e.signIn()},children:[(0,VA.jsx)("img",{src:JA,alt:""}),"Sign in with Google"]})]})})),tR=De.div($A||($A=i(["\n  text-align: center;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n\n  & > h2 {\n    font-size: 50px;\n    text-transform: uppercase;\n    color: #131313;\n    letter-spacing: 0.15em;\n    text-shadow: 1px -1px 0 #767676, -1px 2px 1px #737272, -2px 4px 1px #767474,\n      -3px 6px 1px #787777, -4px 8px 1px #7b7a7a, -5px 10px 1px #7f7d7d,\n      -6px 12px 1px #828181, -7px 14px 1px #868585, -8px 16px 1px #8b8a89,\n      -9px 18px 1px #8f8e8d, -10px 20px 1px #949392, -11px 22px 1px #999897,\n      -12px 24px 1px #9e9c9c, -13px 26px 1px #a3a1a1, -14px 28px 1px #a8a6a6,\n      -15px 30px 1px #adabab, -16px 32px 1px #b2b1b0, -17px 34px 1px #b7b6b5,\n      -18px 36px 1px #bcbbba, -19px 38px 1px #c1bfbf, -20px 40px 1px #c6c4c4,\n      -21px 42px 1px #cbc9c8, -22px 44px 1px #cfcdcd, -23px 46px 1px #d4d2d1,\n      -24px 48px 1px #d8d6d5, -25px 50px 1px #dbdad9, -26px 52px 1px #dfdddc,\n      -27px 54px 1px #e2e0df, -28px 56px 1px #e4e3e2;\n\n    @media (max-width: 425px) {\n      font-size: 35px;\n    }\n  }\n\n  & > h3 {\n    text-transform: capitalize;\n    font-size: 20px;\n    font-weight: 100;\n\n    @media (max-width: 425px) {\n      font-size: 15px;\n      font-weight: 500;\n    }\n  }\n\n  & > button {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: fit-content;\n    margin-top: 30px;\n    font-size: 15px;\n    font-weight: 550;\n    padding: 15px;\n    border-radius: 15px;\n    border: 1px solid rgba(0, 0, 0, 0.25);\n\n    @media (max-width: 425px) {\n      font-size: 12px;\n      font-weight: 500;\n      padding: 10px;\n    }\n  }\n"]))),nR=De.div(YA||(YA=i(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  margin-top: 20px;\n"]))),rR=De.div(XA||(XA=i(["\n  display: flex;\n  flex-direction: column;\n  box-shadow: -2px 0px 74px 4px rgba(0, 0, 0, 0.75);\n  -webkit-box-shadow: -2px 0px 74px 4px rgba(0, 0, 0, 0.75);\n  -moz-box-shadow: -2px 0px 74px 4px rgba(0, 0, 0, 0.75);\n  height: 95vh;\n  width: 50rem;\n\n  @media (max-width: 768px) {\n    width: 90vw;\n  }\n\n  & > :nth-child(2) {\n    flex: 1;\n    background-image: url(",");\n    background-size: contain;\n    background-repeat: repeat;\n    background-position: center;\n    border: 1px solid rgba(0, 0, 0, 0.1);\n  }\n"])),QA),iR=xt((function(e){return{user:e.userState.user}}),(function(e){return{getUserAuth:function(){return e((function(e){EA.onAuthStateChanged(function(){var t=Ct(Et().mark((function t(n){return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n&&e(PA(n));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}))}}}))((function(e){return(0,t.useEffect)((function(){e.getUserAuth()}),[]),(0,VA.jsx)(nR,{children:(0,VA.jsx)(rR,{children:e.user?(0,VA.jsxs)(VA.Fragment,{children:[(0,VA.jsx)(jA,{}),(0,VA.jsx)(KA,{}),(0,VA.jsx)(BA,{})]}):(0,VA.jsx)(eR,{})})})}));var aR=function(){return(0,VA.jsx)("div",{className:"App",children:(0,VA.jsx)(iR,{})})},oR=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))},uR=n(7781);function sR(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var cR=sR();cR.withExtraArgument=sR;var lR=cR,fR={user:null},hR=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fR,t=arguments.length>1?arguments[1]:void 0;return t.type===AA?(0,Pn.Z)((0,Pn.Z)({},e),{},{user:t.user}):e},dR={chats:[],loading:!1},pR=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dR,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case RA:return(0,Pn.Z)((0,Pn.Z)({},e),{},{loading:t.status});case NA:return(0,Pn.Z)((0,Pn.Z)({},e),{},{chats:t.payload});default:return e}},vR=(0,uR.UY)({userState:hR,chatState:pR}),yR=n(5484),mR=(0,uR.MT)(vR,(0,yR.Uo)((0,uR.md)(lR)));r.createRoot(document.getElementById("root")).render((0,VA.jsx)(t.StrictMode,{children:(0,VA.jsx)(_t,{store:mR,children:(0,VA.jsx)(aR,{})})})),oR()}()}();
//# sourceMappingURL=main.6605e2a7.js.map